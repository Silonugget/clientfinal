!function(){function t(t){return function(t){if(Array.isArray(t))return v(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||k(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(){return e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var r=n(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:i):o.value}},e.apply(this,arguments)}function n(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e)}function r(t,e){return r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},r(t,e)}function o(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var r=s(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return a(this,n)}}function a(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return l(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var i,r,o=[],a=!0,l=!1;try{for(n=n.call(t);!(a=(i=n.next()).done)&&(o.push(i.value),!e||o.length!==e);a=!0);}catch(s){l=!0,r=s}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return o}(t,e)||k(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c(t,e,n,i,r,o,a){try{var l=t[o](a),s=l.value}catch(h){return void n(h)}l.done?e(s):Promise.resolve(s).then(i,r)}function g(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function a(t){c(o,i,r,a,l,"next",t)}function l(t){c(o,i,r,a,l,"throw",t)}a(void 0)}))}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function w(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function m(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=k(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){l=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function k(t,e){if(t){if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var y=document.createElement("style");y.innerHTML='@-webkit-keyframes parchleft{0%,to{left:0}45%,55%{left:41%}}@keyframes parchleft{0%,to{left:0}45%,55%{left:41%}}@-webkit-keyframes parchright{0%,to{right:0}45%,55%{right:41%}}@keyframes parchright{0%,to{right:0}45%,55%{right:41%}}@-webkit-keyframes parchmiddle3{0%,to{width:1038px;margin-left:-519px;background-position:-114px -882px}45%,55%{width:0;margin-left:0;background-position:-633px -882px}}@keyframes parchmiddle3{0%,to{width:1038px;margin-left:-519px;background-position:-114px -882px}45%,55%{width:0;margin-left:0;background-position:-633px -882px}}@-webkit-keyframes parchmiddle2{0%,to{width:692px;margin-left:-346px;background-position:-76px -588px}45%,55%{width:0;margin-left:0;background-position:-422px -588px}}@keyframes parchmiddle2{0%,to{width:692px;margin-left:-346px;background-position:-76px -588px}45%,55%{width:0;margin-left:0;background-position:-422px -588px}}@-webkit-keyframes parchmiddle1{0%,to{width:346px;margin-left:-173px;background-position:-38px -294px}45%,55%{width:0;margin-left:0;background-position:-211px -294px}}@keyframes parchmiddle1{0%,to{width:346px;margin-left:-173px;background-position:-38px -294px}45%,55%{width:0;margin-left:0;background-position:-211px -294px}}@-webkit-keyframes blink{50%{color:transparent}}@keyframes blink{50%{color:transparent}}@-webkit-keyframes flash{0%{background-color:#ffa2a2}to{background-color:#e22525}}@keyframes flash{0%{background-color:#ffa2a2}to{background-color:#e22525}}@-webkit-keyframes flash-green{0%{background-color:#a2ffa2}to{background-color:#25e225}}@keyframes flash-green{0%{background-color:#a2ffa2}to{background-color:#25e225}}@-webkit-keyframes flash-poison{0%{background-color:#0cab3c}to{background-color:#035819}}@keyframes flash-poison{0%{background-color:#0cab3c}to{background-color:#035819}}body.game{background:#000}.game #load-character,.game #create-character,.game #error{display:none}.game #parchment{z-index:0;transition:.5s opacity linear .5s,z-index 0s linear 1s;top:50%}.game #credits,.game #death,.game #about,.game #git{opacity:0;transition:0s opacity linear 0s;z-index:1000}.game .parchment-left{transition:.5s left ease-in-out;left:41%}.game .parchment-right{transition:.5s right ease-in-out;right:41%}.game.credits #credits,.game.death #death,.game.about #about,.game.git #git{opacity:1;transition:.5s opacity linear .5s;z-index:1000}.game.credits #parchment,.game.death #parchment,.game.about #parchment,.game.git #parchment{opacity:1;transition:.5s opacity linear 0s;z-index:1000}.game.credits .parchment-left,.game.death .parchment-left,.game.about .parchment-left,.game.git .parchment-left{left:0}.game.credits .parchment-right,.game.death .parchment-right,.game.about .parchment-right,.game.git .parchment-right{right:0}.game .parchment-middle{transition:.5s width ease-in-out,.5s margin-left ease-in-out,.5s background-position ease-in-out;width:0;margin-left:0}.game #container{opacity:1}@media only screen and (min-width: 1501px){.game .parchment-middle{background-position:-633px -882px}.game.credits .parchment-middle,.game.death .parchment-middle,.game.git .parchment-middle,.game.about .parchment-middle{width:1038px;margin-left:-519px;background-position:-114px -882px}}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background-color:transparent}canvas{position:absolute;image-rendering:optimizespeed;image-rendering:crisp-edges;image-rendering:optimize-contrast;image-rendering:-o-crisp-edges;-ms-interpolation-mode:nearest-neighbor;image-rendering:-moz-crisp-edges;image-rendering:pixelated}html{background-color:#000}#background,#text-canvas,#foreground,#cursor,#overlay{margin:0;padding:0}#container{z-index:100;background-color:rgba(0,0,0,.2);transition:1s opacity linear;width:100%;height:100%;margin:0;position:inherit}footer{font-family:AdvoCut,sans-serif;position:absolute;bottom:5%;left:0;text-align:center;width:100%;color:#c6c0a3;text-shadow:0 1px 0 black;transition:.2s opacity linear;font-size:18px}.game footer{color:#8a8a8a;opacity:0}.intro footer,footer:hover{opacity:1}footer div{display:inline-block;padding:0 5px}footer div span:hover{color:#fcda5c;cursor:pointer}#canvas,#foreground,#background,#text-canvas,#overlay,#container,#border,#cursor{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:none}#foreground,#background,#entities,#cursor,#overlay{transform:translateZ(0)}.parchment-left,.parchment-middle,.parchment-right,#respawn{image-rendering:optimize-contrast;image-rendering:crisp-edges;-ms-interpolation-mode:nearest-neighbor;image-rendering:-moz-crisp-edges;image-rendering:pixelated}#death p{margin-top:10%}#respawn{margin-top:5%}#parchment,#parchment input,#parchment select{font-family:AdvoCut,sans-serif}#parchment input{width:50%;background-color:rgba(0,0,0,.05);text-align:center;color:#eee;-webkit-animation:glow .5s linear infinite alternate;animation:glow .5s linear infinite alternate}#parchment input:focus{border-color:rgba(0,0,0,.3);background-color:rgba(0,0,0,.1);color:#fff;-webkit-animation:none;animation:none}#parchment input.field-error{background-color:rgba(255,0,0,.1);border-color:#f84444}#parchment select{width:25%;background-color:rgba(0,0,0,.05);text-align:center;color:#000}#intro{transition:.4s opacity linear}#alert{height:50px;width:100%;background-color:#d83939;color:#eee;font-size:20px;font-family:AdvoCut,arial,sans-serif;text-align:center;line-height:50px;border-bottom:1px solid #000}#parchment{opacity:0}#parchment,#create-character,#load-character,#error{position:absolute;top:55%;left:50%;text-align:center;z-index:2}.intro footer,.intro #logo,.intro #parchment{opacity:1}.intro #container{opacity:0;pointer-events:none}#parchment p{font-family:AdvoCut,sans-serif}#credits,#git,#about,#load-character,#create-character,#death,#error{opacity:0;pointer-events:none;transition:none;position:absolute;left:50%;text-align:center;font-family:AdvoCut,sans-serif;z-index:1000}#credits,#about,#death,#git{top:50%}#load-character form,#create-character form{position:relative}.credits #credits,.about #about,.git #git,.death #death,.error #error,.create-character #create-character,.load-character #load-character{opacity:1;pointer-events:auto;transition:.5s opacity linear}.parchment-left{position:absolute;top:0;left:0}.parchment-right{position:absolute;top:0;right:0}.parchment-middle{position:absolute;left:50%;top:0}.animate .parchment-left{-webkit-animation:parchleft 1s ease-in-out 1;animation:parchleft 1s ease-in-out 1}.animate .parchment-right{-webkit-animation:parchright 1s ease-in-out 1;animation:parchright 1s ease-in-out 1}.loader{position:relative;margin-top:25%}.loader-dot{-webkit-animation:1s blink infinite;animation:1s blink infinite}.loader-dot:nth-child(2){-webkit-animation-delay:.25s;animation-delay:.25s}.loader-dot:nth-child(3){-webkit-animation-delay:.5s;animation-delay:.5s}#border{position:absolute;width:100%;height:100%;left:0;top:0;margin-left:0;border:0;padding:0;background:none}@media only screen and (min-width: 1501px){#credits,#about,#death,#git{width:1266px;height:546px;margin-left:-633px;margin-top:-273px;font-size:30px}.parchment-left,.parchment-middle,.parchment-right,#respawn{background-image:url(/img/3/spritesheet.png);background-size:1266px auto}.parchment-left{width:114px;height:546px;background-position:0 -882px}.parchment-middle{width:1038px;height:546px;background-position:-114px -882px;margin-left:-519px}.parchment-right{width:114px;height:546px;background-position:-1152px -882px}#parchment,#create-character,#load-character,#error{width:1266px;height:546px;margin-left:-633px;margin-top:-273px}#parchment input,#parchment select{padding:0 15px;border:3px dashed #b2af9b;font-size:30px;border-radius:9px}#parchment input{margin-top:30px;height:60px}#parchment select{margin-top:24px;height:48px}}@media only screen and (max-width: 1500px),only screen and (max-height: 870px){#credits,#about,#death,#git{width:844px;height:364px;margin-left:-422px;margin-top:-182px;font-size:20px}.parchment-left,.parchment-middle,.parchment-right,#respawn{background-image:url(/img/2/spritesheet.png);background-size:844px auto}.parchment-left{width:76px;height:364px;background-position:0 -588px}.parchment-middle{width:692px;height:364px;background-position:-76px -588px;margin-left:-346px}.parchment-right{width:76px;height:364px;background-position:-768px -588px}#parchment,#create-character,#load-character,#error{width:844px;height:364px;margin-left:-422px;margin-top:-182px}#parchment input,#parchment select{padding:0 10px;border:2px dashed #b2af9b;font-size:20px;border-radius:6px}#parchment input{margin-top:20px;height:40px}#parchment select{margin-top:16px;height:32px}}@media only screen and (max-width: 1000px){#credits,#about,#death,#git{width:422px;height:182px;margin-left:-211px;margin-top:-91px;font-size:10px}.parchment-left,.parchment-middle,.parchment-right,#respawn{background-image:url(/img/1/spritesheet.png);background-size:422px auto}.parchment-left{width:38px;height:182px;background-position:0 -294px}.parchment-middle{width:346px;height:182px;background-position:-38px -294px;margin-left:-173px}.parchment-right{width:38px;height:182px;background-position:-384px -294px}#parchment,#create-character,#load-character,#error{width:422px;height:182px;margin-left:-211px;margin-top:-91px}#parchment input,#parchment select{padding:0 5px;border:1px dashed #b2af9b;font-size:10px;border-radius:3px}#parchment input{margin-top:10px;height:20px}#parchment select{margin-top:8px;height:16px}}@media only screen and (min-width: 1501px){.intro footer{font-size:28px}#parchment,#create-character,#load-character,#error{font-size:20px}#parchment.create-character input{margin-top:24px;height:45px}.animate .parchment-middle{-webkit-animation:parchmiddle3 1s ease-in-out 1;animation:parchmiddle3 1s ease-in-out 1}.game.death .parchment-middle{width:1038px;margin-left:-519px;background-position:-114px -882px}.loader{margin-top:27%;font-size:26px}#respawn{width:375px;height:153px;margin:63px auto 0;background-position:0 -1428px}#respawn:active{background-position:-375px -1428px}}@media only screen and (max-width: 1500px),only screen and (max-height: 870px){#parchment,#create-character,#load-character,#error{font-size:20px}#parchment.create-character input{margin-top:15px;height:30px}.animate .parchment-middle{-webkit-animation:parchmiddle2 1s ease-in-out 1;animation:parchmiddle2 1s ease-in-out 1}.game.death .parchment-middle{width:692px;margin-left:-346px;background-position:-76px -588px}#respawn{width:250px;height:102px;margin:42px auto 0;background-position:0 -952px}#respawn:active{background-position:-250px -952px}}@media only screen and (max-width: 1000px){#parchment,#create-character,#load-character,#error{font-size:10px}#parchment.create-character input{margin-top:8px;height:15px}.animate .parchment-middle{-webkit-animation:parchmiddle1 1s ease-in-out 1;animation:parchmiddle1 1s ease-in-out 1}.game.death .parchment-middle{width:346px;margin-left:-173px;background-position:-38px -294px}#respawn{width:125px;height:51px;margin:21px auto 0;background-position:0 -476px}#respawn:active{background-position:-125px -476px}#canvas,#foreground,#background,#text-canvas,#overlay,#container,#border,#cursor{cursor:default}}.tablet .animate .parchment-left,.tablet .animate .parchment-right,.tablet .animate .parchment-middle{-webkit-animation:none;animation:none}.patreon-widget{display:none;float:right;padding:1em;width:176px;height:35px!important}.intro .patreon-widget{display:block}body{line-height:1;padding:0;margin:0;overflow:hidden;touch-action:manipulation;image-rendering:crisp-edges;-ms-interpolation-mode:nearest-neighbor;image-rendering:-moz-crisp-edges;image-rendering:pixelated;background:linear-gradient(to bottom,rgba(0,0,0,0),rgba(0,0,0,0),rgba(0,0,0,.6)),url(/img/tile.png) center center;background-size:auto}ol,ul{list-style:none}blockquote,q{quotes:none}:focus{outline:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}article,aside,details,figcaption,figure,footer,header,menu,nav,section{display:block}@font-face{font-family:AdvoCut;src:url(/fonts/advocut/advocut-webfont.eot);src:url(/fonts/advocut/advocut-webfont.eot?#iefix) format("embedded-opentype"),url(/fonts/advocut/advocut-webfont.woff) format("woff"),url(/fonts/advocut/advocut-webfont.ttf) format("truetype"),url(/fonts/advocut/advocut-webfont.svg#AndinaRegular) format("svg");font-weight:400;font-style:normal;font-display:swap}.gp{font-family:AdvoCut,sans-serif}html,body{top:0;left:0;width:100%;height:100vh;position:absolute;overflow:hidden}.left-ornament,.right-ornament{position:relative;display:inline-block;image-rendering:crisp-edges;-ms-interpolation-mode:nearest-neighbor;image-rendering:-moz-crisp-edges;image-rendering:pixelated}.link:hover{cursor:pointer;color:#d83939}.validation-summary{margin:.5em auto;height:1em}.validation-error{color:#800;text-shadow:2px 2px 2px #f66;font-size:15px}.status{color:#03c;text-shadow:2px 2px 2px #39f;font-size:15px}#bubbles{width:100%;height:100%;top:0;left:0;pointer-events:none;overflow:hidden;z-index:5;position:absolute;font-family:AdvoCut,sans-serif}#bubbles p{margin-top:6px}#bubbles a{pointer-events:auto;text-decoration:none;color:#fcda5c}.pointer{display:inline-block;position:absolute;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.bubble{background-color:rgba(45,45,45,.9);padding:3px 10px 0;border-radius:8px;color:rgba(255,255,255,.8);display:inline-block;text-align:center;position:absolute;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.bubble-tip{width:11px;height:10px;top:10px;background-image:url(/img/thingy.png);margin:0 auto;position:relative}#chat-input{width:100%;height:100%;color:#fff;background-color:rgba(0,0,0,.75);border-radius:4px;font-family:AdvoCut,sans-serif}#ability-shortcut{left:38%;position:absolute}#chat{display:none;position:absolute;pointer-events:none;left:5%;bottom:10%}#chat p{font-family:AdvoCut,sans-serif}#chat-log{width:100%;height:100%;margin-top:-44%;overflow-y:hidden;text-shadow:2px 2px 2px black;font-size:16px;font-weight:700}#talk{width:100%}#talk .input{color:#eee;background:none;width:90%;margin-left:2%;border:0}#login,#new-account{top:120%}#continue,#cancel-button,#play{top:92.5%}#login{left:15%}#cancel-button{left:10%}#new-account{left:60%}#play{left:65%}#remember-me{left:20%}#guest{left:64%}#guest-text{top:5%;left:110%}input[type=range]{width:100%;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-image:-webkit-gradient(linear,left top,right top,color-stop(1,#4d4d4d),color-stop(1,#c5c5c5))}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none!important;appearance:none!important;background-color:#707070;border:1px solid #000}input[type=range]::-webkit-slider-thumb:active{background-color:#fcda5c}audio,video{display:inline-block}audio:not([controls]){display:none;height:0}button,html [type=button],[type=reset],[type=submit]{-webkit-appearance:button;-moz-appearance:button;appearance:button}#about p{width:80%;margin-left:10%;margin-top:5%}.close-about{margin-top:10%}#health,#health-info{cursor:default}#health{background:linear-gradient(to right,#f00,#ef5a5a);transition:.5s width ease}#exp{background:linear-gradient(to left,#4f4,#080);transition:.5s width ease}#health.white{-webkit-animation:flash .5s linear 1;animation:flash .5s linear 1}#health.green{-webkit-animation:flash-green .5s linear 1;animation:flash-green .5s linear 1}#health.poison{-webkit-animation:flash-poison .5s linear 1;animation:flash-poison .5s linear 1}@media only screen and (min-width: 1501px){#parchment h1,#about h1{margin-top:60px}#load-character h1,#create-character h1{margin-top:30px}.left-ornament,.right-ornament{top:9px;background-image:url(/img/3/spritesheet.png);background-size:1266px auto;width:93px;height:36px;margin:0 20px}.left-ornament{background-position-x:-1062px}.right-ornament{background-position-x:-1155px}#chat{width:750px;height:300px}#talk{margin-top:300px;height:30px}#talk .input{font-size:15px;padding:6px 0}#remember-me-text,#guest-text{height:24px;font-size:24px;padding-left:15px}#login{background-position-x:-288px}#new-account{background-position-x:-576px}#cancel-button{background-position-x:-864px}#continue{background-position-x:-1152px}#play,#login,#new-account,#cancel-button,#continue{width:288px;height:81px;background-image:url(/img/3/buttons.png);background-color:transparent;position:absolute;border:none;cursor:pointer}#play:hover,#play:focus,#login:hover,#login:focus,#new-account:hover,#new-account:focus,#cancel-button:hover,#cancel-button:focus,#continue:hover,#continue:focus{background-position-y:-81px}#play:active,#login:active,#new-account:active,#cancel-button:active,#continue:active{background-position-y:-162px}#play:disabled,#login:disabled,#new-account:disabled,#cancel-button:disabled,#continue:disabled{background-position-y:-243px;cursor:wait}.validation-error,.status{font-size:24px}.validation-summary{width:384px}input[type=range]{border-radius:9px;height:9px}input[type=range]::-webkit-slider-thumb{width:15px;height:24px;border-radius:6px}.stroke{text-shadow:3px 3px 0 #373737,3px -3px 0 #373737,0 3px 0 #373737,3px 0 0 #373737,-3px 3px 0 #373737,-3px -3px 0 #373737,0 -3px 0 #373737,0 3px 0 #373737,-3px 0 0 #373737}}@media only screen and (max-width: 1500px),only screen and (max-height: 870px){#parchment h1,#about h1{margin-top:40px}#load-character h1,#create-character h1{margin-top:20px}.left-ornament,.right-ornament{top:6px;background-image:url(/img/2/spritesheet.png);background-size:844px auto;width:62px;height:24px;margin:0 15px}.left-ornament{background-position-x:-708px}.right-ornament{background-position-x:-770px}#chat{width:500px;height:200px}#talk{margin-top:200px;height:20px}#talk .input{font-size:10px;padding:4px 0}#remember-me-text,#guest-text{height:16px;font-size:16px;padding-left:10px}#login{background-position-x:-192px}#new-account{background-position-x:-384px}#cancel-button{background-position-x:-576px}#continue{background-position-x:-768px}#play,#login,#new-account,#cancel-button,#continue{width:192px;height:54px;background-image:url(/img/2/buttons.png);background-color:transparent;position:absolute;border:none;cursor:pointer}#play:hover,#play:focus,#login:hover,#login:focus,#new-account:hover,#new-account:focus,#cancel-button:hover,#cancel-button:focus,#continue:hover,#continue:focus{background-position-y:-54px}#play:active,#login:active,#new-account:active,#cancel-button:active,#continue:active{background-position-y:-108px}#play:disabled,#login:disabled,#new-account:disabled,#cancel-button:disabled,#continue:disabled{background-position-y:-162px;cursor:wait}.validation-error,.status{font-size:16px}.validation-summary{width:256px}input[type=range]{border-radius:6px;height:6px}input[type=range]::-webkit-slider-thumb{width:10px;height:16px;border-radius:4px}.stroke{text-shadow:2px 2px 0 #373737,2px -2px 0 #373737,0 2px 0 #373737,2px 0 0 #373737,-2px 2px 0 #373737,-2px -2px 0 #373737,0 -2px 0 #373737,0 2px 0 #373737,-2px 0 0 #373737}}@media only screen and (max-width: 1000px){#parchment h1,#about h1{margin-top:20px}#load-character h1,#create-character h1{margin-top:10px}.left-ornament,.right-ornament{top:3px;background-image:url(/img/1/spritesheet.png);background-size:422px auto;width:31px;height:12px;margin:0 10px}.left-ornament{background-position-x:-354px}.right-ornament{background-position-x:-385px}#chat{width:250px;height:100px}#talk{margin-top:100px;height:10px}#talk .input{font-size:5px;padding:2px 0}#remember-me-text,#guest-text{height:8px;font-size:8px;padding-left:5px}#login{background-position-x:-96px}#new-account{background-position-x:-192px}#cancel-button{background-position-x:-288px}#continue{background-position-x:-384px}#play,#login,#new-account,#cancel-button,#continue{width:96px;height:27px;background-image:url(/img/1/buttons.png);background-color:transparent;position:absolute;border:none;cursor:pointer}#play:hover,#play:focus,#login:hover,#login:focus,#new-account:hover,#new-account:focus,#cancel-button:hover,#cancel-button:focus,#continue:hover,#continue:focus{background-position-y:-27px}#play:active,#login:active,#new-account:active,#cancel-button:active,#continue:active{background-position-y:-54px}#play:disabled,#login:disabled,#new-account:disabled,#cancel-button:disabled,#continue:disabled{background-position-y:-81px;cursor:wait}.validation-error,.status{font-size:8px}.validation-summary{width:128px}input[type=range]{border-radius:3px;height:3px}input[type=range]::-webkit-slider-thumb{width:5px;height:8px;border-radius:2px}.stroke{text-shadow:1px 1px 0 #373737,1px -1px 0 #373737,0 1px 0 #373737,1px 0 0 #373737,-1px 1px 0 #373737,-1px -1px 0 #373737,0 -1px 0 #373737,0 1px 0 #373737,-1px 0 0 #373737}}@media only screen and (min-width: 1501px){#parchment h1,#load-character h1,#about h1{margin-top:30px;font-size:30px}#create-character h1{margin-top:10px;font-size:30px}.left-ornament,.right-ornament{top:12px}.validation-error,.status{font-size:24px}.stroke{text-shadow:2px 2px 0 #373737,2px -2px 0 #373737,0 2px 0 #373737,2px 0 0 #373737,-2px 2px 0 #373737,-2px -2px 0 #373737,0 -2px 0 #373737,0 2px 0 #373737,-2px 0 0 #373737}#remember-me-text,#guest-text{width:168px}.validation-summary{width:366px}}@media only screen and (max-width: 1500px),only screen and (max-height: 870px){#remember-me-text,#guest-text{width:112px}input[type=range]::-webkit-slider-thumb{height:15px}}@media only screen and (max-width: 1000px){#remember-me-text,#guest-text{width:70px}#yes{left:0}#no{left:40%}#about h1,#credits h1{font-size:16px}}#buttons{position:absolute;bottom:0;right:0;overflow-x:hidden;overflow-y:hidden;background-color:rgba(0,0,0,0);cursor:default}#buttons ul{overflow:hidden;margin:0;padding:0;list-style-type:none;float:right}#buttons ul li{float:left}#notify,#confirm{position:absolute;left:35%;top:45%;display:none;pointer-events:auto}#exclamation,#question{left:10%;top:30%}.done{position:absolute;left:85%;top:70%}#cancel{position:absolute;left:70%;top:70%}#inventory{background-color:rgba(0,0,0,.3);position:absolute;right:5px;bottom:50px;display:none;cursor:default}#inventory ul{overflow:hidden;margin:0;padding:0;list-style-type:none}#inventory ul li{float:left}.item-slot{background-color:rgba(0,0,0,.5);background-size:600%}.item-count,.inventory-item-count{font-family:AdvoCut,sans-serif;color:#fff}#action-container{background-color:rgba(0,0,0,.1);position:absolute;display:none}.action-button{width:128px;height:32px;font-size:20px;background-color:rgba(0,0,0,.3);border:1px solid #707070;font-family:AdvoCut,sans-serif;vertical-align:middle;line-height:normal;text-align:center;color:#c6c0a3;cursor:pointer}.action-button:hover{background-color:rgba(0,0,0,.4);color:#fff;cursor:pointer}.action-button:active{background-color:rgba(0,0,0,.5);color:#fcda5c;cursor:pointer}#drop-dialog{font-family:AdvoCut,sans-serif;font-size:16px;color:#e3e3e3;position:absolute;left:50%;top:50%;margin-left:-100px;margin-right:-28px;padding:5px;background-color:rgba(45,45,45,.8);border-radius:6px;display:none}#drop-count{font-family:AdvoCut,sans-serif}#drop-dialog.active{display:block}#drop-title{text-align:center;margin-bottom:10px}#drop-accept,#drop-cancel{background-color:rgba(120,120,120,.3);cursor:pointer;font-size:18px}#drop-accept:hover,#drop-cancel:hover{background-color:rgba(120,120,120,.4)}#drop-accept:active,#drop-cancel:active{background-color:rgba(120,120,120,.4);color:#fcda5c}#profile-dialog,#settings-page{right:0;bottom:45px;display:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}#navigator{position:absolute;top:89%;left:37%}#sliders{position:absolute;float:right;right:10%;top:15%}#texts{font-family:AdvoCut,sans-serif;position:absolute;float:left;left:10%;top:15%}.check{top:100%;padding-left:1em;display:block;text-align:left;position:absolute;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.check input{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.check .checkmark{position:absolute;top:-1.5px;left:0;height:16px;width:16px}#info{position:absolute;width:100%;height:8%;top:78%;text-align:center}#check-marks{position:absolute;float:right;right:10%;top:41%}#volume,#sfx,#brightness{position:absolute}#sound-check,#camera-check,#debug-check,#centre-check,#name-check,#level-check{left:50%}#attack-info{display:none;position:absolute;left:40%;background-color:rgba(0,0,0,.5)}#attack-info .name,#attack-info .health{position:absolute;text-align:center;font-family:AdvoCut,sans-serif;color:#fff}#attack-info .name{width:100%;overflow:hidden}#attack-info .details{overflow:hidden;text-align:center;font-family:AdvoCut,sans-serif;color:#fff;width:100%}#attack-info .health{width:90%;left:5%;overflow:hidden}#bank{display:none;position:absolute;top:20%;left:25%;cursor:default}#bank-container{float:right}#bank-inventory-container,#enchant-container{float:left}#bank-slot{position:absolute;top:9%}.inventory-slots{position:absolute;top:13%;left:6%}#store-inventory-slots{left:14%}#enchant-inventory-slots{left:13%}.bank-slot{float:left}.bank-image{width:100%;height:100%;background-size:600%}#enchant{position:absolute;display:none;cursor:default;top:50%;left:50%}#trade{position:absolute;display:none;top:10%;left:20%}#trade-player-container,#trade-o-player-container{position:relative;float:left;top:24%}#trade-player-container{left:5%}#trade-o-player-container{left:12.5%}#enchant-selected-item,#enchant-shards{position:absolute;top:80%;background-size:600%}#enchant-selected-item{left:11%}#enchant-shards{left:34%}.close{position:absolute;left:92%;top:-3%}.ok{position:absolute}#message{position:absolute;font-family:AdvoCut,sans-serif;left:42%;top:48%;pointer-events:none}.fade{display:none;position:absolute;background-color:rgba(0,0,0,.3);width:100%;height:98%;top:0;left:0}.skill-slots{position:relative;float:left}#quest-list{position:absolute;top:50%;left:8%;overflow:auto}::-webkit-scrollbar{width:0;background-color:transparent}#achievement-list,#skills-list{position:absolute;top:6%;left:8%;overflow:auto}#ability-shortcut ul{overflow:hidden;padding:0;list-style-type:none;width:128%;margin-left:7%}#ability-shortcut ul li{float:left;margin-top:1%;margin-right:4%}.quest-item,.profession-item{font-family:AdvoCut,sans-serif;width:100%;height:10%}.quest-name,.profession-name{width:98%;text-align:center;float:left;border:2px solid #373737;margin-top:3px;color:#fff;z-index:1;background-color:rgba(51,153,255,.4);font-size:22px}#achievement-count,#quest-count{float:right;right:3%;position:absolute;color:#fff;font-family:AdvoCut,sans-serif;text-align:center}#achievement-count{top:1%}#quest-count{top:45.5%}#map-frame{position:absolute;top:50%;left:50%;background-repeat:no-repeat;pointer-events:auto;display:none;cursor:default;z-index:100}.map-button{position:absolute;background-position-y:0}#close-map-frame{top:0;left:95%}.warp-button{position:absolute}#store{position:absolute;display:none;top:17%;left:50%;cursor:default}#store-inventory-container{position:absolute;top:0;right:100%}#store-container{overflow-y:scroll;position:absolute;font-family:AdvoCut,sans-serif;top:8%;width:85%;height:80%;left:8%}#store-container ul li{padding-bottom:5px}.store-item{display:inline-flex;width:98%;height:5%;border:3px solid rgba(255,255,0,.3);border-radius:10px}.store-item-image{width:32px;height:32px;border:2px solid rgba(0,0,255,.3);transform:scale(.9);border-radius:100%;background-size:600%}.store-item-name,.store-item-count,.store-item-price,.store-item-buy{position:absolute;padding-top:2%;font-size:12px;float:left}.store-item-name{left:20%}.store-item-count{left:55%}.store-item-price{left:65%}.store-item-buy{position:relative;border:2px solid rgba(0,255,0,.3);border-radius:30%;left:75%}.store-item-buy:hover{color:#fff;cursor:pointer}#player-info{position:absolute;top:10px;left:10px}#health-bar-text{vertical-align:middle;text-align:center;font-family:AdvoCut,sans-serif}.profile-info{position:absolute;width:92px;height:12px;line-height:12px;font-family:AdvoCut,sans-serif;font-size:6px;font-weight:700;text-shadow:1px 1px #808080;text-align:center;left:24px}.profile-item-info{position:absolute;font-family:AdvoCut,sans-serif;font-size:12px;font-weight:700;pointer-events:none}#armour-slot-info{text-align:right}#store-sell-slot-return-text,#store-sell-slot-text,#shards-count{color:#000}#confirm-enchant,#confirm-sell{top:80%;left:70%}#worlds-switch{bottom:5px;left:5px;z-index:2;display:none;position:fixed;padding:.5em 1em;color:#fff;cursor:pointer;font-size:1em;font-family:AdvoCut,sans-serif;border:1px solid #555;border-radius:5px;background-color:#d83a39}#current-world-count{font-size:.75em}#current-world-id{opacity:.8;font-size:.75em;text-align:justify}#worlds-popup{display:none;cursor:default;bottom:125%;left:50%;background-color:#555;color:#fff;text-align:justify;border-radius:6px;padding:12px;position:absolute;margin-left:-80px}#worlds-popup:after{content:"";position:absolute;top:100%;left:33%;margin-left:-25px;border-width:5px;border-style:solid;border-color:#555 transparent transparent}#worlds-popup>table th{border-bottom:2px solid #eee}#worlds-popup>table td{padding:12px 24px 10px 16px;border-left:2px solid #fff}.server-list{cursor:pointer}.server-list:hover{background-color:rgba(51,51,51,.667)}.server-list.active{color:#fcda5c;background-color:#333}#notification{position:absolute;opacity:.8;top:100%;left:50%;pointer-events:none;transition:.7s top ease}#notification-text-title{position:relative;top:25%;font-family:AdvoCut,sans-serif;font-size:20px;text-shadow:2px 2px #0e0a00;text-align:center;color:#45ebfc}#notification-text-description{position:relative;top:25%;font-family:AdvoCut,sans-serif;font-size:14px;text-shadow:2px 2px #0e0a00;text-align:center;color:#fff;margin-top:10px}#chat-button,#inventory-button,#profile-button,#settings-button,#warp-button{position:relative;width:42px;height:45px;background:url(/img/3/main.png) no-repeat;background-position-y:-942px}#chat-button{background-position:-588px -987px}#chat-button:hover{background-position-x:-630px}#chat-button.active{background-position-x:-672px}#inventory-button{background-position-x:-588px}#inventory-button:hover{background-position-x:-630px}#inventory-button.active{background-position-x:-672px}#profile-button{background-position-x:-714px}#profile-button:hover{background-position-x:-756px}#profile-button.active{background-position-x:-798px}#settings-button{background-position-x:-1218px}#settings-button:hover{background-position-x:-1260px}#settings-button.active{background-position-x:-1302px}#warp-button{background-position-x:-966px}#warp-button:hover{background-position-x:-1008px}#warp-button.active{background-position-x:-1050px}@media only screen and (min-width: 1501px){#notification{width:648px;height:102px;background:url(/img/3/spritesheet.png) no-repeat;margin-left:-324px}#question,#exclamation{position:relative;width:45px;height:48px;display:block}#question{background:url(/img/3/containers.png) -1047px -141px}#exclamation{background:url(/img/3/containers.png) -1002px -141px}#ability-shortcut{width:366px;height:60px;top:720px;background-image:url(/img/3/skillslots.png)}.action-button{border-radius:9px;border-width:3px}#state-page{background:url(/img/3/characterdialogsheet.png) 0 0;display:block}#skill-page{background:url(/img/3/characterdialogsheet.png) -372px 0;display:none}#settings-page{background:url(/img/3/characterdialogsheet.png) -744px 0;display:none}#quest-page{background:url(/img/3/characterdialogsheet.png) -1116px 0;display:none}#guild-page{background:url(/img/3/characterdialogsheet.png) -1488px 0;display:none}#skills-page{background:url(/img/3/characterdialogsheet.png) -744px -651px;display:none}#profile-dialog,.page{width:372px;height:651px;position:absolute}.profile-slot{background-position:0 0;position:absolute;width:48px;height:45px}.profile-info{position:absolute;width:276px;height:36px;line-height:36px;font-family:AdvoCut,sans-serif;font-size:18px;font-weight:700;text-shadow:1px 1px #808080;text-align:center;left:72px}#weapon-slot-info{top:369px;left:66px}#armour-slot-info{width:306px;top:369px;text-align:right}#weapon-slot,#armour-slot,#pendant-slot,#ring-slot,#boots-slot{margin-top:-6px;background-size:600%}#weapon-slot{left:12px;top:360px}#armour-slot{left:312px;top:357px}#pendant-slot{left:162px;top:234px}#ring-slot{left:81px;top:516px}#boots-slot{left:246px;top:519px}#profile-name{top:24px}#profile-level{top:87px}#profile-experience{top:150px}#sliders{width:120px;height:90px}#volume{top:3px}#sfx{top:60px}#brightness{top:123px}#check-marks{width:120px;height:360px}#navigator{width:126px;height:51px}#previous,#next{background-image:url(/img/3/characterdialogsheet.png);position:absolute;left:auto;left:initial;top:0;width:63px;height:51px}#previous{left:0;background-position:0 -720px;cursor:pointer}#previous.disabled{background-position:0 -669px;cursor:default}#next{left:63px;background-position:-63px -669px;cursor:pointer}#next.disabled{background-position:-63px -720px;cursor:default}#texts{width:180px;height:300px;font-size:24px}#texts p{margin-bottom:36px}.check .checkmark{width:24px;height:24px;background:url(/img/3/characterdialogsheet.png) -327px -720px}.check:hover input~.checkmark,.check input:focus~.checkmark{background-position-x:-354px}.check input:active~.checkmark{background-position-x:-381px}.check input:checked~.checkmark{background-position-x:-408px}.check:hover input:checked~.checkmark,.check input:focus:checked~.checkmark{background-position-x:-435px}#sound-check{top:9px}#camera-check{top:69px}#debug-check{top:132px}#name-check{top:186px}#level-check{top:246px}#attack-info{width:300px;height:75px;top:0;border-bottom-left-radius:24px;border-bottom-right-radius:24px;border:6px solid #373737}#attack-info .details{margin-top:27px}#attack-info .health{height:18px;border:3px solid #373737;border-radius:6px;background-color:red;transition:.5s width ease}#warp1{top:120px;left:360px;background:url(/img/3/mapicons.png) 0 0}#warp2{top:165px;left:75px;background:url(/img/3/mapicons.png) 51px 0}#warp3{top:210px;left:525px;background:url(/img/3/mapicons.png) 96px 0}#warp4{top:360px;left:405px;background:url(/img/3/mapicons.png) 141px 0}#warp5{top:360px;left:225px;background:url(/img/3/mapicons.png) 186px 0}#warp6{top:240px;left:270px;background:url(/img/3/mapicons.png) 231px 0}#warp1:hover,#warp2:hover,#warp3:hover,#warp4:hover,#warp5:hover,#warp6:hover{background-position-y:-60px}#warp1.active,#warp2.active,#warp3.active,#warp4.active,#warp5.active,#warp6.active{background-position-y:-120px}#bank{width:900px;height:501px}#bank-container,#bank-inventory-container{background-image:url(/img/3/bank.png)}#enchant-container{background-image:url(/img/3/containers.png)}#bank-container{width:513px;height:501px;background-position:-396px 0}#bank-slot{width:432px;height:408px;left:420px;overflow-y:scroll}#bank-inventory-container,#enchant-container{width:387px;height:381px;background-position:0 0}.inventory-slots{width:288px;height:240px}.bank-slot{width:48px;height:45px;margin-bottom:18px;margin-left:6px;background:url(/img/3/containers.png) -900px -516px}#enchant{transform:scale(1.6);width:387px;height:465px;background:url(/img/3/containers.png) 0 0;margin-left:-192px;margin-top:-231px}#enchant-selected-item,#enchant-shards{width:48px;height:45px}#shards-count{width:48px}#message{width:360px;height:69px}#skills-list{width:318px;height:537px}#achievement-count,#quest-count{font-size:24px;width:90px;height:24px}#map-frame{width:810px;height:540px;background-image:url(/img/3/mapframe.png);margin-left:-405px;margin-top:-270px}.map-button{width:45px;height:48px}.item-count{width:48px;height:21px;text-align:center;margin-left:3px}#store{width:510px;height:504px;background:url(/img/3/containers.png) -387px -66px}#store-inventory-container{width:387px;height:465px;background:url(/img/3/containers.png) 0 0}#store-sell-slot,#store-sell-slot-return{position:absolute;width:48px;height:48px;top:369px;background-size:600%}#store-sell-slot{left:42px}#store-sell-slot-return{left:132px}#store-sell-slot-return-text,#store-sell-slot-text,#shards-count{margin-top:57px}}@media only screen and (max-width: 1500px),only screen and (max-height: 870px){#notification{width:432px;height:68px;background:url(/img/2/spritesheet.png) no-repeat;margin-left:-216px}#question,#exclamation{position:relative;width:30px;height:32px;display:block}#question{background:url(/img/2/containers.png) -698px -94px}#exclamation{background:url(/img/2/containers.png) -668px -94px}#ability-shortcut{width:244px;height:40px;top:480px;background-image:url(/img/2/skillslots.png)}.action-button{border-radius:6px;border-width:2px}#state-page{background:url(/img/2/characterdialogsheet.png) 0 0;display:block}#skill-page{background:url(/img/2/characterdialogsheet.png) -248px 0;display:none}#settings-page{background:url(/img/2/characterdialogsheet.png) -496px 0;display:none}#quest-page{background:url(/img/2/characterdialogsheet.png) -744px 0;display:none}#guild-page{background:url(/img/2/characterdialogsheet.png) -992px 0;display:none}#skills-page{background:url(/img/2/characterdialogsheet.png) -496px -434px;display:none}#profile-dialog,.page{width:248px;height:434px;position:absolute}.profile-slot{background-position:0 0;position:absolute;width:32px;height:30px}.profile-info{position:absolute;width:184px;height:24px;line-height:24px;font-family:AdvoCut,sans-serif;font-size:12px;font-weight:700;text-shadow:1px 1px #808080;text-align:center;left:48px}#weapon-slot-info{top:246px;left:44px}#armour-slot-info{width:204px;top:246px;text-align:right}#weapon-slot,#armour-slot,#pendant-slot,#ring-slot,#boots-slot{margin-top:-4px;background-size:600%}#weapon-slot{left:8px;top:240px}#armour-slot{left:208px;top:238px}#pendant-slot{left:108px;top:156px}#ring-slot{left:54px;top:344px}#boots-slot{left:164px;top:346px}#profile-name{top:16px}#profile-level{top:58px}#profile-experience{top:100px}#sliders{width:80px;height:60px}#volume{top:2px}#sfx{top:40px}#brightness{top:82px}#check-marks{width:80px;height:240px}#navigator{width:84px;height:34px}#previous,#next{background-image:url(/img/2/characterdialogsheet.png);position:absolute;left:auto;left:initial;top:0;width:42px;height:34px}#previous{left:0;background-position:0 -480px;cursor:pointer}#previous.disabled{background-position:0 -446px;cursor:default}#next{left:42px;background-position:-42px -446px;cursor:pointer}#next.disabled{background-position:-42px -480px;cursor:default}#texts{width:120px;height:200px;font-size:16px}#texts p{margin-bottom:24px}.check .checkmark{width:16px;height:16px;background:url(/img/2/characterdialogsheet.png) -218px -480px}.check:hover input~.checkmark,.check input:focus~.checkmark{background-position-x:-236px}.check input:active~.checkmark{background-position-x:-254px}.check input:checked~.checkmark{background-position-x:-272px}.check:hover input:checked~.checkmark,.check input:focus:checked~.checkmark{background-position-x:-290px}#sound-check{top:6px}#camera-check{top:46px}#debug-check{top:88px}#name-check{top:124px}#level-check{top:164px}#attack-info{width:200px;height:50px;top:0;border-bottom-left-radius:16px;border-bottom-right-radius:16px;border:4px solid #373737}#attack-info .details{margin-top:18px}#attack-info .health{height:12px;border:2px solid #373737;border-radius:4px;background-color:red;transition:.5s width ease}#warp1{top:80px;left:240px;background:url(/img/2/mapicons.png) 0 0}#warp2{top:110px;left:50px;background:url(/img/2/mapicons.png) 34px 0}#warp3{top:140px;left:350px;background:url(/img/2/mapicons.png) 64px 0}#warp4{top:240px;left:270px;background:url(/img/2/mapicons.png) 94px 0}#warp5{top:240px;left:150px;background:url(/img/2/mapicons.png) 124px 0}#warp6{top:160px;left:180px;background:url(/img/2/mapicons.png) 154px 0}#warp1:hover,#warp2:hover,#warp3:hover,#warp4:hover,#warp5:hover,#warp6:hover{background-position-y:-40px}#warp1.active,#warp2.active,#warp3.active,#warp4.active,#warp5.active,#warp6.active{background-position-y:-80px}#bank{width:600px;height:334px}#bank-container,#bank-inventory-container{background-image:url(/img/2/bank.png)}#enchant-container{background-image:url(/img/2/containers.png)}#bank-container{width:342px;height:334px;background-position:-264px 0}#bank-slot{width:288px;height:272px;left:280px;overflow-y:scroll}#bank-inventory-container,#enchant-container{width:258px;height:254px;background-position:0 0}.inventory-slots{width:192px;height:160px}.bank-slot{width:32px;height:30px;margin-bottom:12px;margin-left:4px;background:url(/img/2/containers.png) -600px -344px}#enchant{transform:scale(1.6);width:258px;height:310px;background:url(/img/2/containers.png) 0 0;margin-left:-128px;margin-top:-154px}#enchant-selected-item,#enchant-shards{width:32px;height:30px}#shards-count{width:32px}#message{width:240px;height:46px}#skills-list{width:212px;height:358px}#achievement-count,#quest-count{font-size:16px;width:60px;height:16px}#map-frame{width:540px;height:360px;background-image:url(/img/2/mapframe.png);margin-left:-270px;margin-top:-180px}.map-button{width:30px;height:32px}.item-count{width:32px;height:14px;text-align:center;margin-left:2px}#store{width:340px;height:336px;background:url(/img/2/containers.png) -258px -44px}#store-inventory-container{width:258px;height:310px;background:url(/img/2/containers.png) 0 0}#store-sell-slot,#store-sell-slot-return{position:absolute;width:32px;height:32px;top:246px;background-size:600%}#store-sell-slot{left:28px}#store-sell-slot-return{left:88px}#store-sell-slot-return-text,#store-sell-slot-text,#shards-count{margin-top:38px}}@media only screen and (max-width: 1000px){#notification{width:216px;height:34px;background:url(/img/1/spritesheet.png) no-repeat;margin-left:-108px}#question,#exclamation{position:relative;width:15px;height:16px;display:block}#question{background:url(/img/1/containers.png) -349px -47px}#exclamation{background:url(/img/1/containers.png) -334px -47px}#ability-shortcut{width:122px;height:20px;top:240px;background-image:url(/img/1/skillslots.png)}.action-button{border-radius:3px;border-width:1px}#state-page{background:url(/img/1/characterdialogsheet.png) 0 0;display:block}#skill-page{background:url(/img/1/characterdialogsheet.png) -124px 0;display:none}#settings-page{background:url(/img/1/characterdialogsheet.png) -248px 0;display:none}#quest-page{background:url(/img/1/characterdialogsheet.png) -372px 0;display:none}#guild-page{background:url(/img/1/characterdialogsheet.png) -496px 0;display:none}#skills-page{background:url(/img/1/characterdialogsheet.png) -248px -217px;display:none}#profile-dialog,.page{width:124px;height:217px;position:absolute}.profile-slot{background-position:0 0;position:absolute;width:16px;height:15px}.profile-info{position:absolute;width:92px;height:12px;line-height:12px;font-family:AdvoCut,sans-serif;font-size:6px;font-weight:700;text-shadow:1px 1px #808080;text-align:center;left:24px}#weapon-slot-info{top:123px;left:22px}#armour-slot-info{width:102px;top:123px;text-align:right}#weapon-slot,#armour-slot,#pendant-slot,#ring-slot,#boots-slot{margin-top:-2px;background-size:600%}#weapon-slot{left:4px;top:120px}#armour-slot{left:104px;top:119px}#pendant-slot{left:54px;top:78px}#ring-slot{left:27px;top:172px}#boots-slot{left:82px;top:173px}#profile-name{top:8px}#profile-level{top:29px}#profile-experience{top:50px}#sliders{width:40px;height:30px}#volume{top:1px}#sfx{top:20px}#brightness{top:41px}#check-marks{width:40px;height:120px}#navigator{width:42px;height:17px}#previous,#next{background-image:url(/img/1/characterdialogsheet.png);position:absolute;left:auto;left:initial;top:0;width:21px;height:17px}#previous{left:0;background-position:0 -240px;cursor:pointer}#previous.disabled{background-position:0 -223px;cursor:default}#next{left:21px;background-position:-21px -223px;cursor:pointer}#next.disabled{background-position:-21px -240px;cursor:default}#texts{width:60px;height:100px;font-size:8px}#texts p{margin-bottom:12px}.check .checkmark{width:8px;height:8px;background:url(/img/1/characterdialogsheet.png) -109px -240px}.check:hover input~.checkmark,.check input:focus~.checkmark{background-position-x:-118px}.check input:active~.checkmark{background-position-x:-127px}.check input:checked~.checkmark{background-position-x:-136px}.check:hover input:checked~.checkmark,.check input:focus:checked~.checkmark{background-position-x:-145px}#sound-check{top:3px}#camera-check{top:23px}#debug-check{top:44px}#name-check{top:62px}#level-check{top:82px}#attack-info{width:100px;height:25px;top:0;border-bottom-left-radius:8px;border-bottom-right-radius:8px;border:2px solid #373737}#attack-info .details{margin-top:9px}#attack-info .health{height:6px;border:1px solid #373737;border-radius:2px;background-color:red;transition:.5s width ease}#warp1{top:40px;left:120px;background:url(/img/1/mapicons.png) 0 0}#warp2{top:55px;left:25px;background:url(/img/1/mapicons.png) 17px 0}#warp3{top:70px;left:175px;background:url(/img/1/mapicons.png) 32px 0}#warp4{top:120px;left:135px;background:url(/img/1/mapicons.png) 47px 0}#warp5{top:120px;left:75px;background:url(/img/1/mapicons.png) 62px 0}#warp6{top:80px;left:90px;background:url(/img/1/mapicons.png) 77px 0}#warp1:hover,#warp2:hover,#warp3:hover,#warp4:hover,#warp5:hover,#warp6:hover{background-position-y:-20px}#warp1.active,#warp2.active,#warp3.active,#warp4.active,#warp5.active,#warp6.active{background-position-y:-40px}#bank{width:300px;height:167px}#bank-container,#bank-inventory-container{background-image:url(/img/1/bank.png)}#enchant-container{background-image:url(/img/1/containers.png)}#bank-container{width:171px;height:167px;background-position:-132px 0}#bank-slot{width:144px;height:136px;left:140px;overflow-y:scroll}#bank-inventory-container,#enchant-container{width:129px;height:127px;background-position:0 0}.inventory-slots{width:96px;height:80px}.bank-slot{width:16px;height:15px;margin-bottom:6px;margin-left:2px;background:url(/img/1/containers.png) -300px -172px}#enchant{transform:scale(1.6);width:129px;height:155px;background:url(/img/1/containers.png) 0 0;margin-left:-64px;margin-top:-77px}#enchant-selected-item,#enchant-shards{width:16px;height:15px}#shards-count{width:16px}#message{width:120px;height:23px}#skills-list{width:106px;height:179px}#achievement-count,#quest-count{font-size:8px;width:30px;height:8px}#map-frame{width:270px;height:180px;background-image:url(/img/1/mapframe.png);margin-left:-135px;margin-top:-90px}.map-button{width:15px;height:16px}.item-count{width:16px;height:7px;text-align:center;margin-left:1px}#store{width:170px;height:168px;background:url(/img/1/containers.png) -129px -22px}#store-inventory-container{width:129px;height:155px;background:url(/img/1/containers.png) 0 0}#store-sell-slot,#store-sell-slot-return{position:absolute;width:16px;height:16px;top:123px;background-size:600%}#store-sell-slot{left:14px}#store-sell-slot-return{left:44px}#store-sell-slot-return-text,#store-sell-slot-text,#shards-count{margin-top:19px}}@media only screen and (min-width: 1501px){#notification{margin-left:-344px}#inventory{width:288px;height:303px;border:3px solid #373737}.item-count{font-size:14px}.item-slot{width:48px;height:48px;margin-left:3px;margin-top:3px;margin-bottom:21px;border-radius:9px;border:3px solid #707070}.item-slot:hover{border:3px solid #eee}.item-slot:active{border:3px solid #fcda5c}.item-slot-focused{border:3px solid #fcda5c!important}.inventory-item-count{width:48px;height:21px;font-size:18px;text-align:center;margin-left:3px;margin-top:54px}.action-button{width:192px;height:48px}#profile-dialog{bottom:45px;right:34px}.profile-item-info{font-size:24px}.close{width:48px;height:48px;background:url(/img/3/containers.png) -96px -498px}.close.active{background-position-x:-144px}.close:hover{background-position-x:-192px}.ok{width:42px;height:42px;background:url(/img/3/containers.png) -1143px -183px}.ok:hover{background-position-x:-1143px}#quest-list,#achievement-list{width:318px;height:246px}.skill-slots{width:48px;height:48px}.quest-name,.profession-name{border-radius:12px}.store-item-name,.store-item-count,.store-item-price,.store-item-buy{font-size:16px}#health,#health-bar{position:absolute;top:4.5px;left:30px;width:230px;height:26px;border:0;margin:0;padding:0;text-align:center}#health-info{position:absolute;top:0;left:0;width:264px;height:39px;border:0;margin:0;padding:0;text-align:center;color:#fff;background-image:url(/img/3/main.png);background-position:0 -834px}#exp{position:absolute;top:30px;left:36px;width:228px;height:15px;border:0;margin:0;padding:0}#exp-bar{position:absolute;width:228px;height:15px;background-image:url(/img/3/main.png);background-position:0 -873px;color:#fff;top:30px;left:36px}#health-bar-text{margin:10px 0 0 30px;font-size:18px}}@media only screen and (max-width: 1500px),only screen and (max-height: 870px){.item-count{font-size:11px}#notification-text-title{font-size:18px}#notification-text-description{font-size:12px}#notify,#confirm{width:333px;height:94px;background:url(/img/2/containers.png) -601px 0}.ok{width:28px;height:28px;background-position:-762px -122px}.ok,.done{width:27px;height:14px;background:url(/img/2/containers.png) -642px -108px}.ok:hover,.done:hover{background-position:-642px -108px}#cancel{width:40px;height:14px;background:url(/img/2/containers.png) -601px -108px}#cancel:hover,#cancel:focus{background-position-y:-94px}#inventory{width:192px;height:202px;border:2px solid #373737}.item-slot{width:32px;height:32px;margin-left:2px;margin-top:2px;margin-bottom:14px;border-radius:3px;border:2px solid #707070}.item-slot:hover,.item-slot.select{border:2px solid #eee}.item-slot:active,.item-slot:focus{border:2px solid #fcda5c}.item-slot-focused{border:2px solid #fcda5c!important}.inventory-item-count{width:32px;height:14px;font-size:12px;text-align:center;margin-left:2px;margin-top:36px}#profile-dialog{bottom:45px;right:70px}.profile-item-info{font-size:18px}#trade{width:500px;height:339px;background:url(/img/2/trade.png) 0 0}#trade-player-container,#trade-o-player-container{width:206px;height:186px}.close{width:32px;height:32px;background:url(/img/2/containers.png) -64px -332px}.close.active{background-position-x:-96px}.close:hover{background-position-x:-128px}.ok:hover{background-position:-762px -94px}#message{width:240px;height:46px}#quest-list,#achievement-list{width:212px;height:164px}.skill-slots{width:32px;height:32px;background-image:url(/img/2/skillicons.png)}.quest-name,.profession-name{font-size:20px;border-radius:8px}#health,#health-bar{position:absolute;top:3px;left:20px;width:154px;height:20px;border:0;margin:0;padding:0;text-align:center}#health-info{position:absolute;top:0;left:0;width:176px;height:26px;border:0;margin:0;padding:0;text-align:center;color:#fff;background-image:url(/img/2/main.png);background-position:0 -556px}#health-bar-text{margin:5px 0 0 20px}#exp{position:absolute;top:20px;left:24px;width:152px;height:9px;border:0;margin:0;padding:0}#exp-bar{position:absolute;width:152px;height:9px;background-image:url(/img/2/main.png);background-position:0 -582px;color:#fff;top:20px;left:24px}}@media only screen and (max-width: 1000px){#notification{width:432px;height:68px;background:url(/img/2/spritesheet.png) no-repeat;margin-left:-216px}#notify,#confirm{width:166px;height:47px;background:url(/img/1/containers.png) -300px 0}.ok,.done{left:85%;top:55%;width:14px;height:14px;background:url(/img/1/containers.png) -387px -79px}.ok:hover,.done:hover{background-position-y:-65px}#cancel{left:75%;top:55%;width:14px;height:14px;background:url(/img/1/containers.png) -371px -79px}#cancel:hover,#cancel:focus{background-position-x:-65px}#profile-dialog{transform:scale(1.5);bottom:99px;right:122px}#settings-page{transform:scale(1.5);right:31px;bottom:99px}.profile-item-info{font-size:8px}#texts{top:15%}#bank{transform:scale(1.5)}#quest-list,#achievement-list{width:104px;height:82px}.skill-slots{width:16px;height:16px}.quest-name,.profession-name{border:1px solid #373737;font-size:10px;border-radius:4px}#map-frame{transform:scale(1.6)}#close-map-frame{top:-6px;left:90%}#store{top:30%;left:55%;transform:scale(1.5)}#store-container ul li{padding-top:1px;padding-bottom:1px}.store-item{width:97%;border:1.5px solid rgba(255,255,0,.3);border-radius:7px}.store-item-image{width:16px;height:16px;border:1px solid rgba(0,0,255,.3)}.store-item-name,.store-item-count,.store-item-price{font-size:7px}.store-item-buy{position:relative;float:left;border:1px solid rgba(0,255,0,.3);padding-top:2%;font-size:6px}.item-count{font-size:6px}}\n',document.head.appendChild(y),System.register([],(function(){"use strict";return{execute:function(){var n,r=function(){function t(e){f(this,t),this.level=e}return w(t,[{key:"info",value:function(){var t;"debug"!==this.level&&"info"!==this.level||(t=console).info.apply(t,arguments)}},{key:"debug",value:function(){var t;"debug"===this.level&&(t=console).debug.apply(t,arguments)}},{key:"error",value:function(){var t;(t=console).error.apply(t,arguments)}}]),t}(),a=new r("info");try{self["workbox:window:6.5.1"]&&_()}catch(da){}function c(t,e){return new Promise((function(n){var i=new MessageChannel;i.port1.onmessage=function(t){n(t.data)},t.postMessage(e,[i.port2])}))}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}try{self["workbox:core:6.5.1"]&&_()}catch(da){}var k=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))};function v(t,e){var n=location.href;return new URL(t,n).href===new URL(e,n).href}var y=function(t,e){this.type=t,Object.assign(this,e)};function b(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}function x(){}var C={type:"SKIP_WAITING"};function S(t,e){if(!e)return t&&t.then?t.then(x):Promise.resolve()}var I,E=function(t){var e,n;function i(e,n){var i,r;return void 0===n&&(n={}),(i=t.call(this)||this).nn={},i.tn=0,i.rn=new k,i.en=new k,i.on=new k,i.un=0,i.an=new Set,i.cn=function(){var t=i.fn,e=t.installing;i.tn>0||!v(e.scriptURL,i.sn.toString())||performance.now()>i.un+6e4?(i.vn=e,t.removeEventListener("updatefound",i.cn)):(i.hn=e,i.an.add(e),i.rn.resolve(e)),++i.tn,e.addEventListener("statechange",i.ln)},i.ln=function(t){var e=i.fn,n=t.target,r=n.state,o=n===i.vn,a={sw:n,isExternal:o,originalEvent:t};!o&&i.mn&&(a.isUpdate=!0),i.dispatchEvent(new y(r,a)),"installed"===r?i.wn=self.setTimeout((function(){"installed"===r&&e.waiting===n&&i.dispatchEvent(new y("waiting",a))}),200):"activating"===r&&(clearTimeout(i.wn),o||i.en.resolve(n))},i.dn=function(t){var e=i.hn,n=e!==navigator.serviceWorker.controller;i.dispatchEvent(new y("controlling",{isExternal:n,originalEvent:t,sw:e,isUpdate:i.mn})),n||i.on.resolve(e)},i.gn=(r=function(t){var e=t.data,n=t.ports,r=t.source;return b(i.getSW(),(function(){i.an.has(r)&&i.dispatchEvent(new y("message",{data:e,originalEvent:t,ports:n,sw:r}))}))},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(r.apply(this,t))}catch(t){return Promise.reject(t)}}),i.sn=e,i.nn=n,navigator.serviceWorker.addEventListener("message",i.gn),i}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r,o=i.prototype;return o.register=function(t){var e=(void 0===t?{}:t).immediate,n=void 0!==e&&e;try{var i=this;return function(t,e){var n=t();return n&&n.then?n.then(e):e()}((function(){if(!n&&"complete"!==document.readyState)return S(new Promise((function(t){return window.addEventListener("load",t)})))}),(function(){return i.mn=Boolean(navigator.serviceWorker.controller),i.yn=i.pn(),b(i.bn(),(function(t){i.fn=t,i.yn&&(i.hn=i.yn,i.en.resolve(i.yn),i.on.resolve(i.yn),i.yn.addEventListener("statechange",i.ln,{once:!0}));var e=i.fn.waiting;return e&&v(e.scriptURL,i.sn.toString())&&(i.hn=e,Promise.resolve().then((function(){i.dispatchEvent(new y("waiting",{sw:e,wasWaitingBeforeRegister:!0}))})).then((function(){}))),i.hn&&(i.rn.resolve(i.hn),i.an.add(i.hn)),i.fn.addEventListener("updatefound",i.cn),navigator.serviceWorker.addEventListener("controllerchange",i.dn),i.fn}))}))}catch(t){return Promise.reject(t)}},o.update=function(){try{return this.fn?S(this.fn.update()):void 0}catch(da){return Promise.reject(da)}},o.getSW=function(){return void 0!==this.hn?Promise.resolve(this.hn):this.rn.promise},o.messageSW=function(t){try{return b(this.getSW(),(function(e){return c(e,t)}))}catch(da){return Promise.reject(da)}},o.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&c(this.fn.waiting,C)},o.pn=function(){var t=navigator.serviceWorker.controller;return t&&v(t.scriptURL,this.sn.toString())?t:void 0},o.bn=function(){try{var t=this;return function(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}((function(){return b(navigator.serviceWorker.register(t.sn,t.nn),(function(e){return t.un=performance.now(),e}))}),(function(t){throw t}))}catch(t){return Promise.reject(t)}},(r=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(i.prototype,r),i}(function(){function t(){this.Pn=new Map}var e=t.prototype;return e.addEventListener=function(t,e){this.Sn(t).add(e)},e.removeEventListener=function(t,e){this.Sn(t).delete(e)},e.dispatchEvent=function(t){t.target=this;for(var e,n=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}(this.Sn(t.type));!(e=n()).done;)(0,e.value)(t)},e.Sn=function(t){return this.Pn.has(t)||this.Pn.set(t,new Set),this.Pn.get(t)},t}());function X(){return(X=g(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(I){t.next=2;break}return t.abrupt("return");case 2:if("true"===localStorage.getItem("prompted")){t.next=5;break}return t.next=5,I.prompt().catch((function(t){return a.error("[SW ERROR]",t)}));case 5:return t.next=7,I.userChoice;case 7:localStorage.setItem("prompted","true"),I=null;case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}"serviceWorker"in navigator&&(window.addEventListener("beforeinstallprompt",(function(t){t.preventDefault(),I=t})),function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.immediate,i=void 0!==n&&n,r=(e.onNeedRefresh,e.onOfflineReady),o=e.onRegistered,a=e.onRegisterError;"serviceWorker"in navigator&&((t=new E("/sw.js",{scope:"/",type:"classic"})).addEventListener("activated",(function(t){t.isUpdate?window.location.reload():null==r||r()})),t.register({immediate:i}).then((function(t){null==o||o(t)})).catch((function(t){null==a||a(t)})))}({immediate:!0}));var Y=function(t){return t[t.Handshake=0]="Handshake",t[t.Login=1]="Login",t[t.Welcome=2]="Welcome",t[t.Map=3]="Map",t[t.Spawn=4]="Spawn",t[t.List=5]="List",t[t.Who=6]="Who",t[t.Equipment=7]="Equipment",t[t.Ready=8]="Ready",t[t.Sync=9]="Sync",t[t.Movement=10]="Movement",t[t.Teleport=11]="Teleport",t[t.Despawn=12]="Despawn",t[t.Target=13]="Target",t[t.Combat=14]="Combat",t[t.Animation=15]="Animation",t[t.Projectile=16]="Projectile",t[t.Points=17]="Points",t[t.Network=18]="Network",t[t.Chat=19]="Chat",t[t.Command=20]="Command",t[t.Container=21]="Container",t[t.Ability=22]="Ability",t[t.Quest=23]="Quest",t[t.Achievement=24]="Achievement",t[t.Notification=25]="Notification",t[t.Blink=26]="Blink",t[t.Heal=27]="Heal",t[t.Experience=28]="Experience",t[t.Death=29]="Death",t[t.Audio=30]="Audio",t[t.NPC=31]="NPC",t[t.Respawn=32]="Respawn",t[t.Trade=33]="Trade",t[t.Enchant=34]="Enchant",t[t.Guild=35]="Guild",t[t.Pointer=36]="Pointer",t[t.PVP=37]="PVP",t[t.Click=38]="Click",t[t.Warp=39]="Warp",t[t.Store=40]="Store",t[t.Overlay=41]="Overlay",t[t.Camera=42]="Camera",t[t.Bubble=43]="Bubble",t[t.Skill=44]="Skill",t[t.BuildUp=45]="BuildUp",t[t.Update=46]="Update",t}(Y||{}),A=function(t){return t[t.Login=0]="Login",t[t.Register=1]="Register",t[t.Guest=2]="Guest",t}(A||{}),T=function(t){return t[t.Batch=0]="Batch",t[t.Equip=1]="Equip",t[t.Unequip=2]="Unequip",t}(T||{}),L=function(t){return t[t.Request=0]="Request",t[t.Started=1]="Started",t[t.Step=2]="Step",t[t.Stop=3]="Stop",t[t.Move=4]="Move",t[t.Orientate=5]="Orientate",t[t.Follow=6]="Follow",t[t.Entity=7]="Entity",t[t.Freeze=8]="Freeze",t[t.Stunned=9]="Stunned",t[t.Zone=10]="Zone",t}(L||{}),P=function(t){return t[t.Talk=0]="Talk",t[t.Attack=1]="Attack",t[t.None=2]="None",t[t.Object=3]="Object",t}(P||{}),R=function(t){return t[t.Initiate=0]="Initiate",t[t.Hit=1]="Hit",t[t.Finish=2]="Finish",t[t.Sync=3]="Sync",t}(R||{}),z=function(t){return t[t.Static=0]="Static",t[t.Dynamic=1]="Dynamic",t[t.Create=2]="Create",t[t.Update=3]="Update",t[t.Impact=4]="Impact",t}(z||{}),O=function(t){return t[t.Ping=0]="Ping",t[t.Pong=1]="Pong",t}(O||{}),D=function(t){return t[t.Batch=0]="Batch",t[t.Add=1]="Add",t[t.Remove=2]="Remove",t[t.Select=3]="Select",t[t.Swap=4]="Swap",t}(D||{}),N=function(t){return t[t.Batch=0]="Batch",t[t.Progress=1]="Progress",t[t.Finish=2]="Finish",t}(N||{}),j=function(t){return t[t.Batch=0]="Batch",t[t.Progress=1]="Progress",t}(j||{}),q=function(t){return t[t.Ok=0]="Ok",t[t.YesNo=1]="YesNo",t[t.Text=2]="Text",t[t.Popup=3]="Popup",t}(q||{}),M=function(t){return t[t.Combat=0]="Combat",t[t.Skill=1]="Skill",t}(M||{}),B=function(t){return t[t.Talk=0]="Talk",t[t.Store=1]="Store",t[t.Bank=2]="Bank",t[t.Enchant=3]="Enchant",t[t.Countdown=4]="Countdown",t}(B||{}),F=function(t){return t[t.Select=0]="Select",t[t.Remove=1]="Remove",t[t.Enchant=2]="Enchant",t[t.Update=3]="Update",t}(F||{}),H=function(t){return t[t.Location=0]="Location",t[t.Relative=1]="Relative",t[t.Entity=2]="Entity",t[t.Remove=3]="Remove",t[t.Button=4]="Button",t}(H||{}),U=function(t){return t[t.Open=0]="Open",t[t.Close=1]="Close",t[t.Buy=2]="Buy",t[t.Sell=3]="Sell",t[t.Update=4]="Update",t[t.Select=5]="Select",t}(U||{}),W=function(t){return t[t.Set=0]="Set",t[t.Remove=1]="Remove",t[t.Lamp=2]="Lamp",t[t.RemoveLamps=3]="RemoveLamps",t[t.Darkness=4]="Darkness",t}(W||{}),V=function(t){return t[t.CtrlClick=0]="CtrlClick",t}(V||{}),Z=function(t){return t[t.Batch=0]="Batch",t[t.Update=1]="Update",t}(Z||{});H.Remove;var G=function(t){return t[t.Bank=0]="Bank",t[t.Inventory=1]="Inventory",t}(G||{}),$=function(t){return t[t.Up=0]="Up",t[t.Down=1]="Down",t[t.Left=2]="Left",t[t.Right=3]="Right",t}($||{}),K=function(t){return t[t.Player=0]="Player",t[t.NPC=1]="NPC",t[t.Item=2]="Item",t[t.Mob=3]="Mob",t[t.Chest=4]="Chest",t[t.Projectile=5]="Projectile",t[t.Object=6]="Object",t}(K||{}),Q=function(t){return t[t.Idle=0]="Idle",t[t.Attack=1]="Attack",t[t.Walk=2]="Walk",t[t.Orientate=3]="Orientate",t}(Q||{}),J=function(t){return t.Use="Use",t.Drop="Drop",t.Equip="Equip",t.Eat="Eat",t.Move="Move",t}(J||{}),tt=function(t){return t[t.Damage=0]="Damage",t[t.Poison=1]="Poison",t[t.Heal=2]="Heal",t[t.Mana=3]="Mana",t[t.Experience=4]="Experience",t[t.LevelUp=5]="LevelUp",t[t.Critical=6]="Critical",t[t.Stun=7]="Stun",t[t.Explosive=8]="Explosive",t[t.Profession=9]="Profession",t}(tt||{}),et=function(t){return t[t.Armour=0]="Armour",t[t.Boots=1]="Boots",t[t.Pendant=2]="Pendant",t[t.Ring=3]="Ring",t[t.Weapon=4]="Weapon",t}(et||{}),nt=function(t){return t[t.Colliding=0]="Colliding",t[t.Mob=1]="Mob",t[t.Player=2]="Player",t[t.Item=3]="Item",t[t.NPC=4]="NPC",t[t.Chest=5]="Chest",t[t.Object=6]="Object",t}(nt||{}),it=function(t){return t[t.Music=0]="Music",t[t.SFX=1]="SFX",t}(it||{}),rt=function(t){return t[t.Lumberjacking=0]="Lumberjacking",t[t.Mining=1]="Mining",t}(rt||{}),ot=["Bloodsucking","Critical","Evasion","Spike","Explosive","Stun","AntiStun","Splash"],at=(d(n={},0,{fill:"rgb(255, 50, 50)",stroke:"rgb(255, 180, 180)",inflicted:{fill:"white",stroke:"#373737"}}),d(n,6,{fill:"rgb(204, 0, 204)",stroke:"rgb(255, 180, 180)",inflicted:{fill:"rgb(255, 153, 204)",stroke:"#373737"}}),d(n,1,{fill:"rgb(66, 183, 77)",stroke:"rgb(50, 120 , 50)"}),d(n,2,{fill:"rgb(80, 255, 80)",stroke:"rgb(50, 120, 50)"}),d(n,3,{fill:"rgb(73, 94, 228)",stroke:"rgb(56, 63, 133)"}),d(n,4,{fill:"rgb(80, 180, 255)",stroke:"rgb(15, 85, 138)"}),d(n,5,{fill:"rgb(80, 180, 255)",stroke:"rgb(15, 85, 138)"}),d(n,9,{fill:"rgb(204, 0, 153)",stroke:"rgb(112, 17, 112)"}),n),lt=function(t){return t[t.MAX_STACK=2147483647]="MAX_STACK",t[t.MAX_LEVEL=135]="MAX_LEVEL",t[t.INVENTORY_SIZE=20]="INVENTORY_SIZE",t[t.BANK_SIZE=69]="BANK_SIZE",t[t.DROP_PROBABILITY=1e3]="DROP_PROBABILITY",t[t.MAX_PROFESSION_LEVEL=99]="MAX_PROFESSION_LEVEL",t[t.HEAL_RATE=5e3]="HEAL_RATE",t[t.STORE_UPDATE_FREQUENCY=2e4]="STORE_UPDATE_FREQUENCY",t[t.MAP_DIVISION_SIZE=64]="MAP_DIVISION_SIZE",t.SPAWN_POINT="325,86",t.TUTORIAL_QUEST_KEY="tutorial",t.TUTORIAL_SPAWN_POINT="375,40",t[t.TREE_REGROW=3e4]="TREE_REGROW",t[t.SKILL_LOOP=1e3]="SKILL_LOOP",t}(lt||{}),st=function(t){return t%1==0},ht=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"".concat(t).concat(e).concat(n)},ut=function(t,e){return t+Math.floor(Math.random()*(e-t+1))},dt=function(t,e,n){var i=document.createElement("li"),r=document.createElement("div"),o=document.createElement("div"),a=document.createElement("div");return r.classList.add("bank-slot"),o.classList.add("bank-image"),a.classList.add("item-count"),r.append(o),r.append(a),n&&r.addEventListener("click",(function(){return n(t,e)})),i.append(r),i},ct=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return""===t?"":'url("/img/sprites/item-'.concat(t,'.png")')},gt=function(t){var e=t.toString();return t>999999?"".concat(e.slice(0,Math.max(0,e.length-6)),"M"):t>9999?"".concat(e.slice(0,2),"K"):t>1?e:""},ft=function(t){switch(t){case J.Use:case J.Equip:case J.Eat:return D.Select;case J.Drop:return D.Remove;case J.Move:return D.Swap;default:return-1}},pt=function(t){return/^(([^\s"(),.:;<>@[\\\]]+(\.[^\s"(),.:;<>@[\\\]]+)*)|(".+"))@((\[(?:\d{1,3}\.){3}\d{1,3}])|(([\dA-Za-z-]+\.)+[A-Za-z]{2,}))$/.test(t)},wt=window.localStorage,mt="data",kt=function(){function t(){f(this,t),this.data=wt.data?JSON.parse(wt.getItem(mt)):this.create(),this.isNewVersion()&&this.set(this.create())}return w(t,[{key:"create",value:function(){return{new:!0,world:1,clientVersion:1,errorMessage:"",player:{username:"",password:"",autoLogin:!1,rememberMe:!1,orientation:$.Down},settings:{music:100,sfx:100,brightness:100,soundEnabled:!0,centerCamera:!0,debug:!1,showNames:!0,showLevels:!0},map:{regionData:[],grid:[],objects:[],cursorTiles:{}}}}},{key:"save",value:function(){this.data&&wt.setItem(mt,JSON.stringify(this.data))}},{key:"clear",value:function(){wt.removeItem(mt),this.set(this.create()),this.save()}},{key:"set",value:function(t){this.data=t,this.save()}},{key:"setError",value:function(t){return this.data.errorMessage=t,this.save(),!0}},{key:"setRemember",value:function(t){this.data.player.rememberMe=t,this.save()}},{key:"setCredentials",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.data.player.username=t,this.data.player.password=e,this.save()}},{key:"setVolume",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;this.data.settings.music=t,this.save()}},{key:"setSFX",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;this.data.settings.sfx=t,this.save()}},{key:"setBrightness",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;this.data.settings.brightness=t,this.save()}},{key:"setSoundEnabled",value:function(t){this.data.settings.soundEnabled=t,this.save()}},{key:"setCenterCamera",value:function(t){this.data.settings.centerCamera=t,this.save()}},{key:"setDebug",value:function(t){this.data.settings.debug=t,this.save()}},{key:"setShowNames",value:function(t){this.data.settings.showNames=t,this.save()}},{key:"setShowLevels",value:function(t){this.data.settings.showLevels=t,this.save()}},{key:"isNewVersion",value:function(){return 1!==this.data.clientVersion}},{key:"setOrientation",value:function(t){this.data.player.orientation=t,this.save()}},{key:"setRegionData",value:function(t,e,n,i){this.data.map.regionData=t,this.data.map.grid=e,this.data.map.objects=n,this.data.map.cursorTiles=i,this.save()}},{key:"getError",value:function(){var t=this.data.errorMessage;return this.data.errorMessage="",this.save(),t}},{key:"getUsername",value:function(){return this.data.player.username}},{key:"getPassword",value:function(){return this.data.player.password}},{key:"hasRemember",value:function(){return this.data.player.rememberMe}},{key:"getRegionData",value:function(){return{regionData:this.data.map.regionData,grid:this.data.map.grid,objects:this.data.map.objects,cursorTiles:this.data.map.cursorTiles}}},{key:"getSettings",value:function(){return this.data.settings}},{key:"getDebug",value:function(){return this.data.settings.debug}}]),t}(),vt=navigator.userAgent.toLowerCase();var _t,yt,bt=function(){return window.innerWidth<1e3},xt=function(){function t(){f(this,t),this.config={name:"Kaetram",host:"dolphin-app-b3sjn.ondigitalocean.app",ssl:!0,worldSwitch:!1,serverId:1,debug:!1,version:1,port:9001,hub:!1},this.storage=new kt,this.body=document.querySelector("body"),this.parchment=document.querySelector("#parchment"),this.canvas=document.querySelector("#canvas"),this.loginForm=document.querySelector("#load-character form"),this.registerForm=document.querySelector("#create-character form"),this.passwordConfirmation=document.querySelector("#register-password-confirmation-input"),this.emailField=document.querySelector("#register-email-input"),this.loginButton=document.querySelector("#login"),this.registerButton=document.querySelector("#new-account"),this.cancelButton=document.querySelector("#cancel-button"),this.respawn=document.querySelector("#respawn"),this.rememberMe=document.querySelector("#remember-me input"),this.guest=document.querySelector("#guest input"),this.about=document.querySelector("#toggle-about"),this.credits=document.querySelector("#toggle-credits"),this.discord=document.querySelector("#toggle-discord"),this.validation=document.querySelectorAll(".validation-summary"),this.loading=document.querySelector(".loader"),this.footer=document.querySelector("footer"),this.currentScroll="load-character",this.parchmentAnimating=!1,this.loggingIn=!1,this.menuHidden=!1,this.statusMessage="",this.sendStatus("Initializing the game client..."),this.load()}return w(t,[{key:"load",value:function(){var t=this;this.loginForm.addEventListener("submit",this.login.bind(this)),this.registerForm.addEventListener("submit",this.login.bind(this)),this.registerButton.addEventListener("click",(function(){return t.openScroll("create-character")})),this.cancelButton.addEventListener("click",(function(){return t.openScroll("load-character")})),this.about.addEventListener("click",(function(){return t.openScroll("about")})),this.credits.addEventListener("click",(function(){return t.openScroll("credits")})),this.discord.addEventListener("click",(function(){return window.open("https://discord.gg/MmbGAaw")})),this.respawn.addEventListener("click",(function(){var e;return null===(e=t.respawnCallback)||void 0===e?void 0:e.call(t)})),this.parchment.addEventListener("click",(function(){t.hasFooterOpen()&&t.openScroll("load-character")})),document.addEventListener("keydown",(function(t){return"Enter"!==t.key})),document.addEventListener("keydown",this.handleKeyDown.bind(this)),document.addEventListener("keyup",(function(e){var n;return null===(n=t.keyUpCallback)||void 0===n?void 0:n.call(t,e)})),document.addEventListener("mousemove",(function(e){var n;return null===(n=t.mouseMoveCallback)||void 0===n?void 0:n.call(t,e)})),this.canvas.addEventListener("click",(function(e){var n;return null===(n=t.leftClickCallback)||void 0===n?void 0:n.call(t,e)})),window.addEventListener("resize",(function(){var e;return null===(e=t.resizeCallback)||void 0===e?void 0:e.call(t)})),document.querySelector("#canvas").addEventListener("contextmenu",this.handleRightClick.bind(this))}},{key:"loadLogin",value:function(){var t=this.storage.getError();t&&this.sendError(t),this.storage.hasRemember()&&(this.getUsernameField().value=this.storage.getUsername(),this.getPasswordField().value=this.storage.getPassword(),this.rememberMe.checked=!0)}},{key:"handleKeyDown",value:function(t){var e;if(this.isMenuHidden())return null===(e=this.keyDownCallback)||void 0===e?void 0:e.call(this,t);"Enter"===t.key&&this.login()}},{key:"handleRightClick",value:function(t){var e;return null===(e=this.rightClickCallback)||void 0===e||e.call(this,t),t.preventDefault(),!1}},{key:"ready",value:function(){this.sendStatus(),this.loginButton.disabled=!1,this.loadLogin()}},{key:"login",value:function(){var t;this.loggingIn||this.statusMessage||!this.verifyForm()||(this.clearErrors(),this.toggleLogin(!0),null===(t=this.loginCallback)||void 0===t||t.call(this),function(){X.apply(this,arguments)}())}},{key:"saveLogin",value:function(){this.storage.setRemember(this.isRememberMe()),this.storage.setCredentials(),this.isRememberMe()&&this.storage.setCredentials(this.getUsername(),this.getPassword())}},{key:"showMenu",value:function(){this.body.classList.remove("game"),this.body.classList.remove("started"),this.body.classList.add("intro"),this.footer.style.display="block",this.menuHidden=!1}},{key:"fadeMenu",value:function(){var t=this;this.updateLoader(),window.setTimeout((function(){t.body.classList.add("game"),t.body.classList.add("started"),t.body.classList.remove("intro"),t.footer.style.display="none",t.menuHidden=!0,t.saveLogin()}),500)}},{key:"openScroll",value:function(t){this.loggingIn||this.parchmentAnimating||(this.clearErrors(),this.changeScroll(t,!bt()))}},{key:"changeScroll",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n?(this.parchmentAnimating=!0,this.parchment.classList.toggle("animate"),this.parchment.classList.remove(this.currentScroll),window.setTimeout((function(){var n;e.parchmentAnimating=!1,e.parchment.classList.toggle("animate"),e.parchment.classList.add(t),null===(n=document.querySelector("#".concat(t," input")))||void 0===n||n.focus()}),1e3)):(this.parchment.classList.remove(this.currentScroll),this.parchment.classList.add(t)),this.currentScroll=t}},{key:"verifyForm",value:function(){if(this.isGuest())return!0;if(!this.getUsername())return this.sendError("Please enter a username.",this.getUsernameField());if(!this.getPassword())return this.sendError("Please enter a password.",this.getPasswordField());if(this.isRegistering()){if(this.getPassword().length<3)return this.sendError("Password must be at least 3 characters long.",this.getPasswordField());if(this.getPassword()!==this.getPasswordConfirmation())return this.sendError("Passwords do not match.",this.passwordConfirmation);if(!pt(this.getEmail()))return this.sendError("The email you've entered is not valid.",this.emailField)}return!0}},{key:"sendStatus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(this.clearErrors(),this.statusMessage=t,t){this.setValidation("status",t);var e=document.querySelector(".status");e&&(e.innerHTML=t+this.getLoaderDots())}}},{key:"updateLoader",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.loading.innerHTML=t?t+this.getLoaderDots():""}},{key:"sendError",value:function(t,e){if(this.isMenuHidden())return this.storage.setError(t);if(this.clearErrors(),this.setValidation("validation-error",t),!e)return!1;e.classList.add("field-error"),e.focus();return e.addEventListener("keypress",(function t(){var n;e.removeEventListener("keypress",t,!1),e.classList.remove("field-error"),null===(n=document.querySelector(".validation-error"))||void 0===n||n.remove()})),!1}},{key:"clearErrors",value:function(){var t;null===(t=document.querySelector(".status"))||void 0===t||t.remove(),this.clearValidation(),this.getUsernameField().classList.remove("field-error"),this.getPasswordField().classList.remove("field-error"),this.passwordConfirmation.classList.remove("field-error"),this.emailField.classList.remove("field-error")}},{key:"toggleLogin",value:function(t){this.updateLoader("Connecting"),this.toggleTyping(t),this.loggingIn=t,this.loading.hidden=!t,this.loginButton.disabled=t,this.registerButton.disabled=t}},{key:"toggleTyping",value:function(t){this.getUsernameField().readOnly=t,this.getPasswordField().readOnly=t,this.passwordConfirmation.readOnly=t,this.emailField.readOnly=t}},{key:"hasFooterOpen",value:function(){return this.parchment.classList.contains("about")||this.parchment.classList.contains("credits")}},{key:"isGuest",value:function(){return this.guest.checked}},{key:"isRememberMe",value:function(){return this.rememberMe.checked}},{key:"isRegistering",value:function(){return"create-character"===this.currentScroll}},{key:"isMenuHidden",value:function(){return this.menuHidden}},{key:"getUsernameField",value:function(){return document.querySelector(this.isRegistering()?"#register-name-input":"#login-name-input")}},{key:"getUsername",value:function(){return this.getUsernameField().value}},{key:"getPasswordField",value:function(){return document.querySelector(this.isRegistering()?"#register-password-input":"#login-password-input")}},{key:"getPassword",value:function(){return this.getPasswordField().value}},{key:"getPasswordConfirmation",value:function(){return this.passwordConfirmation.value}},{key:"getEmail",value:function(){return this.isRegistering()?this.emailField.value:""}},{key:"getLoaderDots",value:function(){return'<span class="loader-dot">.</span><span class="loader-dot">.</span><span class="loader-dot">.</span>'}},{key:"clearValidation",value:function(){var t,e=m(this.validation);try{for(e.s();!(t=e.n()).done;){t.value.innerHTML=""}}catch(ei){e.e(ei)}finally{e.f()}}},{key:"setValidation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.clearValidation();var n,i=m(this.validation);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.append(this.createValidation(t,e))}}catch(ei){i.e(ei)}finally{i.f()}}},{key:"createValidation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=document.createElement("span");return n.classList.add(t),n.classList.add("blink"),n.textContent=e,n}},{key:"onKeyDown",value:function(t){this.keyDownCallback=t}},{key:"onKeyUp",value:function(t){this.keyUpCallback=t}},{key:"onLogin",value:function(t){this.loginCallback=t}},{key:"onLeftClick",value:function(t){this.leftClickCallback=t}},{key:"onRightClick",value:function(t){this.rightClickCallback=t}},{key:"onMouseMove",value:function(t){this.mouseMoveCallback=t}},{key:"onResize",value:function(t){this.resizeCallback=t}},{key:"onRespawn",value:function(t){this.respawnCallback=t}}]),t}(),Ct="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},St={exports:{}};
/**
             * @license
             * Lodash <https://lodash.com/>
             * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
             * Released under MIT license <https://lodash.com/license>
             * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
             * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
             */
_t=St,yt=St.exports,function(){var t,e="Expected a function",n="__lodash_hash_undefined__",i="__lodash_placeholder__",r=16,o=32,a=64,l=128,s=256,h=1/0,d=9007199254740991,c=NaN,g=4294967295,f=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",r],["flip",512],["partial",o],["partialRight",a],["rearg",s]],p="[object Arguments]",w="[object Array]",m="[object Boolean]",k="[object Date]",v="[object Error]",_="[object Function]",y="[object GeneratorFunction]",b="[object Map]",x="[object Number]",C="[object Object]",S="[object Promise]",I="[object RegExp]",E="[object Set]",X="[object String]",Y="[object Symbol]",A="[object WeakMap]",T="[object ArrayBuffer]",L="[object DataView]",P="[object Float32Array]",R="[object Float64Array]",z="[object Int8Array]",O="[object Int16Array]",D="[object Int32Array]",N="[object Uint8Array]",j="[object Uint8ClampedArray]",q="[object Uint16Array]",M="[object Uint32Array]",B=/\b__p \+= '';/g,F=/\b(__p \+=) '' \+/g,H=/(__e\(.*?\)|\b__t\)) \+\n'';/g,U=/&(?:amp|lt|gt|quot|#39);/g,W=/[&<>"']/g,V=RegExp(U.source),Z=RegExp(W.source),G=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,K=/<%=([\s\S]+?)%>/g,Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J=/^\w*$/,tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/[\\^$.*+?()[\]{}|]/g,nt=RegExp(et.source),it=/^\s+/,rt=/\s/,ot=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,at=/\{\n\/\* \[wrapped with (.+)\] \*/,lt=/,? & /,st=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ht=/[()=,{}\[\]\/\s]/,ut=/\\(\\)?/g,dt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ct=/\w*$/,gt=/^[-+]0x[0-9a-f]+$/i,ft=/^0b[01]+$/i,pt=/^\[object .+?Constructor\]$/,wt=/^0o[0-7]+$/i,mt=/^(?:0|[1-9]\d*)$/,kt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,vt=/($^)/,bt=/['\n\r\u2028\u2029\\]/g,xt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",St="\\u2700-\\u27bf",It="a-z\\xdf-\\xf6\\xf8-\\xff",Et="A-Z\\xc0-\\xd6\\xd8-\\xde",Xt="\\ufe0e\\ufe0f",Yt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",At="['’]",Tt="[\\ud800-\\udfff]",Lt="["+Yt+"]",Pt="["+xt+"]",Rt="\\d+",zt="[\\u2700-\\u27bf]",Ot="["+It+"]",Dt="[^\\ud800-\\udfff"+Yt+Rt+St+It+Et+"]",Nt="\\ud83c[\\udffb-\\udfff]",jt="[^\\ud800-\\udfff]",qt="(?:\\ud83c[\\udde6-\\uddff]){2}",Mt="[\\ud800-\\udbff][\\udc00-\\udfff]",Bt="["+Et+"]",Ft="(?:"+Ot+"|"+Dt+")",Ht="(?:"+Bt+"|"+Dt+")",Ut="(?:['’](?:d|ll|m|re|s|t|ve))?",Wt="(?:['’](?:D|LL|M|RE|S|T|VE))?",Vt="(?:"+Pt+"|"+Nt+")?",Zt="[\\ufe0e\\ufe0f]?",Gt=Zt+Vt+"(?:\\u200d(?:"+[jt,qt,Mt].join("|")+")"+Zt+Vt+")*",$t="(?:"+[zt,qt,Mt].join("|")+")"+Gt,Kt="(?:"+[jt+Pt+"?",Pt,qt,Mt,Tt].join("|")+")",Qt=RegExp(At,"g"),Jt=RegExp(Pt,"g"),te=RegExp(Nt+"(?="+Nt+")|"+Kt+Gt,"g"),ee=RegExp([Bt+"?"+Ot+"+"+Ut+"(?="+[Lt,Bt,"$"].join("|")+")",Ht+"+"+Wt+"(?="+[Lt,Bt+Ft,"$"].join("|")+")",Bt+"?"+Ft+"+"+Ut,Bt+"+"+Wt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Rt,$t].join("|"),"g"),ne=RegExp("[\\u200d\\ud800-\\udfff"+xt+Xt+"]"),ie=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,re=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],oe=-1,ae={};ae[P]=ae[R]=ae[z]=ae[O]=ae[D]=ae[N]=ae[j]=ae[q]=ae[M]=!0,ae[p]=ae[w]=ae[T]=ae[m]=ae[L]=ae[k]=ae[v]=ae[_]=ae[b]=ae[x]=ae[C]=ae[I]=ae[E]=ae[X]=ae[A]=!1;var le={};le[p]=le[w]=le[T]=le[L]=le[m]=le[k]=le[P]=le[R]=le[z]=le[O]=le[D]=le[b]=le[x]=le[C]=le[I]=le[E]=le[X]=le[Y]=le[N]=le[j]=le[q]=le[M]=!0,le[v]=le[_]=le[A]=!1;var se={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},he=parseFloat,ue=parseInt,de="object"==u(Ct)&&Ct&&Ct.Object===Object&&Ct,ce="object"==("undefined"==typeof self?"undefined":u(self))&&self&&self.Object===Object&&self,ge=de||ce||Function("return this")(),fe=yt&&!yt.nodeType&&yt,pe=fe&&_t&&!_t.nodeType&&_t,we=pe&&pe.exports===fe,me=we&&de.process,ke=function(){try{var t=pe&&pe.require&&pe.require("util").types;return t||me&&me.binding&&me.binding("util")}catch(ha){}}(),ve=ke&&ke.isArrayBuffer,_e=ke&&ke.isDate,ye=ke&&ke.isMap,be=ke&&ke.isRegExp,xe=ke&&ke.isSet,Ce=ke&&ke.isTypedArray;function Se(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Ie(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var a=t[r];e(i,a,n(a),t)}return i}function Ee(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function Xe(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Ye(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function Ae(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}function Te(t,e){return!(null==t||!t.length)&&Me(t,e,0)>-1}function Le(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function Pe(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function Re(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function ze(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function Oe(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function De(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var Ne=Ue("length");function je(t,e,n){var i;return n(t,(function(t,n,r){if(e(t,n,r))return i=n,!1})),i}function qe(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function Me(t,e,n){return e==e?function(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}(t,e,n):qe(t,Fe,n)}function Be(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function Fe(t){return t!=t}function He(t,e){var n=null==t?0:t.length;return n?Ze(t,e)/n:c}function Ue(e){return function(n){return null==n?t:n[e]}}function We(e){return function(n){return null==e?t:e[n]}}function Ve(t,e,n,i,r){return r(t,(function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)})),n}function Ze(e,n){for(var i,r=-1,o=e.length;++r<o;){var a=n(e[r]);a!==t&&(i=i===t?a:i+a)}return i}function Ge(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function $e(t){return t?t.slice(0,pn(t)+1).replace(it,""):t}function Ke(t){return function(e){return t(e)}}function Qe(t,e){return Pe(e,(function(e){return t[e]}))}function Je(t,e){return t.has(e)}function tn(t,e){for(var n=-1,i=t.length;++n<i&&Me(e,t[n],0)>-1;);return n}function en(t,e){for(var n=t.length;n--&&Me(e,t[n],0)>-1;);return n}function nn(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}var rn=We({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),on=We({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(t){return"\\"+se[t]}function ln(t){return ne.test(t)}function sn(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function hn(t,e){return function(n){return t(e(n))}}function un(t,e){for(var n=-1,r=t.length,o=0,a=[];++n<r;){var l=t[n];l!==e&&l!==i||(t[n]=i,a[o++]=n)}return a}function dn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function cn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function gn(t){return ln(t)?function(t){for(var e=te.lastIndex=0;te.test(t);)++e;return e}(t):Ne(t)}function fn(t){return ln(t)?function(t){return t.match(te)||[]}(t):function(t){return t.split("")}(t)}function pn(t){for(var e=t.length;e--&&rt.test(t.charAt(e)););return e}var wn=We({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),mn=function rt(_t){var yt,xt=(_t=null==_t?ge:mn.defaults(ge.Object(),_t,mn.pick(ge,re))).Array,Ct=_t.Date,St=_t.Error,It=_t.Function,Et=_t.Math,Xt=_t.Object,Yt=_t.RegExp,At=_t.String,Tt=_t.TypeError,Lt=xt.prototype,Pt=It.prototype,Rt=Xt.prototype,zt=_t["__core-js_shared__"],Ot=Pt.toString,Dt=Rt.hasOwnProperty,Nt=0,jt=(yt=/[^.]+$/.exec(zt&&zt.keys&&zt.keys.IE_PROTO||""))?"Symbol(src)_1."+yt:"",qt=Rt.toString,Mt=Ot.call(Xt),Bt=ge._,Ft=Yt("^"+Ot.call(Dt).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ht=we?_t.Buffer:t,Ut=_t.Symbol,Wt=_t.Uint8Array,Vt=Ht?Ht.allocUnsafe:t,Zt=hn(Xt.getPrototypeOf,Xt),Gt=Xt.create,$t=Rt.propertyIsEnumerable,Kt=Lt.splice,te=Ut?Ut.isConcatSpreadable:t,ne=Ut?Ut.iterator:t,se=Ut?Ut.toStringTag:t,de=function(){try{var t=po(Xt,"defineProperty");return t({},"",{}),t}catch(ha){}}(),ce=_t.clearTimeout!==ge.clearTimeout&&_t.clearTimeout,fe=Ct&&Ct.now!==ge.Date.now&&Ct.now,pe=_t.setTimeout!==ge.setTimeout&&_t.setTimeout,me=Et.ceil,ke=Et.floor,Ne=Xt.getOwnPropertySymbols,We=Ht?Ht.isBuffer:t,kn=_t.isFinite,vn=Lt.join,_n=hn(Xt.keys,Xt),yn=Et.max,bn=Et.min,xn=Ct.now,Cn=_t.parseInt,Sn=Et.random,In=Lt.reverse,En=po(_t,"DataView"),Xn=po(_t,"Map"),Yn=po(_t,"Promise"),An=po(_t,"Set"),Tn=po(_t,"WeakMap"),Ln=po(Xt,"create"),Pn=Tn&&new Tn,Rn={},zn=Bo(En),On=Bo(Xn),Dn=Bo(Yn),Nn=Bo(An),jn=Bo(Tn),qn=Ut?Ut.prototype:t,Mn=qn?qn.valueOf:t,Bn=qn?qn.toString:t;function Fn(t){if(al(t)&&!Ga(t)&&!(t instanceof Vn)){if(t instanceof Wn)return t;if(Dt.call(t,"__wrapped__"))return Fo(t)}return new Wn(t)}var Hn=function(){function e(){}return function(n){if(!ol(n))return{};if(Gt)return Gt(n);e.prototype=n;var i=new e;return e.prototype=t,i}}();function Un(){}function Wn(e,n){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=t}function Vn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Zn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Gn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function $n(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Kn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new $n;++e<n;)this.add(t[e])}function Qn(t){var e=this.__data__=new Gn(t);this.size=e.size}function Jn(t,e){var n=Ga(t),i=!n&&Za(t),r=!n&&!i&&Ja(t),o=!n&&!i&&!r&&fl(t),a=n||i||r||o,l=a?Ge(t.length,At):[],s=l.length;for(var h in t)!e&&!Dt.call(t,h)||a&&("length"==h||r&&("offset"==h||"parent"==h)||o&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||bo(h,s))||l.push(h);return l}function ti(e){var n=e.length;return n?e[Ki(0,n-1)]:t}function ei(t,e){return jo(Lr(t),ui(e,0,t.length))}function ni(t){return jo(Lr(t))}function ii(e,n,i){(i!==t&&!Ua(e[n],i)||i===t&&!(n in e))&&si(e,n,i)}function ri(e,n,i){var r=e[n];Dt.call(e,n)&&Ua(r,i)&&(i!==t||n in e)||si(e,n,i)}function oi(t,e){for(var n=t.length;n--;)if(Ua(t[n][0],e))return n;return-1}function ai(t,e,n,i){return pi(t,(function(t,r,o){e(i,t,n(t),o)})),i}function li(t,e){return t&&Pr(e,Ol(e),t)}function si(t,e,n){"__proto__"==e&&de?de(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function hi(e,n){for(var i=-1,r=n.length,o=xt(r),a=null==e;++i<r;)o[i]=a?t:Tl(e,n[i]);return o}function ui(e,n,i){return e==e&&(i!==t&&(e=e<=i?e:i),n!==t&&(e=e>=n?e:n)),e}function di(e,n,i,r,o,a){var l,s=1&n,h=2&n,u=4&n;if(i&&(l=o?i(e,r,o,a):i(e)),l!==t)return l;if(!ol(e))return e;var d=Ga(e);if(d){if(l=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Dt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(e),!s)return Lr(e,l)}else{var c=ko(e),g=c==_||c==y;if(Ja(e))return Ir(e,s);if(c==C||c==p||g&&!o){if(l=h||g?{}:_o(e),!s)return h?function(t,e){return Pr(t,mo(t),e)}(e,function(t,e){return t&&Pr(e,Dl(e),t)}(l,e)):function(t,e){return Pr(t,wo(t),e)}(e,li(l,e))}else{if(!le[c])return o?e:{};l=function(t,e,n){var i,r=t.constructor;switch(e){case T:return Er(t);case m:case k:return new r(+t);case L:return function(t,e){var n=e?Er(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case P:case R:case z:case O:case D:case N:case j:case q:case M:return Xr(t,n);case b:return new r;case x:case X:return new r(t);case I:return function(t){var e=new t.constructor(t.source,ct.exec(t));return e.lastIndex=t.lastIndex,e}(t);case E:return new r;case Y:return i=t,Mn?Xt(Mn.call(i)):{}}}(e,c,s)}}a||(a=new Qn);var f=a.get(e);if(f)return f;a.set(e,l),dl(e)?e.forEach((function(t){l.add(di(t,n,i,t,e,a))})):ll(e)&&e.forEach((function(t,r){l.set(r,di(t,n,i,r,e,a))}));var w=d?t:(u?h?lo:ao:h?Dl:Ol)(e);return Ee(w||e,(function(t,r){w&&(t=e[r=t]),ri(l,r,di(t,n,i,r,e,a))})),l}function ci(e,n,i){var r=i.length;if(null==e)return!r;for(e=Xt(e);r--;){var o=i[r],a=n[o],l=e[o];if(l===t&&!(o in e)||!a(l))return!1}return!0}function gi(n,i,r){if("function"!=typeof n)throw new Tt(e);return zo((function(){n.apply(t,r)}),i)}function fi(t,e,n,i){var r=-1,o=Te,a=!0,l=t.length,s=[],h=e.length;if(!l)return s;n&&(e=Pe(e,Ke(n))),i?(o=Le,a=!1):e.length>=200&&(o=Je,a=!1,e=new Kn(e));t:for(;++r<l;){var u=t[r],d=null==n?u:n(u);if(u=i||0!==u?u:0,a&&d==d){for(var c=h;c--;)if(e[c]===d)continue t;s.push(u)}else o(e,d,i)||s.push(u)}return s}Fn.templateSettings={escape:G,evaluate:$,interpolate:K,variable:"",imports:{_:Fn}},Fn.prototype=Un.prototype,Fn.prototype.constructor=Fn,Wn.prototype=Hn(Un.prototype),Wn.prototype.constructor=Wn,Vn.prototype=Hn(Un.prototype),Vn.prototype.constructor=Vn,Zn.prototype.clear=function(){this.__data__=Ln?Ln(null):{},this.size=0},Zn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Zn.prototype.get=function(e){var i=this.__data__;if(Ln){var r=i[e];return r===n?t:r}return Dt.call(i,e)?i[e]:t},Zn.prototype.has=function(e){var n=this.__data__;return Ln?n[e]!==t:Dt.call(n,e)},Zn.prototype.set=function(e,i){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Ln&&i===t?n:i,this},Gn.prototype.clear=function(){this.__data__=[],this.size=0},Gn.prototype.delete=function(t){var e=this.__data__,n=oi(e,t);return!(n<0||(n==e.length-1?e.pop():Kt.call(e,n,1),--this.size,0))},Gn.prototype.get=function(e){var n=this.__data__,i=oi(n,e);return i<0?t:n[i][1]},Gn.prototype.has=function(t){return oi(this.__data__,t)>-1},Gn.prototype.set=function(t,e){var n=this.__data__,i=oi(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},$n.prototype.clear=function(){this.size=0,this.__data__={hash:new Zn,map:new(Xn||Gn),string:new Zn}},$n.prototype.delete=function(t){var e=go(this,t).delete(t);return this.size-=e?1:0,e},$n.prototype.get=function(t){return go(this,t).get(t)},$n.prototype.has=function(t){return go(this,t).has(t)},$n.prototype.set=function(t,e){var n=go(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},Kn.prototype.add=Kn.prototype.push=function(t){return this.__data__.set(t,n),this},Kn.prototype.has=function(t){return this.__data__.has(t)},Qn.prototype.clear=function(){this.__data__=new Gn,this.size=0},Qn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Qn.prototype.get=function(t){return this.__data__.get(t)},Qn.prototype.has=function(t){return this.__data__.has(t)},Qn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Gn){var i=n.__data__;if(!Xn||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new $n(i)}return n.set(t,e),this.size=n.size,this};var pi=Or(xi),wi=Or(Ci,!0);function mi(t,e){var n=!0;return pi(t,(function(t,i,r){return n=!!e(t,i,r)})),n}function ki(e,n,i){for(var r=-1,o=e.length;++r<o;){var a=e[r],l=n(a);if(null!=l&&(s===t?l==l&&!gl(l):i(l,s)))var s=l,h=a}return h}function vi(t,e){var n=[];return pi(t,(function(t,i,r){e(t,i,r)&&n.push(t)})),n}function _i(t,e,n,i,r){var o=-1,a=t.length;for(n||(n=yo),r||(r=[]);++o<a;){var l=t[o];e>0&&n(l)?e>1?_i(l,e-1,n,i,r):Re(r,l):i||(r[r.length]=l)}return r}var yi=Dr(),bi=Dr(!0);function xi(t,e){return t&&yi(t,e,Ol)}function Ci(t,e){return t&&bi(t,e,Ol)}function Si(t,e){return Ae(e,(function(e){return nl(t[e])}))}function Ii(e,n){for(var i=0,r=(n=br(n,e)).length;null!=e&&i<r;)e=e[Mo(n[i++])];return i&&i==r?e:t}function Ei(t,e,n){var i=e(t);return Ga(t)?i:Re(i,n(t))}function Xi(e){return null==e?e===t?"[object Undefined]":"[object Null]":se&&se in Xt(e)?function(e){var n=Dt.call(e,se),i=e[se];try{e[se]=t;var r=!0}catch(ha){}var o=qt.call(e);return r&&(n?e[se]=i:delete e[se]),o}(e):function(t){return qt.call(t)}(e)}function Yi(t,e){return t>e}function Ai(t,e){return null!=t&&Dt.call(t,e)}function Ti(t,e){return null!=t&&e in Xt(t)}function Li(e,n,i){for(var r=i?Le:Te,o=e[0].length,a=e.length,l=a,s=xt(a),h=1/0,u=[];l--;){var d=e[l];l&&n&&(d=Pe(d,Ke(n))),h=bn(d.length,h),s[l]=!i&&(n||o>=120&&d.length>=120)?new Kn(l&&d):t}d=e[0];var c=-1,g=s[0];t:for(;++c<o&&u.length<h;){var f=d[c],p=n?n(f):f;if(f=i||0!==f?f:0,!(g?Je(g,p):r(u,p,i))){for(l=a;--l;){var w=s[l];if(!(w?Je(w,p):r(e[l],p,i)))continue t}g&&g.push(p),u.push(f)}}return u}function Pi(e,n,i){var r=null==(e=To(e,n=br(n,e)))?e:e[Mo(ta(n))];return null==r?t:Se(r,e,i)}function Ri(t){return al(t)&&Xi(t)==p}function zi(e,n,i,r,o){return e===n||(null==e||null==n||!al(e)&&!al(n)?e!=e&&n!=n:function(e,n,i,r,o,a){var l=Ga(e),s=Ga(n),h=l?w:ko(e),u=s?w:ko(n),d=(h=h==p?C:h)==C,c=(u=u==p?C:u)==C,g=h==u;if(g&&Ja(e)){if(!Ja(n))return!1;l=!0,d=!1}if(g&&!d)return a||(a=new Qn),l||fl(e)?ro(e,n,i,r,o,a):function(t,e,n,i,r,o,a){switch(n){case L:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case T:return!(t.byteLength!=e.byteLength||!o(new Wt(t),new Wt(e)));case m:case k:case x:return Ua(+t,+e);case v:return t.name==e.name&&t.message==e.message;case I:case X:return t==e+"";case b:var l=sn;case E:var s=1&i;if(l||(l=dn),t.size!=e.size&&!s)return!1;var h=a.get(t);if(h)return h==e;i|=2,a.set(t,e);var u=ro(l(t),l(e),i,r,o,a);return a.delete(t),u;case Y:if(Mn)return Mn.call(t)==Mn.call(e)}return!1}(e,n,h,i,r,o,a);if(!(1&i)){var f=d&&Dt.call(e,"__wrapped__"),_=c&&Dt.call(n,"__wrapped__");if(f||_){var y=f?e.value():e,S=_?n.value():n;return a||(a=new Qn),o(y,S,i,r,a)}}return!!g&&(a||(a=new Qn),function(e,n,i,r,o,a){var l=1&i,s=ao(e),h=s.length,u=ao(n).length;if(h!=u&&!l)return!1;for(var d=h;d--;){var c=s[d];if(!(l?c in n:Dt.call(n,c)))return!1}var g=a.get(e),f=a.get(n);if(g&&f)return g==n&&f==e;var p=!0;a.set(e,n),a.set(n,e);for(var w=l;++d<h;){var m=e[c=s[d]],k=n[c];if(r)var v=l?r(k,m,c,n,e,a):r(m,k,c,e,n,a);if(!(v===t?m===k||o(m,k,i,r,a):v)){p=!1;break}w||(w="constructor"==c)}if(p&&!w){var _=e.constructor,y=n.constructor;_==y||!("constructor"in e)||!("constructor"in n)||"function"==typeof _&&_ instanceof _&&"function"==typeof y&&y instanceof y||(p=!1)}return a.delete(e),a.delete(n),p}(e,n,i,r,o,a))}(e,n,i,r,zi,o))}function Oi(e,n,i,r){var o=i.length,a=o,l=!r;if(null==e)return!a;for(e=Xt(e);o--;){var s=i[o];if(l&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<a;){var h=(s=i[o])[0],u=e[h],d=s[1];if(l&&s[2]){if(u===t&&!(h in e))return!1}else{var c=new Qn;if(r)var g=r(u,d,h,e,n,c);if(!(g===t?zi(d,u,3,r,c):g))return!1}}return!0}function Di(t){return!(!ol(t)||(e=t,jt&&jt in e))&&(nl(t)?Ft:pt).test(Bo(t));var e}function Ni(t){return"function"==typeof t?t:null==t?ss:"object"==u(t)?Ga(t)?Hi(t[0],t[1]):Fi(t):ms(t)}function ji(t){if(!Eo(t))return _n(t);var e=[];for(var n in Xt(t))Dt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function qi(t){if(!ol(t))return function(t){var e=[];if(null!=t)for(var n in Xt(t))e.push(n);return e}(t);var e=Eo(t),n=[];for(var i in t)("constructor"!=i||!e&&Dt.call(t,i))&&n.push(i);return n}function Mi(t,e){return t<e}function Bi(t,e){var n=-1,i=Ka(t)?xt(t.length):[];return pi(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function Fi(t){var e=fo(t);return 1==e.length&&e[0][2]?Yo(e[0][0],e[0][1]):function(n){return n===t||Oi(n,t,e)}}function Hi(e,n){return Co(e)&&Xo(n)?Yo(Mo(e),n):function(i){var r=Tl(i,e);return r===t&&r===n?Ll(i,e):zi(n,r,3)}}function Ui(e,n,i,r,o){e!==n&&yi(n,(function(a,l){if(o||(o=new Qn),ol(a))!function(e,n,i,r,o,a,l){var s=Po(e,i),h=Po(n,i),u=l.get(h);if(u)ii(e,i,u);else{var d=a?a(s,h,i+"",e,n,l):t,c=d===t;if(c){var g=Ga(h),f=!g&&Ja(h),p=!g&&!f&&fl(h);d=h,g||f||p?Ga(s)?d=s:Qa(s)?d=Lr(s):f?(c=!1,d=Ir(h,!0)):p?(c=!1,d=Xr(h,!0)):d=[]:hl(h)||Za(h)?(d=s,Za(s)?d=bl(s):ol(s)&&!nl(s)||(d=_o(h))):c=!1}c&&(l.set(h,d),o(d,h,r,a,l),l.delete(h)),ii(e,i,d)}}(e,n,l,i,Ui,r,o);else{var s=r?r(Po(e,l),a,l+"",e,n,o):t;s===t&&(s=a),ii(e,l,s)}}),Dl)}function Wi(e,n){var i=e.length;if(i)return bo(n+=n<0?i:0,i)?e[n]:t}function Vi(t,e,n){e=e.length?Pe(e,(function(t){return Ga(t)?function(e){return Ii(e,1===t.length?t[0]:t)}:t})):[ss];var i=-1;e=Pe(e,Ke(co()));var r=Bi(t,(function(t,n,r){var o=Pe(e,(function(e){return e(t)}));return{criteria:o,index:++i,value:t}}));return function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(r,(function(t,e){return function(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,a=r.length,l=n.length;++i<a;){var s=Yr(r[i],o[i]);if(s)return i>=l?s:s*("desc"==n[i]?-1:1)}return t.index-e.index}(t,e,n)}))}function Zi(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var a=e[i],l=Ii(t,a);n(l,a)&&nr(o,br(a,t),l)}return o}function Gi(t,e,n,i){var r=i?Be:Me,o=-1,a=e.length,l=t;for(t===e&&(e=Lr(e)),n&&(l=Pe(t,Ke(n)));++o<a;)for(var s=0,h=e[o],u=n?n(h):h;(s=r(l,u,s,i))>-1;)l!==t&&Kt.call(l,s,1),Kt.call(t,s,1);return t}function $i(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;bo(r)?Kt.call(t,r,1):fr(t,r)}}return t}function Ki(t,e){return t+ke(Sn()*(e-t+1))}function Qi(t,e){var n="";if(!t||e<1||e>d)return n;do{e%2&&(n+=t),(e=ke(e/2))&&(t+=t)}while(e);return n}function Ji(t,e){return Oo(Ao(t,e,ss),t+"")}function tr(t){return ti(Ul(t))}function er(t,e){var n=Ul(t);return jo(n,ui(e,0,n.length))}function nr(e,n,i,r){if(!ol(e))return e;for(var o=-1,a=(n=br(n,e)).length,l=a-1,s=e;null!=s&&++o<a;){var h=Mo(n[o]),u=i;if("__proto__"===h||"constructor"===h||"prototype"===h)return e;if(o!=l){var d=s[h];(u=r?r(d,h,s):t)===t&&(u=ol(d)?d:bo(n[o+1])?[]:{})}ri(s,h,u),s=s[h]}return e}var ir=Pn?function(t,e){return Pn.set(t,e),t}:ss,rr=de?function(t,e){return de(t,"toString",{configurable:!0,enumerable:!1,value:os(e),writable:!0})}:ss;function or(t){return jo(Ul(t))}function ar(t,e,n){var i=-1,r=t.length;e<0&&(e=-e>r?0:r+e),(n=n>r?r:n)<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=xt(r);++i<r;)o[i]=t[i+e];return o}function lr(t,e){var n;return pi(t,(function(t,i,r){return!(n=e(t,i,r))})),!!n}function sr(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e==e&&r<=2147483647){for(;i<r;){var o=i+r>>>1,a=t[o];null!==a&&!gl(a)&&(n?a<=e:a<e)?i=o+1:r=o}return r}return hr(t,e,ss,n)}function hr(e,n,i,r){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var l=(n=i(n))!=n,s=null===n,h=gl(n),u=n===t;o<a;){var d=ke((o+a)/2),c=i(e[d]),g=c!==t,f=null===c,p=c==c,w=gl(c);if(l)var m=r||p;else m=u?p&&(r||g):s?p&&g&&(r||!f):h?p&&g&&!f&&(r||!w):!f&&!w&&(r?c<=n:c<n);m?o=d+1:a=d}return bn(a,4294967294)}function ur(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n],l=e?e(a):a;if(!n||!Ua(l,s)){var s=l;o[r++]=0===a?0:a}}return o}function dr(t){return"number"==typeof t?t:gl(t)?c:+t}function cr(t){if("string"==typeof t)return t;if(Ga(t))return Pe(t,cr)+"";if(gl(t))return Bn?Bn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function gr(t,e,n){var i=-1,r=Te,o=t.length,a=!0,l=[],s=l;if(n)a=!1,r=Le;else if(o>=200){var h=e?null:Qr(t);if(h)return dn(h);a=!1,r=Je,s=new Kn}else s=e?[]:l;t:for(;++i<o;){var u=t[i],d=e?e(u):u;if(u=n||0!==u?u:0,a&&d==d){for(var c=s.length;c--;)if(s[c]===d)continue t;e&&s.push(d),l.push(u)}else r(s,d,n)||(s!==l&&s.push(d),l.push(u))}return l}function fr(t,e){return null==(t=To(t,e=br(e,t)))||delete t[Mo(ta(e))]}function pr(t,e,n,i){return nr(t,e,n(Ii(t,e)),i)}function wr(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?ar(t,i?0:o,i?o+1:r):ar(t,i?o+1:0,i?r:o)}function mr(t,e){var n=t;return n instanceof Vn&&(n=n.value()),ze(e,(function(t,e){return e.func.apply(e.thisArg,Re([t],e.args))}),n)}function kr(t,e,n){var i=t.length;if(i<2)return i?gr(t[0]):[];for(var r=-1,o=xt(i);++r<i;)for(var a=t[r],l=-1;++l<i;)l!=r&&(o[r]=fi(o[r]||a,t[l],e,n));return gr(_i(o,1),e,n)}function vr(e,n,i){for(var r=-1,o=e.length,a=n.length,l={};++r<o;){var s=r<a?n[r]:t;i(l,e[r],s)}return l}function _r(t){return Qa(t)?t:[]}function yr(t){return"function"==typeof t?t:ss}function br(t,e){return Ga(t)?t:Co(t,e)?[t]:qo(xl(t))}var xr=Ji;function Cr(e,n,i){var r=e.length;return i=i===t?r:i,!n&&i>=r?e:ar(e,n,i)}var Sr=ce||function(t){return ge.clearTimeout(t)};function Ir(t,e){if(e)return t.slice();var n=t.length,i=Vt?Vt(n):new t.constructor(n);return t.copy(i),i}function Er(t){var e=new t.constructor(t.byteLength);return new Wt(e).set(new Wt(t)),e}function Xr(t,e){var n=e?Er(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Yr(e,n){if(e!==n){var i=e!==t,r=null===e,o=e==e,a=gl(e),l=n!==t,s=null===n,h=n==n,u=gl(n);if(!s&&!u&&!a&&e>n||a&&l&&h&&!s&&!u||r&&l&&h||!i&&h||!o)return 1;if(!r&&!a&&!u&&e<n||u&&i&&o&&!r&&!a||s&&i&&o||!l&&o||!h)return-1}return 0}function Ar(t,e,n,i){for(var r=-1,o=t.length,a=n.length,l=-1,s=e.length,h=yn(o-a,0),u=xt(s+h),d=!i;++l<s;)u[l]=e[l];for(;++r<a;)(d||r<o)&&(u[n[r]]=t[r]);for(;h--;)u[l++]=t[r++];return u}function Tr(t,e,n,i){for(var r=-1,o=t.length,a=-1,l=n.length,s=-1,h=e.length,u=yn(o-l,0),d=xt(u+h),c=!i;++r<u;)d[r]=t[r];for(var g=r;++s<h;)d[g+s]=e[s];for(;++a<l;)(c||r<o)&&(d[g+n[a]]=t[r++]);return d}function Lr(t,e){var n=-1,i=t.length;for(e||(e=xt(i));++n<i;)e[n]=t[n];return e}function Pr(e,n,i,r){var o=!i;i||(i={});for(var a=-1,l=n.length;++a<l;){var s=n[a],h=r?r(i[s],e[s],s,i,e):t;h===t&&(h=e[s]),o?si(i,s,h):ri(i,s,h)}return i}function Rr(t,e){return function(n,i){var r=Ga(n)?Ie:ai,o=e?e():{};return r(n,t,co(i,2),o)}}function zr(e){return Ji((function(n,i){var r=-1,o=i.length,a=o>1?i[o-1]:t,l=o>2?i[2]:t;for(a=e.length>3&&"function"==typeof a?(o--,a):t,l&&xo(i[0],i[1],l)&&(a=o<3?t:a,o=1),n=Xt(n);++r<o;){var s=i[r];s&&e(n,s,r,a)}return n}))}function Or(t,e){return function(n,i){if(null==n)return n;if(!Ka(n))return t(n,i);for(var r=n.length,o=e?r:-1,a=Xt(n);(e?o--:++o<r)&&!1!==i(a[o],o,a););return n}}function Dr(t){return function(e,n,i){for(var r=-1,o=Xt(e),a=i(e),l=a.length;l--;){var s=a[t?l:++r];if(!1===n(o[s],s,o))break}return e}}function Nr(e){return function(n){var i=ln(n=xl(n))?fn(n):t,r=i?i[0]:n.charAt(0),o=i?Cr(i,1).join(""):n.slice(1);return r[e]()+o}}function jr(t){return function(e){return ze(ns(Zl(e).replace(Qt,"")),t,"")}}function qr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Hn(t.prototype),i=t.apply(n,e);return ol(i)?i:n}}function Mr(e){return function(n,i,r){var o=Xt(n);if(!Ka(n)){var a=co(i,3);n=Ol(n),i=function(t){return a(o[t],t,o)}}var l=e(n,i,r);return l>-1?o[a?n[l]:l]:t}}function Br(n){return oo((function(i){var r=i.length,o=r,a=Wn.prototype.thru;for(n&&i.reverse();o--;){var l=i[o];if("function"!=typeof l)throw new Tt(e);if(a&&!s&&"wrapper"==ho(l))var s=new Wn([],!0)}for(o=s?o:r;++o<r;){var h=ho(l=i[o]),u="wrapper"==h?so(l):t;s=u&&So(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?s[ho(u[0])].apply(s,u[3]):1==l.length&&So(l)?s[h]():s.thru(l)}return function(){var t=arguments,e=t[0];if(s&&1==t.length&&Ga(e))return s.plant(e).value();for(var n=0,o=r?i[n].apply(this,t):e;++n<r;)o=i[n].call(this,o);return o}}))}function Fr(e,n,i,r,o,a,s,h,u,d){var c=n&l,g=1&n,f=2&n,p=24&n,w=512&n,m=f?t:qr(e);return function t(){for(var l=arguments.length,k=xt(l),v=l;v--;)k[v]=arguments[v];if(p)var _=uo(t),y=nn(k,_);if(r&&(k=Ar(k,r,o,p)),a&&(k=Tr(k,a,s,p)),l-=y,p&&l<d){var b=un(k,_);return $r(e,n,Fr,t.placeholder,i,k,b,h,u,d-l)}var x=g?i:this,C=f?x[e]:e;return l=k.length,h?k=Lo(k,h):w&&l>1&&k.reverse(),c&&u<l&&(k.length=u),this&&this!==ge&&this instanceof t&&(C=m||qr(C)),C.apply(x,k)}}function Hr(t,e){return function(n,i){return function(t,e,n,i){return xi(t,(function(t,r,o){e(i,n(t),r,o)})),i}(n,t,e(i),{})}}function Ur(e,n){return function(i,r){var o;if(i===t&&r===t)return n;if(i!==t&&(o=i),r!==t){if(o===t)return r;"string"==typeof i||"string"==typeof r?(i=cr(i),r=cr(r)):(i=dr(i),r=dr(r)),o=e(i,r)}return o}}function Wr(t){return oo((function(e){return e=Pe(e,Ke(co())),Ji((function(n){var i=this;return t(e,(function(t){return Se(t,i,n)}))}))}))}function Vr(e,n){var i=(n=n===t?" ":cr(n)).length;if(i<2)return i?Qi(n,e):n;var r=Qi(n,me(e/gn(n)));return ln(n)?Cr(fn(r),0,e).join(""):r.slice(0,e)}function Zr(e){return function(n,i,r){return r&&"number"!=typeof r&&xo(n,i,r)&&(i=r=t),n=kl(n),i===t?(i=n,n=0):i=kl(i),function(t,e,n,i){for(var r=-1,o=yn(me((e-t)/(n||1)),0),a=xt(o);o--;)a[i?o:++r]=t,t+=n;return a}(n,i,r=r===t?n<i?1:-1:kl(r),e)}}function Gr(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=yl(e),n=yl(n)),t(e,n)}}function $r(e,n,i,r,l,s,h,u,d,c){var g=8&n;n|=g?o:a,4&(n&=~(g?a:o))||(n&=-4);var f=[e,n,l,g?s:t,g?h:t,g?t:s,g?t:h,u,d,c],p=i.apply(t,f);return So(e)&&Ro(p,f),p.placeholder=r,Do(p,e,n)}function Kr(t){var e=Et[t];return function(t,n){if(t=yl(t),(n=null==n?0:bn(vl(n),292))&&kn(t)){var i=(xl(t)+"e").split("e");return+((i=(xl(e(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return e(t)}}var Qr=An&&1/dn(new An([,-0]))[1]==h?function(t){return new An(t)}:gs;function Jr(t){return function(e){var n=ko(e);return n==b?sn(e):n==E?cn(e):function(t,e){return Pe(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function to(n,h,u,d,c,g,f,p){var w=2&h;if(!w&&"function"!=typeof n)throw new Tt(e);var m=d?d.length:0;if(m||(h&=-97,d=c=t),f=f===t?f:yn(vl(f),0),p=p===t?p:vl(p),m-=c?c.length:0,h&a){var k=d,v=c;d=c=t}var _=w?t:so(n),y=[n,h,u,d,c,k,v,g,f,p];if(_&&function(t,e){var n=t[1],r=e[1],o=n|r,a=o<131,h=r==l&&8==n||r==l&&n==s&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!a&&!h)return t;1&r&&(t[2]=e[2],o|=1&n?0:4);var u=e[3];if(u){var d=t[3];t[3]=d?Ar(d,u,e[4]):u,t[4]=d?un(t[3],i):e[4]}(u=e[5])&&(d=t[5],t[5]=d?Tr(d,u,e[6]):u,t[6]=d?un(t[5],i):e[6]),(u=e[7])&&(t[7]=u),r&l&&(t[8]=null==t[8]?e[8]:bn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=o}(y,_),n=y[0],h=y[1],u=y[2],d=y[3],c=y[4],!(p=y[9]=y[9]===t?w?0:n.length:yn(y[9]-m,0))&&24&h&&(h&=-25),h&&1!=h)b=8==h||h==r?function(e,n,i){var r=qr(e);return function o(){for(var a=arguments.length,l=xt(a),s=a,h=uo(o);s--;)l[s]=arguments[s];var u=a<3&&l[0]!==h&&l[a-1]!==h?[]:un(l,h);return(a-=u.length)<i?$r(e,n,Fr,o.placeholder,t,l,u,t,t,i-a):Se(this&&this!==ge&&this instanceof o?r:e,this,l)}}(n,h,p):h!=o&&33!=h||c.length?Fr.apply(t,y):function(t,e,n,i){var r=1&e,o=qr(t);return function e(){for(var a=-1,l=arguments.length,s=-1,h=i.length,u=xt(h+l),d=this&&this!==ge&&this instanceof e?o:t;++s<h;)u[s]=i[s];for(;l--;)u[s++]=arguments[++a];return Se(d,r?n:this,u)}}(n,h,u,d);else var b=function(t,e,n){var i=1&e,r=qr(t);return function e(){return(this&&this!==ge&&this instanceof e?r:t).apply(i?n:this,arguments)}}(n,h,u);return Do((_?ir:Ro)(b,y),n,h)}function eo(e,n,i,r){return e===t||Ua(e,Rt[i])&&!Dt.call(r,i)?n:e}function no(e,n,i,r,o,a){return ol(e)&&ol(n)&&(a.set(n,e),Ui(e,n,t,no,a),a.delete(n)),e}function io(e){return hl(e)?t:e}function ro(e,n,i,r,o,a){var l=1&i,s=e.length,h=n.length;if(s!=h&&!(l&&h>s))return!1;var u=a.get(e),d=a.get(n);if(u&&d)return u==n&&d==e;var c=-1,g=!0,f=2&i?new Kn:t;for(a.set(e,n),a.set(n,e);++c<s;){var p=e[c],w=n[c];if(r)var m=l?r(w,p,c,n,e,a):r(p,w,c,e,n,a);if(m!==t){if(m)continue;g=!1;break}if(f){if(!De(n,(function(t,e){if(!Je(f,e)&&(p===t||o(p,t,i,r,a)))return f.push(e)}))){g=!1;break}}else if(p!==w&&!o(p,w,i,r,a)){g=!1;break}}return a.delete(e),a.delete(n),g}function oo(e){return Oo(Ao(e,t,Go),e+"")}function ao(t){return Ei(t,Ol,wo)}function lo(t){return Ei(t,Dl,mo)}var so=Pn?function(t){return Pn.get(t)}:gs;function ho(t){for(var e=t.name+"",n=Rn[e],i=Dt.call(Rn,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function uo(t){return(Dt.call(Fn,"placeholder")?Fn:t).placeholder}function co(){var t=Fn.iteratee||hs;return t=t===hs?Ni:t,arguments.length?t(arguments[0],arguments[1]):t}function go(t,e){var n,i,r=t.__data__;return("string"==(i=u(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function fo(t){for(var e=Ol(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,Xo(r)]}return e}function po(e,n){var i=function(e,n){return null==e?t:e[n]}(e,n);return Di(i)?i:t}var wo=Ne?function(t){return null==t?[]:(t=Xt(t),Ae(Ne(t),(function(e){return $t.call(t,e)})))}:_s,mo=Ne?function(t){for(var e=[];t;)Re(e,wo(t)),t=Zt(t);return e}:_s,ko=Xi;function vo(t,e,n){for(var i=-1,r=(e=br(e,t)).length,o=!1;++i<r;){var a=Mo(e[i]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&rl(r)&&bo(a,r)&&(Ga(t)||Za(t))}function _o(t){return"function"!=typeof t.constructor||Eo(t)?{}:Hn(Zt(t))}function yo(t){return Ga(t)||Za(t)||!!(te&&t&&t[te])}function bo(t,e){var n=u(t);return!!(e=null==e?d:e)&&("number"==n||"symbol"!=n&&mt.test(t))&&t>-1&&t%1==0&&t<e}function xo(t,e,n){if(!ol(n))return!1;var i=u(e);return!!("number"==i?Ka(n)&&bo(e,n.length):"string"==i&&e in n)&&Ua(n[e],t)}function Co(t,e){if(Ga(t))return!1;var n=u(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!gl(t))||J.test(t)||!Q.test(t)||null!=e&&t in Xt(e)}function So(t){var e=ho(t),n=Fn[e];if("function"!=typeof n||!(e in Vn.prototype))return!1;if(t===n)return!0;var i=so(n);return!!i&&t===i[0]}(En&&ko(new En(new ArrayBuffer(1)))!=L||Xn&&ko(new Xn)!=b||Yn&&ko(Yn.resolve())!=S||An&&ko(new An)!=E||Tn&&ko(new Tn)!=A)&&(ko=function(e){var n=Xi(e),i=n==C?e.constructor:t,r=i?Bo(i):"";if(r)switch(r){case zn:return L;case On:return b;case Dn:return S;case Nn:return E;case jn:return A}return n});var Io=zt?nl:ys;function Eo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Rt)}function Xo(t){return t==t&&!ol(t)}function Yo(e,n){return function(i){return null!=i&&i[e]===n&&(n!==t||e in Xt(i))}}function Ao(e,n,i){return n=yn(n===t?e.length-1:n,0),function(){for(var t=arguments,r=-1,o=yn(t.length-n,0),a=xt(o);++r<o;)a[r]=t[n+r];r=-1;for(var l=xt(n+1);++r<n;)l[r]=t[r];return l[n]=i(a),Se(e,this,l)}}function To(t,e){return e.length<2?t:Ii(t,ar(e,0,-1))}function Lo(e,n){for(var i=e.length,r=bn(n.length,i),o=Lr(e);r--;){var a=n[r];e[r]=bo(a,i)?o[a]:t}return e}function Po(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Ro=No(ir),zo=pe||function(t,e){return ge.setTimeout(t,e)},Oo=No(rr);function Do(t,e,n){var i=e+"";return Oo(t,function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(ot,"{\n/* [wrapped with "+e+"] */\n")}(i,function(t,e){return Ee(f,(function(n){var i="_."+n[0];e&n[1]&&!Te(t,i)&&t.push(i)})),t.sort()}(function(t){var e=t.match(at);return e?e[1].split(lt):[]}(i),n)))}function No(e){var n=0,i=0;return function(){var r=xn(),o=16-(r-i);if(i=r,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(t,arguments)}}function jo(e,n){var i=-1,r=e.length,o=r-1;for(n=n===t?r:n;++i<n;){var a=Ki(i,o),l=e[a];e[a]=e[i],e[i]=l}return e.length=n,e}var qo=function(t){var e=ja(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(tt,(function(t,n,i,r){e.push(i?r.replace(ut,"$1"):n||t)})),e}));function Mo(t){if("string"==typeof t||gl(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Bo(t){if(null!=t){try{return Ot.call(t)}catch(ha){}try{return t+""}catch(ha){}}return""}function Fo(t){if(t instanceof Vn)return t.clone();var e=new Wn(t.__wrapped__,t.__chain__);return e.__actions__=Lr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Ho=Ji((function(t,e){return Qa(t)?fi(t,_i(e,1,Qa,!0)):[]})),Uo=Ji((function(e,n){var i=ta(n);return Qa(i)&&(i=t),Qa(e)?fi(e,_i(n,1,Qa,!0),co(i,2)):[]})),Wo=Ji((function(e,n){var i=ta(n);return Qa(i)&&(i=t),Qa(e)?fi(e,_i(n,1,Qa,!0),t,i):[]}));function Vo(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:vl(n);return r<0&&(r=yn(i+r,0)),qe(t,co(e,3),r)}function Zo(e,n,i){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return i!==t&&(o=vl(i),o=i<0?yn(r+o,0):bn(o,r-1)),qe(e,co(n,3),o,!0)}function Go(t){return null!=t&&t.length?_i(t,1):[]}function $o(e){return e&&e.length?e[0]:t}var Ko=Ji((function(t){var e=Pe(t,_r);return e.length&&e[0]===t[0]?Li(e):[]})),Qo=Ji((function(e){var n=ta(e),i=Pe(e,_r);return n===ta(i)?n=t:i.pop(),i.length&&i[0]===e[0]?Li(i,co(n,2)):[]})),Jo=Ji((function(e){var n=ta(e),i=Pe(e,_r);return(n="function"==typeof n?n:t)&&i.pop(),i.length&&i[0]===e[0]?Li(i,t,n):[]}));function ta(e){var n=null==e?0:e.length;return n?e[n-1]:t}var ea=Ji(na);function na(t,e){return t&&t.length&&e&&e.length?Gi(t,e):t}var ia=oo((function(t,e){var n=null==t?0:t.length,i=hi(t,e);return $i(t,Pe(e,(function(t){return bo(t,n)?+t:t})).sort(Yr)),i}));function ra(t){return null==t?t:In.call(t)}var oa=Ji((function(t){return gr(_i(t,1,Qa,!0))})),aa=Ji((function(e){var n=ta(e);return Qa(n)&&(n=t),gr(_i(e,1,Qa,!0),co(n,2))})),la=Ji((function(e){var n=ta(e);return n="function"==typeof n?n:t,gr(_i(e,1,Qa,!0),t,n)}));function sa(t){if(!t||!t.length)return[];var e=0;return t=Ae(t,(function(t){if(Qa(t))return e=yn(t.length,e),!0})),Ge(e,(function(e){return Pe(t,Ue(e))}))}function ua(e,n){if(!e||!e.length)return[];var i=sa(e);return null==n?i:Pe(i,(function(e){return Se(n,t,e)}))}var da=Ji((function(t,e){return Qa(t)?fi(t,e):[]})),ca=Ji((function(t){return kr(Ae(t,Qa))})),ga=Ji((function(e){var n=ta(e);return Qa(n)&&(n=t),kr(Ae(e,Qa),co(n,2))})),fa=Ji((function(e){var n=ta(e);return n="function"==typeof n?n:t,kr(Ae(e,Qa),t,n)})),pa=Ji(sa),wa=Ji((function(e){var n=e.length,i=n>1?e[n-1]:t;return i="function"==typeof i?(e.pop(),i):t,ua(e,i)}));function ma(t){var e=Fn(t);return e.__chain__=!0,e}function ka(t,e){return e(t)}var va=oo((function(e){var n=e.length,i=n?e[0]:0,r=this.__wrapped__,o=function(t){return hi(t,e)};return!(n>1||this.__actions__.length)&&r instanceof Vn&&bo(i)?((r=r.slice(i,+i+(n?1:0))).__actions__.push({func:ka,args:[o],thisArg:t}),new Wn(r,this.__chain__).thru((function(e){return n&&!e.length&&e.push(t),e}))):this.thru(o)})),_a=Rr((function(t,e,n){Dt.call(t,n)?++t[n]:si(t,n,1)})),ya=Mr(Vo),ba=Mr(Zo);function xa(t,e){return(Ga(t)?Ee:pi)(t,co(e,3))}function Ca(t,e){return(Ga(t)?Xe:wi)(t,co(e,3))}var Sa=Rr((function(t,e,n){Dt.call(t,n)?t[n].push(e):si(t,n,[e])})),Ia=Ji((function(t,e,n){var i=-1,r="function"==typeof e,o=Ka(t)?xt(t.length):[];return pi(t,(function(t){o[++i]=r?Se(e,t,n):Pi(t,e,n)})),o})),Ea=Rr((function(t,e,n){si(t,n,e)}));function Xa(t,e){return(Ga(t)?Pe:Bi)(t,co(e,3))}var Ya=Rr((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),Aa=Ji((function(t,e){if(null==t)return[];var n=e.length;return n>1&&xo(t,e[0],e[1])?e=[]:n>2&&xo(e[0],e[1],e[2])&&(e=[e[0]]),Vi(t,_i(e,1),[])})),Ta=fe||function(){return ge.Date.now()};function La(e,n,i){return n=i?t:n,n=e&&null==n?e.length:n,to(e,l,t,t,t,t,n)}function Pa(n,i){var r;if("function"!=typeof i)throw new Tt(e);return n=vl(n),function(){return--n>0&&(r=i.apply(this,arguments)),n<=1&&(i=t),r}}var Ra=Ji((function(t,e,n){var i=1;if(n.length){var r=un(n,uo(Ra));i|=o}return to(t,i,e,n,r)})),za=Ji((function(t,e,n){var i=3;if(n.length){var r=un(n,uo(za));i|=o}return to(e,i,t,n,r)}));function Oa(n,i,r){var o,a,l,s,h,u,d=0,c=!1,g=!1,f=!0;if("function"!=typeof n)throw new Tt(e);function p(e){var i=o,r=a;return o=a=t,d=e,s=n.apply(r,i)}function w(t){return d=t,h=zo(k,i),c?p(t):s}function m(e){var n=e-u;return u===t||n>=i||n<0||g&&e-d>=l}function k(){var t=Ta();if(m(t))return v(t);h=zo(k,function(t){var e=i-(t-u);return g?bn(e,l-(t-d)):e}(t))}function v(e){return h=t,f&&o?p(e):(o=a=t,s)}function _(){var e=Ta(),n=m(e);if(o=arguments,a=this,u=e,n){if(h===t)return w(u);if(g)return Sr(h),h=zo(k,i),p(u)}return h===t&&(h=zo(k,i)),s}return i=yl(i)||0,ol(r)&&(c=!!r.leading,l=(g="maxWait"in r)?yn(yl(r.maxWait)||0,i):l,f="trailing"in r?!!r.trailing:f),_.cancel=function(){h!==t&&Sr(h),d=0,o=u=a=h=t},_.flush=function(){return h===t?s:v(Ta())},_}var Da=Ji((function(t,e){return gi(t,1,e)})),Na=Ji((function(t,e,n){return gi(t,yl(e)||0,n)}));function ja(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new Tt(e);var i=function e(){var i=arguments,r=n?n.apply(this,i):i[0],o=e.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return e.cache=o.set(r,a)||o,a};return i.cache=new(ja.Cache||$n),i}function qa(t){if("function"!=typeof t)throw new Tt(e);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}ja.Cache=$n;var Ma=xr((function(t,e){var n=(e=1==e.length&&Ga(e[0])?Pe(e[0],Ke(co())):Pe(_i(e,1),Ke(co()))).length;return Ji((function(i){for(var r=-1,o=bn(i.length,n);++r<o;)i[r]=e[r].call(this,i[r]);return Se(t,this,i)}))})),Ba=Ji((function(e,n){var i=un(n,uo(Ba));return to(e,o,t,n,i)})),Fa=Ji((function(e,n){var i=un(n,uo(Fa));return to(e,a,t,n,i)})),Ha=oo((function(e,n){return to(e,s,t,t,t,n)}));function Ua(t,e){return t===e||t!=t&&e!=e}var Wa=Gr(Yi),Va=Gr((function(t,e){return t>=e})),Za=Ri(function(){return arguments}())?Ri:function(t){return al(t)&&Dt.call(t,"callee")&&!$t.call(t,"callee")},Ga=xt.isArray,$a=ve?Ke(ve):function(t){return al(t)&&Xi(t)==T};function Ka(t){return null!=t&&rl(t.length)&&!nl(t)}function Qa(t){return al(t)&&Ka(t)}var Ja=We||ys,tl=_e?Ke(_e):function(t){return al(t)&&Xi(t)==k};function el(t){if(!al(t))return!1;var e=Xi(t);return e==v||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!hl(t)}function nl(t){if(!ol(t))return!1;var e=Xi(t);return e==_||e==y||"[object AsyncFunction]"==e||"[object Proxy]"==e}function il(t){return"number"==typeof t&&t==vl(t)}function rl(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=d}function ol(t){var e=u(t);return null!=t&&("object"==e||"function"==e)}function al(t){return null!=t&&"object"==u(t)}var ll=ye?Ke(ye):function(t){return al(t)&&ko(t)==b};function sl(t){return"number"==typeof t||al(t)&&Xi(t)==x}function hl(t){if(!al(t)||Xi(t)!=C)return!1;var e=Zt(t);if(null===e)return!0;var n=Dt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Ot.call(n)==Mt}var ul=be?Ke(be):function(t){return al(t)&&Xi(t)==I},dl=xe?Ke(xe):function(t){return al(t)&&ko(t)==E};function cl(t){return"string"==typeof t||!Ga(t)&&al(t)&&Xi(t)==X}function gl(t){return"symbol"==u(t)||al(t)&&Xi(t)==Y}var fl=Ce?Ke(Ce):function(t){return al(t)&&rl(t.length)&&!!ae[Xi(t)]},pl=Gr(Mi),wl=Gr((function(t,e){return t<=e}));function ml(t){if(!t)return[];if(Ka(t))return cl(t)?fn(t):Lr(t);if(ne&&t[ne])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[ne]());var e=ko(t);return(e==b?sn:e==E?dn:Ul)(t)}function kl(t){return t?(t=yl(t))===h||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function vl(t){var e=kl(t),n=e%1;return e==e?n?e-n:e:0}function _l(t){return t?ui(vl(t),0,g):0}function yl(t){if("number"==typeof t)return t;if(gl(t))return c;if(ol(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ol(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=$e(t);var n=ft.test(t);return n||wt.test(t)?ue(t.slice(2),n?2:8):gt.test(t)?c:+t}function bl(t){return Pr(t,Dl(t))}function xl(t){return null==t?"":cr(t)}var Cl=zr((function(t,e){if(Eo(e)||Ka(e))Pr(e,Ol(e),t);else for(var n in e)Dt.call(e,n)&&ri(t,n,e[n])})),Sl=zr((function(t,e){Pr(e,Dl(e),t)})),Il=zr((function(t,e,n,i){Pr(e,Dl(e),t,i)})),El=zr((function(t,e,n,i){Pr(e,Ol(e),t,i)})),Xl=oo(hi),Yl=Ji((function(e,n){e=Xt(e);var i=-1,r=n.length,o=r>2?n[2]:t;for(o&&xo(n[0],n[1],o)&&(r=1);++i<r;)for(var a=n[i],l=Dl(a),s=-1,h=l.length;++s<h;){var u=l[s],d=e[u];(d===t||Ua(d,Rt[u])&&!Dt.call(e,u))&&(e[u]=a[u])}return e})),Al=Ji((function(e){return e.push(t,no),Se(jl,t,e)}));function Tl(e,n,i){var r=null==e?t:Ii(e,n);return r===t?i:r}function Ll(t,e){return null!=t&&vo(t,e,Ti)}var Pl=Hr((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=qt.call(e)),t[e]=n}),os(ss)),Rl=Hr((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=qt.call(e)),Dt.call(t,e)?t[e].push(n):t[e]=[n]}),co),zl=Ji(Pi);function Ol(t){return Ka(t)?Jn(t):ji(t)}function Dl(t){return Ka(t)?Jn(t,!0):qi(t)}var Nl=zr((function(t,e,n){Ui(t,e,n)})),jl=zr((function(t,e,n,i){Ui(t,e,n,i)})),ql=oo((function(t,e){var n={};if(null==t)return n;var i=!1;e=Pe(e,(function(e){return e=br(e,t),i||(i=e.length>1),e})),Pr(t,lo(t),n),i&&(n=di(n,7,io));for(var r=e.length;r--;)fr(n,e[r]);return n})),Ml=oo((function(t,e){return null==t?{}:function(t,e){return Zi(t,e,(function(e,n){return Ll(t,n)}))}(t,e)}));function Bl(t,e){if(null==t)return{};var n=Pe(lo(t),(function(t){return[t]}));return e=co(e),Zi(t,n,(function(t,n){return e(t,n[0])}))}var Fl=Jr(Ol),Hl=Jr(Dl);function Ul(t){return null==t?[]:Qe(t,Ol(t))}var Wl=jr((function(t,e,n){return e=e.toLowerCase(),t+(n?Vl(e):e)}));function Vl(t){return es(xl(t).toLowerCase())}function Zl(t){return(t=xl(t))&&t.replace(kt,rn).replace(Jt,"")}var Gl=jr((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),$l=jr((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Kl=Nr("toLowerCase"),Ql=jr((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),Jl=jr((function(t,e,n){return t+(n?" ":"")+es(e)})),ts=jr((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),es=Nr("toUpperCase");function ns(e,n,i){return e=xl(e),(n=i?t:n)===t?function(t){return ie.test(t)}(e)?function(t){return t.match(ee)||[]}(e):function(t){return t.match(st)||[]}(e):e.match(n)||[]}var is=Ji((function(e,n){try{return Se(e,t,n)}catch(ha){return el(ha)?ha:new St(ha)}})),rs=oo((function(t,e){return Ee(e,(function(e){e=Mo(e),si(t,e,Ra(t[e],t))})),t}));function os(t){return function(){return t}}var as=Br(),ls=Br(!0);function ss(t){return t}function hs(t){return Ni("function"==typeof t?t:di(t,1))}var us=Ji((function(t,e){return function(n){return Pi(n,t,e)}})),ds=Ji((function(t,e){return function(n){return Pi(t,n,e)}}));function cs(t,e,n){var i=Ol(e),r=Si(e,i);null!=n||ol(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=Si(e,Ol(e)));var o=!(ol(n)&&"chain"in n&&!n.chain),a=nl(t);return Ee(r,(function(n){var i=e[n];t[n]=i,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),r=n.__actions__=Lr(this.__actions__);return r.push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,Re([this.value()],arguments))})})),t}function gs(){}var fs=Wr(Pe),ps=Wr(Ye),ws=Wr(De);function ms(t){return Co(t)?Ue(Mo(t)):function(t){return function(e){return Ii(e,t)}}(t)}var ks=Zr(),vs=Zr(!0);function _s(){return[]}function ys(){return!1}var bs,xs=Ur((function(t,e){return t+e}),0),Cs=Kr("ceil"),Ss=Ur((function(t,e){return t/e}),1),Is=Kr("floor"),Es=Ur((function(t,e){return t*e}),1),Xs=Kr("round"),Ys=Ur((function(t,e){return t-e}),0);return Fn.after=function(t,n){if("function"!=typeof n)throw new Tt(e);return t=vl(t),function(){if(--t<1)return n.apply(this,arguments)}},Fn.ary=La,Fn.assign=Cl,Fn.assignIn=Sl,Fn.assignInWith=Il,Fn.assignWith=El,Fn.at=Xl,Fn.before=Pa,Fn.bind=Ra,Fn.bindAll=rs,Fn.bindKey=za,Fn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ga(t)?t:[t]},Fn.chain=ma,Fn.chunk=function(e,n,i){n=(i?xo(e,n,i):n===t)?1:yn(vl(n),0);var r=null==e?0:e.length;if(!r||n<1)return[];for(var o=0,a=0,l=xt(me(r/n));o<r;)l[a++]=ar(e,o,o+=n);return l},Fn.compact=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r},Fn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=xt(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Re(Ga(n)?Lr(n):[n],_i(e,1))},Fn.cond=function(t){var n=null==t?0:t.length,i=co();return t=n?Pe(t,(function(t){if("function"!=typeof t[1])throw new Tt(e);return[i(t[0]),t[1]]})):[],Ji((function(e){for(var i=-1;++i<n;){var r=t[i];if(Se(r[0],this,e))return Se(r[1],this,e)}}))},Fn.conforms=function(t){return function(t){var e=Ol(t);return function(n){return ci(n,t,e)}}(di(t,1))},Fn.constant=os,Fn.countBy=_a,Fn.create=function(t,e){var n=Hn(t);return null==e?n:li(n,e)},Fn.curry=function e(n,i,r){var o=to(n,8,t,t,t,t,t,i=r?t:i);return o.placeholder=e.placeholder,o},Fn.curryRight=function e(n,i,o){var a=to(n,r,t,t,t,t,t,i=o?t:i);return a.placeholder=e.placeholder,a},Fn.debounce=Oa,Fn.defaults=Yl,Fn.defaultsDeep=Al,Fn.defer=Da,Fn.delay=Na,Fn.difference=Ho,Fn.differenceBy=Uo,Fn.differenceWith=Wo,Fn.drop=function(e,n,i){var r=null==e?0:e.length;return r?ar(e,(n=i||n===t?1:vl(n))<0?0:n,r):[]},Fn.dropRight=function(e,n,i){var r=null==e?0:e.length;return r?ar(e,0,(n=r-(n=i||n===t?1:vl(n)))<0?0:n):[]},Fn.dropRightWhile=function(t,e){return t&&t.length?wr(t,co(e,3),!0,!0):[]},Fn.dropWhile=function(t,e){return t&&t.length?wr(t,co(e,3),!0):[]},Fn.fill=function(e,n,i,r){var o=null==e?0:e.length;return o?(i&&"number"!=typeof i&&xo(e,n,i)&&(i=0,r=o),function(e,n,i,r){var o=e.length;for((i=vl(i))<0&&(i=-i>o?0:o+i),(r=r===t||r>o?o:vl(r))<0&&(r+=o),r=i>r?0:_l(r);i<r;)e[i++]=n;return e}(e,n,i,r)):[]},Fn.filter=function(t,e){return(Ga(t)?Ae:vi)(t,co(e,3))},Fn.flatMap=function(t,e){return _i(Xa(t,e),1)},Fn.flatMapDeep=function(t,e){return _i(Xa(t,e),h)},Fn.flatMapDepth=function(e,n,i){return i=i===t?1:vl(i),_i(Xa(e,n),i)},Fn.flatten=Go,Fn.flattenDeep=function(t){return null!=t&&t.length?_i(t,h):[]},Fn.flattenDepth=function(e,n){return null!=e&&e.length?_i(e,n=n===t?1:vl(n)):[]},Fn.flip=function(t){return to(t,512)},Fn.flow=as,Fn.flowRight=ls,Fn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i},Fn.functions=function(t){return null==t?[]:Si(t,Ol(t))},Fn.functionsIn=function(t){return null==t?[]:Si(t,Dl(t))},Fn.groupBy=Sa,Fn.initial=function(t){return null!=t&&t.length?ar(t,0,-1):[]},Fn.intersection=Ko,Fn.intersectionBy=Qo,Fn.intersectionWith=Jo,Fn.invert=Pl,Fn.invertBy=Rl,Fn.invokeMap=Ia,Fn.iteratee=hs,Fn.keyBy=Ea,Fn.keys=Ol,Fn.keysIn=Dl,Fn.map=Xa,Fn.mapKeys=function(t,e){var n={};return e=co(e,3),xi(t,(function(t,i,r){si(n,e(t,i,r),t)})),n},Fn.mapValues=function(t,e){var n={};return e=co(e,3),xi(t,(function(t,i,r){si(n,i,e(t,i,r))})),n},Fn.matches=function(t){return Fi(di(t,1))},Fn.matchesProperty=function(t,e){return Hi(t,di(e,1))},Fn.memoize=ja,Fn.merge=Nl,Fn.mergeWith=jl,Fn.method=us,Fn.methodOf=ds,Fn.mixin=cs,Fn.negate=qa,Fn.nthArg=function(t){return t=vl(t),Ji((function(e){return Wi(e,t)}))},Fn.omit=ql,Fn.omitBy=function(t,e){return Bl(t,qa(co(e)))},Fn.once=function(t){return Pa(2,t)},Fn.orderBy=function(e,n,i,r){return null==e?[]:(Ga(n)||(n=null==n?[]:[n]),Ga(i=r?t:i)||(i=null==i?[]:[i]),Vi(e,n,i))},Fn.over=fs,Fn.overArgs=Ma,Fn.overEvery=ps,Fn.overSome=ws,Fn.partial=Ba,Fn.partialRight=Fa,Fn.partition=Ya,Fn.pick=Ml,Fn.pickBy=Bl,Fn.property=ms,Fn.propertyOf=function(e){return function(n){return null==e?t:Ii(e,n)}},Fn.pull=ea,Fn.pullAll=na,Fn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Gi(t,e,co(n,2)):t},Fn.pullAllWith=function(e,n,i){return e&&e.length&&n&&n.length?Gi(e,n,t,i):e},Fn.pullAt=ia,Fn.range=ks,Fn.rangeRight=vs,Fn.rearg=Ha,Fn.reject=function(t,e){return(Ga(t)?Ae:vi)(t,qa(co(e,3)))},Fn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=co(e,3);++i<o;){var a=t[i];e(a,i,t)&&(n.push(a),r.push(i))}return $i(t,r),n},Fn.rest=function(n,i){if("function"!=typeof n)throw new Tt(e);return Ji(n,i=i===t?i:vl(i))},Fn.reverse=ra,Fn.sampleSize=function(e,n,i){return n=(i?xo(e,n,i):n===t)?1:vl(n),(Ga(e)?ei:er)(e,n)},Fn.set=function(t,e,n){return null==t?t:nr(t,e,n)},Fn.setWith=function(e,n,i,r){return r="function"==typeof r?r:t,null==e?e:nr(e,n,i,r)},Fn.shuffle=function(t){return(Ga(t)?ni:or)(t)},Fn.slice=function(e,n,i){var r=null==e?0:e.length;return r?(i&&"number"!=typeof i&&xo(e,n,i)?(n=0,i=r):(n=null==n?0:vl(n),i=i===t?r:vl(i)),ar(e,n,i)):[]},Fn.sortBy=Aa,Fn.sortedUniq=function(t){return t&&t.length?ur(t):[]},Fn.sortedUniqBy=function(t,e){return t&&t.length?ur(t,co(e,2)):[]},Fn.split=function(e,n,i){return i&&"number"!=typeof i&&xo(e,n,i)&&(n=i=t),(i=i===t?g:i>>>0)?(e=xl(e))&&("string"==typeof n||null!=n&&!ul(n))&&!(n=cr(n))&&ln(e)?Cr(fn(e),0,i):e.split(n,i):[]},Fn.spread=function(t,n){if("function"!=typeof t)throw new Tt(e);return n=null==n?0:yn(vl(n),0),Ji((function(e){var i=e[n],r=Cr(e,0,n);return i&&Re(r,i),Se(t,this,r)}))},Fn.tail=function(t){var e=null==t?0:t.length;return e?ar(t,1,e):[]},Fn.take=function(e,n,i){return e&&e.length?ar(e,0,(n=i||n===t?1:vl(n))<0?0:n):[]},Fn.takeRight=function(e,n,i){var r=null==e?0:e.length;return r?ar(e,(n=r-(n=i||n===t?1:vl(n)))<0?0:n,r):[]},Fn.takeRightWhile=function(t,e){return t&&t.length?wr(t,co(e,3),!1,!0):[]},Fn.takeWhile=function(t,e){return t&&t.length?wr(t,co(e,3)):[]},Fn.tap=function(t,e){return e(t),t},Fn.throttle=function(t,n,i){var r=!0,o=!0;if("function"!=typeof t)throw new Tt(e);return ol(i)&&(r="leading"in i?!!i.leading:r,o="trailing"in i?!!i.trailing:o),Oa(t,n,{leading:r,maxWait:n,trailing:o})},Fn.thru=ka,Fn.toArray=ml,Fn.toPairs=Fl,Fn.toPairsIn=Hl,Fn.toPath=function(t){return Ga(t)?Pe(t,Mo):gl(t)?[t]:Lr(qo(xl(t)))},Fn.toPlainObject=bl,Fn.transform=function(t,e,n){var i=Ga(t),r=i||Ja(t)||fl(t);if(e=co(e,4),null==n){var o=t&&t.constructor;n=r?i?new o:[]:ol(t)&&nl(o)?Hn(Zt(t)):{}}return(r?Ee:xi)(t,(function(t,i,r){return e(n,t,i,r)})),n},Fn.unary=function(t){return La(t,1)},Fn.union=oa,Fn.unionBy=aa,Fn.unionWith=la,Fn.uniq=function(t){return t&&t.length?gr(t):[]},Fn.uniqBy=function(t,e){return t&&t.length?gr(t,co(e,2)):[]},Fn.uniqWith=function(e,n){return n="function"==typeof n?n:t,e&&e.length?gr(e,t,n):[]},Fn.unset=function(t,e){return null==t||fr(t,e)},Fn.unzip=sa,Fn.unzipWith=ua,Fn.update=function(t,e,n){return null==t?t:pr(t,e,yr(n))},Fn.updateWith=function(e,n,i,r){return r="function"==typeof r?r:t,null==e?e:pr(e,n,yr(i),r)},Fn.values=Ul,Fn.valuesIn=function(t){return null==t?[]:Qe(t,Dl(t))},Fn.without=da,Fn.words=ns,Fn.wrap=function(t,e){return Ba(yr(e),t)},Fn.xor=ca,Fn.xorBy=ga,Fn.xorWith=fa,Fn.zip=pa,Fn.zipObject=function(t,e){return vr(t||[],e||[],ri)},Fn.zipObjectDeep=function(t,e){return vr(t||[],e||[],nr)},Fn.zipWith=wa,Fn.entries=Fl,Fn.entriesIn=Hl,Fn.extend=Sl,Fn.extendWith=Il,cs(Fn,Fn),Fn.add=xs,Fn.attempt=is,Fn.camelCase=Wl,Fn.capitalize=Vl,Fn.ceil=Cs,Fn.clamp=function(e,n,i){return i===t&&(i=n,n=t),i!==t&&(i=(i=yl(i))==i?i:0),n!==t&&(n=(n=yl(n))==n?n:0),ui(yl(e),n,i)},Fn.clone=function(t){return di(t,4)},Fn.cloneDeep=function(t){return di(t,5)},Fn.cloneDeepWith=function(e,n){return di(e,5,n="function"==typeof n?n:t)},Fn.cloneWith=function(e,n){return di(e,4,n="function"==typeof n?n:t)},Fn.conformsTo=function(t,e){return null==e||ci(t,e,Ol(e))},Fn.deburr=Zl,Fn.defaultTo=function(t,e){return null==t||t!=t?e:t},Fn.divide=Ss,Fn.endsWith=function(e,n,i){e=xl(e),n=cr(n);var r=e.length,o=i=i===t?r:ui(vl(i),0,r);return(i-=n.length)>=0&&e.slice(i,o)==n},Fn.eq=Ua,Fn.escape=function(t){return(t=xl(t))&&Z.test(t)?t.replace(W,on):t},Fn.escapeRegExp=function(t){return(t=xl(t))&&nt.test(t)?t.replace(et,"\\$&"):t},Fn.every=function(e,n,i){var r=Ga(e)?Ye:mi;return i&&xo(e,n,i)&&(n=t),r(e,co(n,3))},Fn.find=ya,Fn.findIndex=Vo,Fn.findKey=function(t,e){return je(t,co(e,3),xi)},Fn.findLast=ba,Fn.findLastIndex=Zo,Fn.findLastKey=function(t,e){return je(t,co(e,3),Ci)},Fn.floor=Is,Fn.forEach=xa,Fn.forEachRight=Ca,Fn.forIn=function(t,e){return null==t?t:yi(t,co(e,3),Dl)},Fn.forInRight=function(t,e){return null==t?t:bi(t,co(e,3),Dl)},Fn.forOwn=function(t,e){return t&&xi(t,co(e,3))},Fn.forOwnRight=function(t,e){return t&&Ci(t,co(e,3))},Fn.get=Tl,Fn.gt=Wa,Fn.gte=Va,Fn.has=function(t,e){return null!=t&&vo(t,e,Ai)},Fn.hasIn=Ll,Fn.head=$o,Fn.identity=ss,Fn.includes=function(t,e,n,i){t=Ka(t)?t:Ul(t),n=n&&!i?vl(n):0;var r=t.length;return n<0&&(n=yn(r+n,0)),cl(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&Me(t,e,n)>-1},Fn.indexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:vl(n);return r<0&&(r=yn(i+r,0)),Me(t,e,r)},Fn.inRange=function(e,n,i){return n=kl(n),i===t?(i=n,n=0):i=kl(i),function(t,e,n){return t>=bn(e,n)&&t<yn(e,n)}(e=yl(e),n,i)},Fn.invoke=zl,Fn.isArguments=Za,Fn.isArray=Ga,Fn.isArrayBuffer=$a,Fn.isArrayLike=Ka,Fn.isArrayLikeObject=Qa,Fn.isBoolean=function(t){return!0===t||!1===t||al(t)&&Xi(t)==m},Fn.isBuffer=Ja,Fn.isDate=tl,Fn.isElement=function(t){return al(t)&&1===t.nodeType&&!hl(t)},Fn.isEmpty=function(t){if(null==t)return!0;if(Ka(t)&&(Ga(t)||"string"==typeof t||"function"==typeof t.splice||Ja(t)||fl(t)||Za(t)))return!t.length;var e=ko(t);if(e==b||e==E)return!t.size;if(Eo(t))return!ji(t).length;for(var n in t)if(Dt.call(t,n))return!1;return!0},Fn.isEqual=function(t,e){return zi(t,e)},Fn.isEqualWith=function(e,n,i){var r=(i="function"==typeof i?i:t)?i(e,n):t;return r===t?zi(e,n,t,i):!!r},Fn.isError=el,Fn.isFinite=function(t){return"number"==typeof t&&kn(t)},Fn.isFunction=nl,Fn.isInteger=il,Fn.isLength=rl,Fn.isMap=ll,Fn.isMatch=function(t,e){return t===e||Oi(t,e,fo(e))},Fn.isMatchWith=function(e,n,i){return i="function"==typeof i?i:t,Oi(e,n,fo(n),i)},Fn.isNaN=function(t){return sl(t)&&t!=+t},Fn.isNative=function(t){if(Io(t))throw new St("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Di(t)},Fn.isNil=function(t){return null==t},Fn.isNull=function(t){return null===t},Fn.isNumber=sl,Fn.isObject=ol,Fn.isObjectLike=al,Fn.isPlainObject=hl,Fn.isRegExp=ul,Fn.isSafeInteger=function(t){return il(t)&&t>=-9007199254740991&&t<=d},Fn.isSet=dl,Fn.isString=cl,Fn.isSymbol=gl,Fn.isTypedArray=fl,Fn.isUndefined=function(e){return e===t},Fn.isWeakMap=function(t){return al(t)&&ko(t)==A},Fn.isWeakSet=function(t){return al(t)&&"[object WeakSet]"==Xi(t)},Fn.join=function(t,e){return null==t?"":vn.call(t,e)},Fn.kebabCase=Gl,Fn.last=ta,Fn.lastIndexOf=function(e,n,i){var r=null==e?0:e.length;if(!r)return-1;var o=r;return i!==t&&(o=(o=vl(i))<0?yn(r+o,0):bn(o,r-1)),n==n?function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}(e,n,o):qe(e,Fe,o,!0)},Fn.lowerCase=$l,Fn.lowerFirst=Kl,Fn.lt=pl,Fn.lte=wl,Fn.max=function(e){return e&&e.length?ki(e,ss,Yi):t},Fn.maxBy=function(e,n){return e&&e.length?ki(e,co(n,2),Yi):t},Fn.mean=function(t){return He(t,ss)},Fn.meanBy=function(t,e){return He(t,co(e,2))},Fn.min=function(e){return e&&e.length?ki(e,ss,Mi):t},Fn.minBy=function(e,n){return e&&e.length?ki(e,co(n,2),Mi):t},Fn.stubArray=_s,Fn.stubFalse=ys,Fn.stubObject=function(){return{}},Fn.stubString=function(){return""},Fn.stubTrue=function(){return!0},Fn.multiply=Es,Fn.nth=function(e,n){return e&&e.length?Wi(e,vl(n)):t},Fn.noConflict=function(){return ge._===this&&(ge._=Bt),this},Fn.noop=gs,Fn.now=Ta,Fn.pad=function(t,e,n){t=xl(t);var i=(e=vl(e))?gn(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return Vr(ke(r),n)+t+Vr(me(r),n)},Fn.padEnd=function(t,e,n){t=xl(t);var i=(e=vl(e))?gn(t):0;return e&&i<e?t+Vr(e-i,n):t},Fn.padStart=function(t,e,n){t=xl(t);var i=(e=vl(e))?gn(t):0;return e&&i<e?Vr(e-i,n)+t:t},Fn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Cn(xl(t).replace(it,""),e||0)},Fn.random=function(e,n,i){if(i&&"boolean"!=typeof i&&xo(e,n,i)&&(n=i=t),i===t&&("boolean"==typeof n?(i=n,n=t):"boolean"==typeof e&&(i=e,e=t)),e===t&&n===t?(e=0,n=1):(e=kl(e),n===t?(n=e,e=0):n=kl(n)),e>n){var r=e;e=n,n=r}if(i||e%1||n%1){var o=Sn();return bn(e+o*(n-e+he("1e-"+((o+"").length-1))),n)}return Ki(e,n)},Fn.reduce=function(t,e,n){var i=Ga(t)?ze:Ve,r=arguments.length<3;return i(t,co(e,4),n,r,pi)},Fn.reduceRight=function(t,e,n){var i=Ga(t)?Oe:Ve,r=arguments.length<3;return i(t,co(e,4),n,r,wi)},Fn.repeat=function(e,n,i){return n=(i?xo(e,n,i):n===t)?1:vl(n),Qi(xl(e),n)},Fn.replace=function(){var t=arguments,e=xl(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Fn.result=function(e,n,i){var r=-1,o=(n=br(n,e)).length;for(o||(o=1,e=t);++r<o;){var a=null==e?t:e[Mo(n[r])];a===t&&(r=o,a=i),e=nl(a)?a.call(e):a}return e},Fn.round=Xs,Fn.runInContext=rt,Fn.sample=function(t){return(Ga(t)?ti:tr)(t)},Fn.size=function(t){if(null==t)return 0;if(Ka(t))return cl(t)?gn(t):t.length;var e=ko(t);return e==b||e==E?t.size:ji(t).length},Fn.snakeCase=Ql,Fn.some=function(e,n,i){var r=Ga(e)?De:lr;return i&&xo(e,n,i)&&(n=t),r(e,co(n,3))},Fn.sortedIndex=function(t,e){return sr(t,e)},Fn.sortedIndexBy=function(t,e,n){return hr(t,e,co(n,2))},Fn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var i=sr(t,e);if(i<n&&Ua(t[i],e))return i}return-1},Fn.sortedLastIndex=function(t,e){return sr(t,e,!0)},Fn.sortedLastIndexBy=function(t,e,n){return hr(t,e,co(n,2),!0)},Fn.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=sr(t,e,!0)-1;if(Ua(t[n],e))return n}return-1},Fn.startCase=Jl,Fn.startsWith=function(t,e,n){return t=xl(t),n=null==n?0:ui(vl(n),0,t.length),e=cr(e),t.slice(n,n+e.length)==e},Fn.subtract=Ys,Fn.sum=function(t){return t&&t.length?Ze(t,ss):0},Fn.sumBy=function(t,e){return t&&t.length?Ze(t,co(e,2)):0},Fn.template=function(e,n,i){var r=Fn.templateSettings;i&&xo(e,n,i)&&(n=t),e=xl(e),n=Il({},n,r,eo);var o,a,l=Il({},n.imports,r.imports,eo),s=Ol(l),h=Qe(l,s),u=0,d=n.interpolate||vt,c="__p += '",g=Yt((n.escape||vt).source+"|"+d.source+"|"+(d===K?dt:vt).source+"|"+(n.evaluate||vt).source+"|$","g"),f="//# sourceURL="+(Dt.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++oe+"]")+"\n";e.replace(g,(function(t,n,i,r,l,s){return i||(i=r),c+=e.slice(u,s).replace(bt,an),n&&(o=!0,c+="' +\n__e("+n+") +\n'"),l&&(a=!0,c+="';\n"+l+";\n__p += '"),i&&(c+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=s+t.length,t})),c+="';\n";var p=Dt.call(n,"variable")&&n.variable;if(p){if(ht.test(p))throw new St("Invalid `variable` option passed into `_.template`")}else c="with (obj) {\n"+c+"\n}\n";c=(a?c.replace(B,""):c).replace(F,"$1").replace(H,"$1;"),c="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+c+"return __p\n}";var w=is((function(){return It(s,f+"return "+c).apply(t,h)}));if(w.source=c,el(w))throw w;return w},Fn.times=function(t,e){if((t=vl(t))<1||t>d)return[];var n=g,i=bn(t,g);e=co(e),t-=g;for(var r=Ge(i,e);++n<t;)e(n);return r},Fn.toFinite=kl,Fn.toInteger=vl,Fn.toLength=_l,Fn.toLower=function(t){return xl(t).toLowerCase()},Fn.toNumber=yl,Fn.toSafeInteger=function(t){return t?ui(vl(t),-9007199254740991,d):0===t?t:0},Fn.toString=xl,Fn.toUpper=function(t){return xl(t).toUpperCase()},Fn.trim=function(e,n,i){if((e=xl(e))&&(i||n===t))return $e(e);if(!e||!(n=cr(n)))return e;var r=fn(e),o=fn(n);return Cr(r,tn(r,o),en(r,o)+1).join("")},Fn.trimEnd=function(e,n,i){if((e=xl(e))&&(i||n===t))return e.slice(0,pn(e)+1);if(!e||!(n=cr(n)))return e;var r=fn(e);return Cr(r,0,en(r,fn(n))+1).join("")},Fn.trimStart=function(e,n,i){if((e=xl(e))&&(i||n===t))return e.replace(it,"");if(!e||!(n=cr(n)))return e;var r=fn(e);return Cr(r,tn(r,fn(n))).join("")},Fn.truncate=function(e,n){var i=30,r="...";if(ol(n)){var o="separator"in n?n.separator:o;i="length"in n?vl(n.length):i,r="omission"in n?cr(n.omission):r}var a=(e=xl(e)).length;if(ln(e)){var l=fn(e);a=l.length}if(i>=a)return e;var s=i-gn(r);if(s<1)return r;var h=l?Cr(l,0,s).join(""):e.slice(0,s);if(o===t)return h+r;if(l&&(s+=h.length-s),ul(o)){if(e.slice(s).search(o)){var u,d=h;for(o.global||(o=Yt(o.source,xl(ct.exec(o))+"g")),o.lastIndex=0;u=o.exec(d);)var c=u.index;h=h.slice(0,c===t?s:c)}}else if(e.indexOf(cr(o),s)!=s){var g=h.lastIndexOf(o);g>-1&&(h=h.slice(0,g))}return h+r},Fn.unescape=function(t){return(t=xl(t))&&V.test(t)?t.replace(U,wn):t},Fn.uniqueId=function(t){var e=++Nt;return xl(t)+e},Fn.upperCase=ts,Fn.upperFirst=es,Fn.each=xa,Fn.eachRight=Ca,Fn.first=$o,cs(Fn,(bs={},xi(Fn,(function(t,e){Dt.call(Fn.prototype,e)||(bs[e]=t)})),bs),{chain:!1}),Fn.VERSION="4.17.21",Ee(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Fn[t].placeholder=Fn})),Ee(["drop","take"],(function(e,n){Vn.prototype[e]=function(i){i=i===t?1:yn(vl(i),0);var r=this.__filtered__&&!n?new Vn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(i,r.__takeCount__):r.__views__.push({size:bn(i,g),type:e+(r.__dir__<0?"Right":"")}),r},Vn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ee(["filter","map","takeWhile"],(function(t,e){var n=e+1,i=1==n||3==n;Vn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:co(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}})),Ee(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Vn.prototype[t]=function(){return this[n](1).value()[0]}})),Ee(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Vn.prototype[t]=function(){return this.__filtered__?new Vn(this):this[n](1)}})),Vn.prototype.compact=function(){return this.filter(ss)},Vn.prototype.find=function(t){return this.filter(t).head()},Vn.prototype.findLast=function(t){return this.reverse().find(t)},Vn.prototype.invokeMap=Ji((function(t,e){return"function"==typeof t?new Vn(this):this.map((function(n){return Pi(n,t,e)}))})),Vn.prototype.reject=function(t){return this.filter(qa(co(t)))},Vn.prototype.slice=function(e,n){e=vl(e);var i=this;return i.__filtered__&&(e>0||n<0)?new Vn(i):(e<0?i=i.takeRight(-e):e&&(i=i.drop(e)),n!==t&&(i=(n=vl(n))<0?i.dropRight(-n):i.take(n-e)),i)},Vn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Vn.prototype.toArray=function(){return this.take(g)},xi(Vn.prototype,(function(e,n){var i=/^(?:filter|find|map|reject)|While$/.test(n),r=/^(?:head|last)$/.test(n),o=Fn[r?"take"+("last"==n?"Right":""):n],a=r||/^find/.test(n);o&&(Fn.prototype[n]=function(){var n=this.__wrapped__,l=r?[1]:arguments,s=n instanceof Vn,h=l[0],u=s||Ga(n),d=function(t){var e=o.apply(Fn,Re([t],l));return r&&c?e[0]:e};u&&i&&"function"==typeof h&&1!=h.length&&(s=u=!1);var c=this.__chain__,g=!!this.__actions__.length,f=a&&!c,p=s&&!g;if(!a&&u){n=p?n:new Vn(this);var w=e.apply(n,l);return w.__actions__.push({func:ka,args:[d],thisArg:t}),new Wn(w,c)}return f&&p?e.apply(this,l):(w=this.thru(d),f?r?w.value()[0]:w.value():w)})})),Ee(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Lt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);Fn.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(Ga(r)?r:[],t)}return this[n]((function(n){return e.apply(Ga(n)?n:[],t)}))}})),xi(Vn.prototype,(function(t,e){var n=Fn[e];if(n){var i=n.name+"";Dt.call(Rn,i)||(Rn[i]=[]),Rn[i].push({name:e,func:n})}})),Rn[Fr(t,2).name]=[{name:"wrapper",func:t}],Vn.prototype.clone=function(){var t=new Vn(this.__wrapped__);return t.__actions__=Lr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Lr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Lr(this.__views__),t},Vn.prototype.reverse=function(){if(this.__filtered__){var t=new Vn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Vn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ga(t),i=e<0,r=n?t.length:0,o=function(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=bn(e,t+a);break;case"takeRight":t=yn(t,e-a)}}return{start:t,end:e}}(0,r,this.__views__),a=o.start,l=o.end,s=l-a,h=i?l:a-1,u=this.__iteratees__,d=u.length,c=0,g=bn(s,this.__takeCount__);if(!n||!i&&r==s&&g==s)return mr(t,this.__actions__);var f=[];t:for(;s--&&c<g;){for(var p=-1,w=t[h+=e];++p<d;){var m=u[p],k=m.iteratee,v=m.type,_=k(w);if(2==v)w=_;else if(!_){if(1==v)continue t;break t}}f[c++]=w}return f},Fn.prototype.at=va,Fn.prototype.chain=function(){return ma(this)},Fn.prototype.commit=function(){return new Wn(this.value(),this.__chain__)},Fn.prototype.next=function(){this.__values__===t&&(this.__values__=ml(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?t:this.__values__[this.__index__++]}},Fn.prototype.plant=function(e){for(var n,i=this;i instanceof Un;){var r=Fo(i);r.__index__=0,r.__values__=t,n?o.__wrapped__=r:n=r;var o=r;i=i.__wrapped__}return o.__wrapped__=e,n},Fn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Vn){var n=e;return this.__actions__.length&&(n=new Vn(this)),(n=n.reverse()).__actions__.push({func:ka,args:[ra],thisArg:t}),new Wn(n,this.__chain__)}return this.thru(ra)},Fn.prototype.toJSON=Fn.prototype.valueOf=Fn.prototype.value=function(){return mr(this.__wrapped__,this.__actions__)},Fn.prototype.first=Fn.prototype.head,ne&&(Fn.prototype[ne]=function(){return this}),Fn}();pe?((pe.exports=mn)._=mn,fe._=mn):ge._=mn}.call(Ct);var It=St.exports,Et=function(){function t(e){f(this,t),this.game=e,this.audibles={},this.format="mp3",this.newSong="",this.music={},this.sounds={}}return w(t,[{key:"parse",value:function(t,e,n){var i=this.format,r=this.audibles,o=this.music,l=this.sounds,s="/audio/".concat(t,"/").concat(e,".").concat(i),h=document.createElement("audio");h.addEventListener("canplaythrough",(function t(){return h.removeEventListener("canplaythrough",t,!1)}),!1),h.addEventListener("error",(function(){a.error("The audible: ".concat(e," could not be loaded - unsupported extension?")),r[e]=null}),!1),h.preload="auto",h.setAttribute("autobuffer","true"),h.src=s,h.name=e,h.load(),r[e]=[h],It.times(n-1,(function(){var t;return null===(t=r[e])||void 0===t?void 0:t.push(h.cloneNode(!0))})),e in o?o[e]=!0:e in l&&(l[e]=!0)}},{key:"play",value:function(t,e){var n=this,i=this.game,r=this.sounds;if(this.isEnabled()&&!i.player.dead&&(!/safari/.test(vt)||/chrome/.test(vt)))switch(t){case it.Music:this.fadeOut(this.song,(function(){return n.reset(n.song)}));var o=this.get(e);if(!o)return;o.volume=0,o.play(),this.fadeIn(o),this.song=o;break;case it.SFX:r[e]||this.parse("sounds",e,4);var a=this.get(e);if(!a)return;a.volume=this.getSFXVolume(),a.play()}}},{key:"playHit",value:function(){this.play(it.SFX,"hit".concat(ut(1,2)))}},{key:"playKill",value:function(){this.play(it.SFX,"kill".concat(ut(1,2)))}},{key:"playHurt",value:function(){this.play(it.SFX,"hurt")}},{key:"update",value:function(){var t;if(this.isEnabled()&&this.newSong){var e=this.newSong,n=this.game,i=this.music,r=this.audibles;if(e&&e!==(null===(t=this.song)||void 0===t?void 0:t.name)){var o=this.getMusic(e);if(o){if(n.renderer.mobile?this.reset(this.song):this.fadeSongOut(),o.name in i&&!i[o.name]){this.parse("music",o.name,1);var a=h(r[o.name],1)[0];a.loop=!0,a.addEventListener("ended",(function(){return a.play()}),!1)}this.play(it.Music,o.name)}else n.renderer.mobile?this.reset(this.song):this.fadeSongOut()}}}},{key:"fadeIn",value:function(t){var e=this;t&&!t.fadingIn&&(this.clearFadeOut(t),t.fadingIn=window.setInterval((function(){t.volume+=.02;var n=e.getMusicVolume();t.volume>=n-.02&&(t.volume=n,e.clearFadeIn(t))}),100))}},{key:"fadeOut",value:function(t,e){t&&!t.fadingOut&&(this.clearFadeIn(t),t.fadingOut=window.setInterval((function(){t.volume-=.08,t.volume<=.08&&(t.volume=0,null==e||e(t),clearInterval(t.fadingOut))}),100))}},{key:"fadeSongOut",value:function(){var t=this;this.song&&(this.fadeOut(this.song,(function(e){return t.reset(e)})),this.song=null)}},{key:"clearFadeIn",value:function(t){t.fadingIn&&(clearInterval(t.fadingIn),t.fadingIn=null)}},{key:"clearFadeOut",value:function(t){t.fadingOut&&(clearInterval(t.fadingOut),t.fadingOut=null)}},{key:"reset",value:function(t){t&&t.readyState>0&&(t.pause(),t.currentTime=0)}},{key:"stop",value:function(){var t=this;this.song&&this.fadeOut(this.song,(function(){t.reset(t.song),t.song=null}))}},{key:"isEnabled",value:function(){return this.game.storage.data.settings.soundEnabled}},{key:"get",value:function(t){var e,n,i=this.audibles;if(i[t]){var r=It.find(i[t],(function(t){var e=t.ended,n=t.paused;return e||n}));return null!==(e=r)&&void 0!==e&&e.ended?r.currentTime=0:r=null===(n=i[t])||void 0===n?void 0:n[0],r}}},{key:"getMusic",value:function(t){return{name:t,sound:this.get(t)}}},{key:"getSFXVolume",value:function(){var t=this.game.storage;return t?t.data.settings.sfx/100:null}},{key:"getMusicVolume",value:function(){var t=this.game.storage;return t?t.data.settings.music/100:null}}]),t}(),Xt={exports:{}};
/*!
             * jQuery JavaScript Library v3.6.0
             * https://jquery.com/
             *
             * Includes Sizzle.js
             * https://sizzlejs.com/
             *
             * Copyright OpenJS Foundation and other contributors
             * Released under the MIT license
             * https://jquery.org/license
             *
             * Date: 2021-03-02T17:08Z
             */
!function(t){!function(e,n){t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}}("undefined"!=typeof window?window:Ct,(function(t,e){var n=[],i=Object.getPrototypeOf,r=n.slice,o=n.flat?function(t){return n.flat.call(t)}:function(t){return n.concat.apply([],t)},a=n.push,l=n.indexOf,s={},h=s.toString,d=s.hasOwnProperty,c=d.toString,g=c.call(Object),f={},p=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item},w=function(t){return null!=t&&t===t.window},m=t.document,k={type:!0,src:!0,nonce:!0,noModule:!0};function v(t,e,n){var i,r,o=(n=n||m).createElement("script");if(o.text=t,e)for(i in k)(r=e[i]||e.getAttribute&&e.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function _(t){return null==t?t+"":"object"===u(t)||"function"==typeof t?s[h.call(t)]||"object":u(t)}var y="3.6.0",b=function t(e,n){return new t.fn.init(e,n)};function x(t){var e=!!t&&"length"in t&&t.length,n=_(t);return!p(t)&&!w(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}b.fn=b.prototype={jquery:y,constructor:b,length:0,toArray:function(){return r.call(this)},get:function(t){return null==t?r.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=b.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return b.each(this,t)},map:function(t){return this.pushStack(b.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(b.grep(this,(function(t,e){return(e+1)%2})))},odd:function(){return this.pushStack(b.grep(this,(function(t,e){return e%2})))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:n.sort,splice:n.splice},b.extend=b.fn.extend=function(){var t,e,n,i,r,o,a=arguments[0]||{},l=1,s=arguments.length,h=!1;for("boolean"==typeof a&&(h=a,a=arguments[l]||{},l++),"object"===u(a)||p(a)||(a={}),l===s&&(a=this,l--);l<s;l++)if(null!=(t=arguments[l]))for(e in t)i=t[e],"__proto__"!==e&&a!==i&&(h&&i&&(b.isPlainObject(i)||(r=Array.isArray(i)))?(n=a[e],o=r&&!Array.isArray(n)?[]:r||b.isPlainObject(n)?n:{},r=!1,a[e]=b.extend(h,o,i)):void 0!==i&&(a[e]=i));return a},b.extend({expando:"jQuery"+(y+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==h.call(t))&&(!(e=i(t))||"function"==typeof(n=d.call(e,"constructor")&&e.constructor)&&c.call(n)===g)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){v(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,i=0;if(x(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(x(Object(t))?b.merge(n,"string"==typeof t?[t]:t):a.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:l.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,a=!n;r<o;r++)!e(t[r],r)!==a&&i.push(t[r]);return i},map:function(t,e,n){var i,r,a=0,l=[];if(x(t))for(i=t.length;a<i;a++)null!=(r=e(t[a],a,n))&&l.push(r);else for(a in t)null!=(r=e(t[a],a,n))&&l.push(r);return o(l)},guid:1,support:f}),"function"==typeof Symbol&&(b.fn[Symbol.iterator]=n[Symbol.iterator]),b.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){s["[object "+e+"]"]=e.toLowerCase()}));var C=
/*!
             * Sizzle CSS Selector Engine v2.3.6
             * https://sizzlejs.com/
             *
             * Copyright JS Foundation and other contributors
             * Released under the MIT license
             * https://js.foundation/
             *
             * Date: 2021-02-16
             */
function(t){var e,n,i,r,o,a,l,s,h,u,d,c,g,f,p,w,m,k,v,_="sizzle"+1*new Date,y=t.document,b=0,x=0,C=st(),S=st(),I=st(),E=st(),X=function(t,e){return t===e&&(d=!0),0},Y={}.hasOwnProperty,A=[],T=A.pop,L=A.push,P=A.push,R=A.slice,z=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},O="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",D="[\\x20\\t\\r\\n\\f]",N="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",j="\\[[\\x20\\t\\r\\n\\f]*("+N+")(?:"+D+"*([*^$|!~]?=)"+D+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+D+"*\\]",q=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|.*)\\)|)",M=new RegExp(D+"+","g"),B=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),F=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),H=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),U=new RegExp(D+"|>"),W=new RegExp(q),V=new RegExp("^"+N+"$"),Z={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N+"|[*])"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+O+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},G=/HTML$/i,$=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),nt=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},it=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,rt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},ot=function(){c()},at=_t((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{P.apply(A=R.call(y.childNodes),y.childNodes),A[y.childNodes.length].nodeType}catch(ha){P={apply:A.length?function(t,e){L.apply(t,R.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function lt(t,e,i,r){var o,l,h,u,d,f,m,k=e&&e.ownerDocument,y=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==y&&9!==y&&11!==y)return i;if(!r&&(c(e),e=e||g,p)){if(11!==y&&(d=J.exec(t)))if(o=d[1]){if(9===y){if(!(h=e.getElementById(o)))return i;if(h.id===o)return i.push(h),i}else if(k&&(h=k.getElementById(o))&&v(e,h)&&h.id===o)return i.push(h),i}else{if(d[2])return P.apply(i,e.getElementsByTagName(t)),i;if((o=d[3])&&n.getElementsByClassName&&e.getElementsByClassName)return P.apply(i,e.getElementsByClassName(o)),i}if(n.qsa&&!E[t+" "]&&(!w||!w.test(t))&&(1!==y||"object"!==e.nodeName.toLowerCase())){if(m=t,k=e,1===y&&(U.test(t)||H.test(t))){for((k=tt.test(t)&&mt(e.parentNode)||e)===e&&n.scope||((u=e.getAttribute("id"))?u=u.replace(it,rt):e.setAttribute("id",u=_)),l=(f=a(t)).length;l--;)f[l]=(u?"#"+u:":scope")+" "+vt(f[l]);m=f.join(",")}try{return P.apply(i,k.querySelectorAll(m)),i}catch(b){E(t,!0)}finally{u===_&&e.removeAttribute("id")}}}return s(t.replace(B,"$1"),e,i,r)}function st(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function ht(t){return t[_]=!0,t}function ut(t){var e=g.createElement("fieldset");try{return!!t(e)}catch(ha){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function dt(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function ct(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function gt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ft(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function pt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&at(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function wt(t){return ht((function(e){return e=+e,ht((function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))}))}))}function mt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=lt.support={},o=lt.isXML=function(t){var e=t&&t.namespaceURI,n=t&&(t.ownerDocument||t).documentElement;return!G.test(e||n&&n.nodeName||"HTML")},c=lt.setDocument=function(t){var e,r,a=t?t.ownerDocument||t:y;return a!=g&&9===a.nodeType&&a.documentElement?(f=(g=a).documentElement,p=!o(g),y!=g&&(r=g.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ot,!1):r.attachEvent&&r.attachEvent("onunload",ot)),n.scope=ut((function(t){return f.appendChild(t).appendChild(g.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length})),n.attributes=ut((function(t){return t.className="i",!t.getAttribute("className")})),n.getElementsByTagName=ut((function(t){return t.appendChild(g.createComment("")),!t.getElementsByTagName("*").length})),n.getElementsByClassName=Q.test(g.getElementsByClassName),n.getById=ut((function(t){return f.appendChild(t).id=_,!g.getElementsByName||!g.getElementsByName(_).length})),n.getById?(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&p){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&p){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&p)return e.getElementsByClassName(t)},m=[],w=[],(n.qsa=Q.test(g.querySelectorAll))&&(ut((function(t){var e;f.appendChild(t).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&w.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),t.querySelectorAll("[selected]").length||w.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+O+")"),t.querySelectorAll("[id~="+_+"-]").length||w.push("~="),(e=g.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||w.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),t.querySelectorAll(":checked").length||w.push(":checked"),t.querySelectorAll("a#"+_+"+*").length||w.push(".#.+[+~]"),t.querySelectorAll("\\\f"),w.push("[\\r\\n\\f]")})),ut((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=g.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&w.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&w.push(":enabled",":disabled"),f.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&w.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),w.push(",.*:")}))),(n.matchesSelector=Q.test(k=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ut((function(t){n.disconnectedMatch=k.call(t,"*"),k.call(t,"[s!='']:x"),m.push("!=",q)})),w=w.length&&new RegExp(w.join("|")),m=m.length&&new RegExp(m.join("|")),e=Q.test(f.compareDocumentPosition),v=e||Q.test(f.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},X=e?function(t,e){if(t===e)return d=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t==g||t.ownerDocument==y&&v(y,t)?-1:e==g||e.ownerDocument==y&&v(y,e)?1:u?z(u,t)-z(u,e):0:4&i?-1:1)}:function(t,e){if(t===e)return d=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],l=[e];if(!r||!o)return t==g?-1:e==g?1:r?-1:o?1:u?z(u,t)-z(u,e):0;if(r===o)return ct(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;a[i]===l[i];)i++;return i?ct(a[i],l[i]):a[i]==y?-1:l[i]==y?1:0},g):g},lt.matches=function(t,e){return lt(t,null,null,e)},lt.matchesSelector=function(t,e){if(c(t),n.matchesSelector&&p&&!E[e+" "]&&(!m||!m.test(e))&&(!w||!w.test(e)))try{var i=k.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(ha){E(e,!0)}return lt(e,g,null,[t]).length>0},lt.contains=function(t,e){return(t.ownerDocument||t)!=g&&c(t),v(t,e)},lt.attr=function(t,e){(t.ownerDocument||t)!=g&&c(t);var r=i.attrHandle[e.toLowerCase()],o=r&&Y.call(i.attrHandle,e.toLowerCase())?r(t,e,!p):void 0;return void 0!==o?o:n.attributes||!p?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},lt.escape=function(t){return(t+"").replace(it,rt)},lt.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},lt.uniqueSort=function(t){var e,i=[],r=0,o=0;if(d=!n.detectDuplicates,u=!n.sortStable&&t.slice(0),t.sort(X),d){for(;e=t[o++];)e===t[o]&&(r=i.push(o));for(;r--;)t.splice(i[r],1)}return u=null,t},r=lt.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},i=lt.selectors={cacheLength:50,createPseudo:ht,match:Z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||lt.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&lt.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return Z.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&W.test(n)&&(e=a(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=C[t+" "];return e||(e=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+t+"("+D+"|$)"))&&C(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(i){var r=lt.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(M," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),l="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,s){var h,u,d,c,g,f,p=o!==a?"nextSibling":"previousSibling",w=e.parentNode,m=l&&e.nodeName.toLowerCase(),k=!s&&!l,v=!1;if(w){if(o){for(;p;){for(c=e;c=c[p];)if(l?c.nodeName.toLowerCase()===m:1===c.nodeType)return!1;f=p="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?w.firstChild:w.lastChild],a&&k){for(v=(g=(h=(u=(d=(c=w)[_]||(c[_]={}))[c.uniqueID]||(d[c.uniqueID]={}))[t]||[])[0]===b&&h[1])&&h[2],c=g&&w.childNodes[g];c=++g&&c&&c[p]||(v=g=0)||f.pop();)if(1===c.nodeType&&++v&&c===e){u[t]=[b,g,v];break}}else if(k&&(v=g=(h=(u=(d=(c=e)[_]||(c[_]={}))[c.uniqueID]||(d[c.uniqueID]={}))[t]||[])[0]===b&&h[1]),!1===v)for(;(c=++g&&c&&c[p]||(v=g=0)||f.pop())&&((l?c.nodeName.toLowerCase()!==m:1!==c.nodeType)||!++v||(k&&((u=(d=c[_]||(c[_]={}))[c.uniqueID]||(d[c.uniqueID]={}))[t]=[b,v]),c!==e)););return(v-=r)===i||v%i==0&&v/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||lt.error("unsupported pseudo: "+t);return r[_]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?ht((function(t,n){for(var i,o=r(t,e),a=o.length;a--;)t[i=z(t,o[a])]=!(n[i]=o[a])})):function(t){return r(t,0,n)}):r}},pseudos:{not:ht((function(t){var e=[],n=[],i=l(t.replace(B,"$1"));return i[_]?ht((function(t,e,n,r){for(var o,a=i(t,null,r,[]),l=t.length;l--;)(o=a[l])&&(t[l]=!(e[l]=o))})):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}})),has:ht((function(t){return function(e){return lt(t,e).length>0}})),contains:ht((function(t){return t=t.replace(et,nt),function(e){return(e.textContent||r(e)).indexOf(t)>-1}})),lang:ht((function(t){return V.test(t||"")||lt.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=p?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===f},focus:function(t){return t===g.activeElement&&(!g.hasFocus||g.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:pt(!1),disabled:pt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return K.test(t.nodeName)},input:function(t){return $.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:wt((function(){return[0]})),last:wt((function(t,e){return[e-1]})),eq:wt((function(t,e,n){return[n<0?n+e:n]})),even:wt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:wt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:wt((function(t,e,n){for(var i=n<0?n+e:n>e?e:n;--i>=0;)t.push(i);return t})),gt:wt((function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t}))}},i.pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=gt(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=ft(e);function kt(){}function vt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function _t(t,e,n){var i=e.dir,r=e.next,o=r||i,a=n&&"parentNode"===o,l=x++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||a)return t(e,n,r);return!1}:function(e,n,s){var h,u,d,c=[b,l];if(s){for(;e=e[i];)if((1===e.nodeType||a)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||a)if(u=(d=e[_]||(e[_]={}))[e.uniqueID]||(d[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((h=u[o])&&h[0]===b&&h[1]===l)return c[2]=h[2];if(u[o]=c,c[2]=t(e,n,s))return!0}return!1}}function yt(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function bt(t,e,n,i,r){for(var o,a=[],l=0,s=t.length,h=null!=e;l<s;l++)(o=t[l])&&(n&&!n(o,i,r)||(a.push(o),h&&e.push(l)));return a}function xt(t,e,n,i,r,o){return i&&!i[_]&&(i=xt(i)),r&&!r[_]&&(r=xt(r,o)),ht((function(o,a,l,s){var h,u,d,c=[],g=[],f=a.length,p=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)lt(t,e[i],n);return n}(e||"*",l.nodeType?[l]:l,[]),w=!t||!o&&e?p:bt(p,c,t,l,s),m=n?r||(o?t:f||i)?[]:a:w;if(n&&n(w,m,l,s),i)for(h=bt(m,g),i(h,[],l,s),u=h.length;u--;)(d=h[u])&&(m[g[u]]=!(w[g[u]]=d));if(o){if(r||t){if(r){for(h=[],u=m.length;u--;)(d=m[u])&&h.push(w[u]=d);r(null,m=[],h,s)}for(u=m.length;u--;)(d=m[u])&&(h=r?z(o,d):c[u])>-1&&(o[h]=!(a[h]=d))}}else m=bt(m===a?m.splice(f,m.length):m),r?r(null,a,m,s):P.apply(a,m)}))}function Ct(t){for(var e,n,r,o=t.length,a=i.relative[t[0].type],l=a||i.relative[" "],s=a?1:0,u=_t((function(t){return t===e}),l,!0),d=_t((function(t){return z(e,t)>-1}),l,!0),c=[function(t,n,i){var r=!a&&(i||n!==h)||((e=n).nodeType?u(t,n,i):d(t,n,i));return e=null,r}];s<o;s++)if(n=i.relative[t[s].type])c=[_t(yt(c),n)];else{if((n=i.filter[t[s].type].apply(null,t[s].matches))[_]){for(r=++s;r<o&&!i.relative[t[r].type];r++);return xt(s>1&&yt(c),s>1&&vt(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(B,"$1"),n,s<r&&Ct(t.slice(s,r)),r<o&&Ct(t=t.slice(r)),r<o&&vt(t))}c.push(n)}return yt(c)}return kt.prototype=i.filters=i.pseudos,i.setFilters=new kt,a=lt.tokenize=function(t,e){var n,r,o,a,l,s,h,u=S[t+" "];if(u)return e?0:u.slice(0);for(l=t,s=[],h=i.preFilter;l;){for(a in n&&!(r=F.exec(l))||(r&&(l=l.slice(r[0].length)||l),s.push(o=[])),n=!1,(r=H.exec(l))&&(n=r.shift(),o.push({value:n,type:r[0].replace(B," ")}),l=l.slice(n.length)),i.filter)!(r=Z[a].exec(l))||h[a]&&!(r=h[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),l=l.slice(n.length));if(!n)break}return e?l.length:l?lt.error(t):S(t,s).slice(0)},l=lt.compile=function(t,e){var n,r=[],o=[],l=I[t+" "];if(!l){for(e||(e=a(t)),n=e.length;n--;)(l=Ct(e[n]))[_]?r.push(l):o.push(l);l=I(t,function(t,e){var n=e.length>0,r=t.length>0,o=function(o,a,l,s,u){var d,f,w,m=0,k="0",v=o&&[],_=[],y=h,x=o||r&&i.find.TAG("*",u),C=b+=null==y?1:Math.random()||.1,S=x.length;for(u&&(h=a==g||a||u);k!==S&&null!=(d=x[k]);k++){if(r&&d){for(f=0,a||d.ownerDocument==g||(c(d),l=!p);w=t[f++];)if(w(d,a||g,l)){s.push(d);break}u&&(b=C)}n&&((d=!w&&d)&&m--,o&&v.push(d))}if(m+=k,n&&k!==m){for(f=0;w=e[f++];)w(v,_,a,l);if(o){if(m>0)for(;k--;)v[k]||_[k]||(_[k]=T.call(s));_=bt(_)}P.apply(s,_),u&&!o&&_.length>0&&m+e.length>1&&lt.uniqueSort(s)}return u&&(b=C,h=y),v};return n?ht(o):o}(o,r)),l.selector=t}return l},s=lt.select=function(t,e,n,r){var o,s,h,u,d,c="function"==typeof t&&t,g=!r&&a(t=c.selector||t);if(n=n||[],1===g.length){if((s=g[0]=g[0].slice(0)).length>2&&"ID"===(h=s[0]).type&&9===e.nodeType&&p&&i.relative[s[1].type]){if(!(e=(i.find.ID(h.matches[0].replace(et,nt),e)||[])[0]))return n;c&&(e=e.parentNode),t=t.slice(s.shift().value.length)}for(o=Z.needsContext.test(t)?0:s.length;o--&&(h=s[o],!i.relative[u=h.type]);)if((d=i.find[u])&&(r=d(h.matches[0].replace(et,nt),tt.test(s[0].type)&&mt(e.parentNode)||e))){if(s.splice(o,1),!(t=r.length&&vt(s)))return P.apply(n,r),n;break}}return(c||l(t,g))(r,e,!p,n,!e||tt.test(t)&&mt(e.parentNode)||e),n},n.sortStable=_.split("").sort(X).join("")===_,n.detectDuplicates=!!d,c(),n.sortDetached=ut((function(t){return 1&t.compareDocumentPosition(g.createElement("fieldset"))})),ut((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||dt("type|href|height|width",(function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),n.attributes&&ut((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||dt("value",(function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),ut((function(t){return null==t.getAttribute("disabled")}))||dt(O,(function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null})),lt}(t);b.find=C,(b.expr=C.selectors)[":"]=b.expr.pseudos,b.uniqueSort=b.unique=C.uniqueSort,b.text=C.getText,b.isXMLDoc=C.isXML,b.contains=C.contains,b.escapeSelector=C.escape;var S=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&b(t).is(n))break;i.push(t)}return i},I=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},E=b.expr.match.needsContext;function X(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var Y=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function A(t,e,n){return p(e)?b.grep(t,(function(t,i){return!!e.call(t,i,t)!==n})):e.nodeType?b.grep(t,(function(t){return t===e!==n})):"string"!=typeof e?b.grep(t,(function(t){return l.call(e,t)>-1!==n})):b.filter(e,t,n)}b.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?b.find.matchesSelector(i,t)?[i]:[]:b.find.matches(t,b.grep(e,(function(t){return 1===t.nodeType})))},b.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(b(t).filter((function(){for(e=0;e<i;e++)if(b.contains(r[e],this))return!0})));for(n=this.pushStack([]),e=0;e<i;e++)b.find(t,r[e],n);return i>1?b.uniqueSort(n):n},filter:function(t){return this.pushStack(A(this,t||[],!1))},not:function(t){return this.pushStack(A(this,t||[],!0))},is:function(t){return!!A(this,"string"==typeof t&&E.test(t)?b(t):t||[],!1).length}});var T,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(b.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||T,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:L.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof b?e[0]:e,b.merge(this,b.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:m,!0)),Y.test(i[1])&&b.isPlainObject(e))for(i in e)p(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=m.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):p(t)?void 0!==n.ready?n.ready(t):t(b):b.makeArray(t,this)}).prototype=b.fn,T=b(m);var P=/^(?:parents|prev(?:Until|All))/,R={children:!0,contents:!0,next:!0,prev:!0};function z(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}b.fn.extend({has:function(t){var e=b(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(b.contains(this,e[t]))return!0}))},closest:function(t,e){var n,i=0,r=this.length,o=[],a="string"!=typeof t&&b(t);if(!E.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&b.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?b.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?l.call(b(t),this[0]):l.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(b.uniqueSort(b.merge(this.get(),b(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),b.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return S(t,"parentNode")},parentsUntil:function(t,e,n){return S(t,"parentNode",n)},next:function(t){return z(t,"nextSibling")},prev:function(t){return z(t,"previousSibling")},nextAll:function(t){return S(t,"nextSibling")},prevAll:function(t){return S(t,"previousSibling")},nextUntil:function(t,e,n){return S(t,"nextSibling",n)},prevUntil:function(t,e,n){return S(t,"previousSibling",n)},siblings:function(t){return I((t.parentNode||{}).firstChild,t)},children:function(t){return I(t.firstChild)},contents:function(t){return null!=t.contentDocument&&i(t.contentDocument)?t.contentDocument:(X(t,"template")&&(t=t.content||t),b.merge([],t.childNodes))}},(function(t,e){b.fn[t]=function(n,i){var r=b.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=b.filter(i,r)),this.length>1&&(R[t]||b.uniqueSort(r),P.test(t)&&r.reverse()),this.pushStack(r)}}));var O=/[^\x20\t\r\n\f]+/g;function D(t){return t}function N(t){throw t}function j(t,e,n,i){var r;try{t&&p(r=t.promise)?r.call(t).done(e).fail(n):t&&p(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}b.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return b.each(t.match(O)||[],(function(t,n){e[n]=!0})),e}(t):b.extend({},t);var e,n,i,r,o=[],a=[],l=-1,s=function(){for(r=r||t.once,i=e=!0;a.length;l=-1)for(n=a.shift();++l<o.length;)!1===o[l].apply(n[0],n[1])&&t.stopOnFalse&&(l=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},h={add:function(){return o&&(n&&!e&&(l=o.length-1,a.push(n)),function e(n){b.each(n,(function(n,i){p(i)?t.unique&&h.has(i)||o.push(i):i&&i.length&&"string"!==_(i)&&e(i)}))}(arguments),n&&!e&&s()),this},remove:function(){return b.each(arguments,(function(t,e){for(var n;(n=b.inArray(e,o,n))>-1;)o.splice(n,1),n<=l&&l--})),this},has:function(t){return t?b.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=a=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||s()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},b.extend({Deferred:function(e){var n=[["notify","progress",b.Callbacks("memory"),b.Callbacks("memory"),2],["resolve","done",b.Callbacks("once memory"),b.Callbacks("once memory"),0,"resolved"],["reject","fail",b.Callbacks("once memory"),b.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return b.Deferred((function(e){b.each(n,(function(n,i){var r=p(t[i[4]])&&t[i[4]];o[i[1]]((function(){var t=r&&r.apply(this,arguments);t&&p(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[i[0]+"With"](this,r?[t]:arguments)}))})),t=null})).promise()},then:function(e,i,r){var o=0;function a(e,n,i,r){return function(){var l=this,s=arguments,h=function(){var t,h;if(!(e<o)){if((t=i.apply(l,s))===n.promise())throw new TypeError("Thenable self-resolution");h=t&&("object"===u(t)||"function"==typeof t)&&t.then,p(h)?r?h.call(t,a(o,n,D,r),a(o,n,N,r)):(o++,h.call(t,a(o,n,D,r),a(o,n,N,r),a(o,n,D,n.notifyWith))):(i!==D&&(l=void 0,s=[t]),(r||n.resolveWith)(l,s))}},d=r?h:function(){try{h()}catch(ha){b.Deferred.exceptionHook&&b.Deferred.exceptionHook(ha,d.stackTrace),e+1>=o&&(i!==N&&(l=void 0,s=[ha]),n.rejectWith(l,s))}};e?d():(b.Deferred.getStackHook&&(d.stackTrace=b.Deferred.getStackHook()),t.setTimeout(d))}}return b.Deferred((function(t){n[0][3].add(a(0,t,p(r)?r:D,t.notifyWith)),n[1][3].add(a(0,t,p(e)?e:D)),n[2][3].add(a(0,t,p(i)?i:N))})).promise()},promise:function(t){return null!=t?b.extend(t,r):r}},o={};return b.each(n,(function(t,e){var a=e[2],l=e[5];r[e[1]]=a.add,l&&a.add((function(){i=l}),n[3-t][2].disable,n[3-t][3].disable,n[0][2].lock,n[0][3].lock),a.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=a.fireWith})),r.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),o=r.call(arguments),a=b.Deferred(),l=function(t){return function(n){i[t]=this,o[t]=arguments.length>1?r.call(arguments):n,--e||a.resolveWith(i,o)}};if(e<=1&&(j(t,a.done(l(n)).resolve,a.reject,!e),"pending"===a.state()||p(o[n]&&o[n].then)))return a.then();for(;n--;)j(o[n],l(n),a.reject);return a.promise()}});var q=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;b.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&q.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)},b.readyException=function(e){t.setTimeout((function(){throw e}))};var M=b.Deferred();function B(){m.removeEventListener("DOMContentLoaded",B),t.removeEventListener("load",B),b.ready()}b.fn.ready=function(t){return M.then(t).catch((function(t){b.readyException(t)})),this},b.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--b.readyWait:b.isReady)||(b.isReady=!0,!0!==t&&--b.readyWait>0||M.resolveWith(m,[b]))}}),b.ready.then=M.then,"complete"===m.readyState||"loading"!==m.readyState&&!m.documentElement.doScroll?t.setTimeout(b.ready):(m.addEventListener("DOMContentLoaded",B),t.addEventListener("load",B));var F=function t(e,n,i,r,o,a,l){var s=0,h=e.length,u=null==i;if("object"===_(i))for(s in o=!0,i)t(e,n,s,i[s],!0,a,l);else if(void 0!==r&&(o=!0,p(r)||(l=!0),u&&(l?(n.call(e,r),n=null):(u=n,n=function(t,e,n){return u.call(b(t),n)})),n))for(;s<h;s++)n(e[s],i,l?r:r.call(e[s],s,n(e[s],i)));return o?e:u?n.call(e):h?n(e[0],i):a},H=/^-ms-/,U=/-([a-z])/g;function W(t,e){return e.toUpperCase()}function V(t){return t.replace(H,"ms-").replace(U,W)}var Z=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function G(){this.expando=b.expando+G.uid++}G.uid=1,G.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Z(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[V(e)]=n;else for(i in e)r[V(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][V(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(V):(e=V(e))in i?[e]:e.match(O)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||b.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!b.isEmptyObject(e)}};var $=new G,K=new G,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,J=/[A-Z]/g;function tt(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(J,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Q.test(t)?JSON.parse(t):t)}(n)}catch(ha){}K.set(t,e,n)}else n=void 0;return n}b.extend({hasData:function(t){return K.hasData(t)||$.hasData(t)},data:function(t,e,n){return K.access(t,e,n)},removeData:function(t,e){K.remove(t,e)},_data:function(t,e,n){return $.access(t,e,n)},_removeData:function(t,e){$.remove(t,e)}}),b.fn.extend({data:function(t,e){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(r=K.get(o),1===o.nodeType&&!$.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&(i=V(i.slice(5)),tt(o,i,r[i]));$.set(o,"hasDataAttrs",!0)}return r}return"object"===u(t)?this.each((function(){K.set(this,t)})):F(this,(function(e){var n;if(o&&void 0===e)return void 0!==(n=K.get(o,t))||void 0!==(n=tt(o,t))?n:void 0;this.each((function(){K.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){K.remove(this,t)}))}}),b.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=$.get(t,e),n&&(!i||Array.isArray(n)?i=$.access(t,e,b.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){var n=b.queue(t,e=e||"fx"),i=n.length,r=n.shift(),o=b._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,(function(){b.dequeue(t,e)}),o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return $.get(t,n)||$.access(t,n,{empty:b.Callbacks("once memory").add((function(){$.remove(t,[e+"queue",n])}))})}}),b.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?b.queue(this[0],t):void 0===e?this:this.each((function(){var n=b.queue(this,t,e);b._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&b.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){b.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=b.Deferred(),o=this,a=this.length,l=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=$.get(o[a],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(l));return l(),r.promise(e)}});var et=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,nt=new RegExp("^(?:([+-])=|)("+et+")([a-z%]*)$","i"),it=["Top","Right","Bottom","Left"],rt=m.documentElement,ot=function(t){return b.contains(t.ownerDocument,t)},at={composed:!0};rt.getRootNode&&(ot=function(t){return b.contains(t.ownerDocument,t)||t.getRootNode(at)===t.ownerDocument});var lt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&ot(t)&&"none"===b.css(t,"display")};function st(t,e,n,i){var r,o,a=20,l=i?function(){return i.cur()}:function(){return b.css(t,e,"")},s=l(),h=n&&n[3]||(b.cssNumber[e]?"":"px"),u=t.nodeType&&(b.cssNumber[e]||"px"!==h&&+s)&&nt.exec(b.css(t,e));if(u&&u[3]!==h){for(s/=2,h=h||u[3],u=+s||1;a--;)b.style(t,e,u+h),(1-o)*(1-(o=l()/s||.5))<=0&&(a=0),u/=o;b.style(t,e,(u*=2)+h),n=n||[]}return n&&(u=+u||+s||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=h,i.start=u,i.end=r)),r}var ht={};function ut(t){var e,n=t.ownerDocument,i=t.nodeName,r=ht[i];return r||(e=n.body.appendChild(n.createElement(i)),r=b.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),ht[i]=r,r)}function dt(t,e){for(var n,i,r=[],o=0,a=t.length;o<a;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=$.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&lt(i)&&(r[o]=ut(i))):"none"!==n&&(r[o]="none",$.set(i,"display",n)));for(o=0;o<a;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}b.fn.extend({show:function(){return dt(this,!0)},hide:function(){return dt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){lt(this)?b(this).show():b(this).hide()}))}});var ct,gt,ft=/^(?:checkbox|radio)$/i,pt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,wt=/^$|^module$|\/(?:java|ecma)script/i;ct=m.createDocumentFragment().appendChild(m.createElement("div")),(gt=m.createElement("input")).setAttribute("type","radio"),gt.setAttribute("checked","checked"),gt.setAttribute("name","t"),ct.appendChild(gt),f.checkClone=ct.cloneNode(!0).cloneNode(!0).lastChild.checked,ct.innerHTML="<textarea>x</textarea>",f.noCloneChecked=!!ct.cloneNode(!0).lastChild.defaultValue,ct.innerHTML="<option></option>",f.option=!!ct.lastChild;var mt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function kt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&X(t,e)?b.merge([t],n):n}function vt(t,e){for(var n=0,i=t.length;n<i;n++)$.set(t[n],"globalEval",!e||$.get(e[n],"globalEval"))}mt.tbody=mt.tfoot=mt.colgroup=mt.caption=mt.thead,mt.th=mt.td,f.option||(mt.optgroup=mt.option=[1,"<select multiple='multiple'>","</select>"]);var _t=/<|&#?\w+;/;function yt(t,e,n,i,r){for(var o,a,l,s,h,u,d=e.createDocumentFragment(),c=[],g=0,f=t.length;g<f;g++)if((o=t[g])||0===o)if("object"===_(o))b.merge(c,o.nodeType?[o]:o);else if(_t.test(o)){for(a=a||d.appendChild(e.createElement("div")),l=(pt.exec(o)||["",""])[1].toLowerCase(),s=mt[l]||mt._default,a.innerHTML=s[1]+b.htmlPrefilter(o)+s[2],u=s[0];u--;)a=a.lastChild;b.merge(c,a.childNodes),(a=d.firstChild).textContent=""}else c.push(e.createTextNode(o));for(d.textContent="",g=0;o=c[g++];)if(i&&b.inArray(o,i)>-1)r&&r.push(o);else if(h=ot(o),a=kt(d.appendChild(o),"script"),h&&vt(a),n)for(u=0;o=a[u++];)wt.test(o.type||"")&&n.push(o);return d}var bt=/^([^.]*)(?:\.(.+)|)/;function xt(){return!0}function Ct(){return!1}function St(t,e){return t===function(){try{return m.activeElement}catch(ei){}}()==("focus"===e)}function It(t,e,n,i,r,o){var a,l;if("object"===u(e)){for(l in"string"!=typeof n&&(i=i||n,n=void 0),e)It(t,l,n,i,e[l],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Ct;else if(!r)return t;return 1===o&&(a=r,r=function(t){return b().off(t),a.apply(this,arguments)},r.guid=a.guid||(a.guid=b.guid++)),t.each((function(){b.event.add(this,e,r,i,n)}))}function Et(t,e,n){n?($.set(t,e,!1),b.event.add(t,e,{namespace:!1,handler:function(t){var i,o,a=$.get(this,e);if(1&t.isTrigger&&this[e]){if(a.length)(b.event.special[e]||{}).delegateType&&t.stopPropagation();else if(a=r.call(arguments),$.set(this,e,a),i=n(this,e),this[e](),a!==(o=$.get(this,e))||i?$.set(this,e,!1):o={},a!==o)return t.stopImmediatePropagation(),t.preventDefault(),o&&o.value}else a.length&&($.set(this,e,{value:b.event.trigger(b.extend(a[0],b.Event.prototype),a.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===$.get(t,e)&&b.event.add(t,e,xt)}b.event={global:{},add:function(t,e,n,i,r){var o,a,l,s,h,u,d,c,g,f,p,w=$.get(t);if(Z(t))for(n.handler&&(n=(o=n).handler,r=o.selector),r&&b.find.matchesSelector(rt,r),n.guid||(n.guid=b.guid++),(s=w.events)||(s=w.events=Object.create(null)),(a=w.handle)||(a=w.handle=function(e){return b.event.triggered!==e.type?b.event.dispatch.apply(t,arguments):void 0}),h=(e=(e||"").match(O)||[""]).length;h--;)g=p=(l=bt.exec(e[h])||[])[1],f=(l[2]||"").split(".").sort(),g&&(d=b.event.special[g]||{},g=(r?d.delegateType:d.bindType)||g,d=b.event.special[g]||{},u=b.extend({type:g,origType:p,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&b.expr.match.needsContext.test(r),namespace:f.join(".")},o),(c=s[g])||((c=s[g]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,i,f,a)||t.addEventListener&&t.addEventListener(g,a)),d.add&&(d.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?c.splice(c.delegateCount++,0,u):c.push(u),b.event.global[g]=!0)},remove:function(t,e,n,i,r){var o,a,l,s,h,u,d,c,g,f,p,w=$.hasData(t)&&$.get(t);if(w&&(s=w.events)){for(h=(e=(e||"").match(O)||[""]).length;h--;)if(g=p=(l=bt.exec(e[h])||[])[1],f=(l[2]||"").split(".").sort(),g){for(d=b.event.special[g]||{},c=s[g=(i?d.delegateType:d.bindType)||g]||[],l=l[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=c.length;o--;)u=c[o],!r&&p!==u.origType||n&&n.guid!==u.guid||l&&!l.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(c.splice(o,1),u.selector&&c.delegateCount--,d.remove&&d.remove.call(t,u));a&&!c.length&&(d.teardown&&!1!==d.teardown.call(t,f,w.handle)||b.removeEvent(t,g,w.handle),delete s[g])}else for(g in s)b.event.remove(t,g+e[h],n,i,!0);b.isEmptyObject(s)&&$.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,a,l=new Array(arguments.length),s=b.event.fix(t),h=($.get(this,"events")||Object.create(null))[s.type]||[],u=b.event.special[s.type]||{};for(l[0]=s,e=1;e<arguments.length;e++)l[e]=arguments[e];if(s.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,s)){for(a=b.event.handlers.call(this,s,h),e=0;(r=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==o.namespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(i=((b.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(s.result=i)&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,i,r,o,a,l=[],s=e.delegateCount,h=t.target;if(s&&h.nodeType&&!("click"===t.type&&t.button>=1))for(;h!==this;h=h.parentNode||this)if(1===h.nodeType&&("click"!==t.type||!0!==h.disabled)){for(o=[],a={},n=0;n<s;n++)void 0===a[r=(i=e[n]).selector+" "]&&(a[r]=i.needsContext?b(r,this).index(h)>-1:b.find(r,this,null,[h]).length),a[r]&&o.push(i);o.length&&l.push({elem:h,handlers:o})}return h=this,s<e.length&&l.push({elem:h,handlers:e.slice(s)}),l},addProp:function(t,e){Object.defineProperty(b.Event.prototype,t,{enumerable:!0,configurable:!0,get:p(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[b.expando]?t:new b.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return ft.test(e.type)&&e.click&&X(e,"input")&&Et(e,"click",xt),!1},trigger:function(t){var e=this||t;return ft.test(e.type)&&e.click&&X(e,"input")&&Et(e,"click"),!0},_default:function(t){var e=t.target;return ft.test(e.type)&&e.click&&X(e,"input")&&$.get(e,"click")||X(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},b.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},(b.Event=function(t,e){if(!(this instanceof b.Event))return new b.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?xt:Ct,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&b.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[b.expando]=!0}).prototype={constructor:b.Event,isDefaultPrevented:Ct,isPropagationStopped:Ct,isImmediatePropagationStopped:Ct,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=xt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=xt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=xt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},b.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},b.event.addProp),b.each({focus:"focusin",blur:"focusout"},(function(t,e){b.event.special[t]={setup:function(){return Et(this,t,St),!1},trigger:function(){return Et(this,t),!0},_default:function(){return!0},delegateType:e}})),b.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){b.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||b.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}})),b.fn.extend({on:function(t,e,n,i){return It(this,t,e,n,i)},one:function(t,e,n,i){return It(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,b(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"===u(t)){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Ct),this.each((function(){b.event.remove(this,t,n,e)}))}});var Xt=/<script|<style|<link/i,Yt=/checked\s*(?:[^=]|=\s*.checked.)/i,At=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Tt(t,e){return X(t,"table")&&X(11!==e.nodeType?e:e.firstChild,"tr")&&b(t).children("tbody")[0]||t}function Lt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Pt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Rt(t,e){var n,i,r,o,a,l;if(1===e.nodeType){if($.hasData(t)&&(l=$.get(t).events))for(r in $.remove(e,"handle events"),l)for(n=0,i=l[r].length;n<i;n++)b.event.add(e,r,l[r][n]);K.hasData(t)&&(o=K.access(t),a=b.extend({},o),K.set(e,a))}}function zt(t,e){var n=e.nodeName.toLowerCase();"input"===n&&ft.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function Ot(t,e,n,i){e=o(e);var r,a,l,s,h,u,d=0,c=t.length,g=c-1,w=e[0],m=p(w);if(m||c>1&&"string"==typeof w&&!f.checkClone&&Yt.test(w))return t.each((function(r){var o=t.eq(r);m&&(e[0]=w.call(this,r,o.html())),Ot(o,e,n,i)}));if(c&&(a=(r=yt(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=a),a||i)){for(s=(l=b.map(kt(r,"script"),Lt)).length;d<c;d++)h=r,d!==g&&(h=b.clone(h,!0,!0),s&&b.merge(l,kt(h,"script"))),n.call(t[d],h,d);if(s)for(u=l[l.length-1].ownerDocument,b.map(l,Pt),d=0;d<s;d++)h=l[d],wt.test(h.type||"")&&!$.access(h,"globalEval")&&b.contains(u,h)&&(h.src&&"module"!==(h.type||"").toLowerCase()?b._evalUrl&&!h.noModule&&b._evalUrl(h.src,{nonce:h.nonce||h.getAttribute("nonce")},u):v(h.textContent.replace(At,""),h,u))}return t}function Dt(t,e,n){for(var i,r=e?b.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||b.cleanData(kt(i)),i.parentNode&&(n&&ot(i)&&vt(kt(i,"script")),i.parentNode.removeChild(i));return t}b.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var i,r,o,a,l=t.cloneNode(!0),s=ot(t);if(!(f.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||b.isXMLDoc(t)))for(a=kt(l),i=0,r=(o=kt(t)).length;i<r;i++)zt(o[i],a[i]);if(e)if(n)for(o=o||kt(t),a=a||kt(l),i=0,r=o.length;i<r;i++)Rt(o[i],a[i]);else Rt(t,l);return(a=kt(l,"script")).length>0&&vt(a,!s&&kt(t,"script")),l},cleanData:function(t){for(var e,n,i,r=b.event.special,o=0;void 0!==(n=t[o]);o++)if(Z(n)){if(e=n[$.expando]){if(e.events)for(i in e.events)r[i]?b.event.remove(n,i):b.removeEvent(n,i,e.handle);n[$.expando]=void 0}n[K.expando]&&(n[K.expando]=void 0)}}}),b.fn.extend({detach:function(t){return Dt(this,t,!0)},remove:function(t){return Dt(this,t)},text:function(t){return F(this,(function(t){return void 0===t?b.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Ot(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Tt(this,t).appendChild(t)}))},prepend:function(){return Ot(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Tt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Ot(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Ot(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(b.cleanData(kt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return b.clone(this,t,e)}))},html:function(t){return F(this,(function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Xt.test(t)&&!mt[(pt.exec(t)||["",""])[1].toLowerCase()]){t=b.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(b.cleanData(kt(e,!1)),e.innerHTML=t);e=0}catch(ha){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Ot(this,arguments,(function(e){var n=this.parentNode;b.inArray(this,t)<0&&(b.cleanData(kt(this)),n&&n.replaceChild(e,this))}),t)}}),b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){b.fn[t]=function(t){for(var n,i=[],r=b(t),o=r.length-1,l=0;l<=o;l++)n=l===o?this:this.clone(!0),b(r[l])[e](n),a.apply(i,n.get());return this.pushStack(i)}}));var Nt=new RegExp("^("+et+")(?!px)[a-z%]+$","i"),jt=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},qt=function(t,e,n){var i,r,o={};for(r in e)o[r]=t.style[r],t.style[r]=e[r];for(r in i=n.call(t),e)t.style[r]=o[r];return i},Mt=new RegExp(it.join("|"),"i");function Bt(t,e,n){var i,r,o,a,l=t.style;return(n=n||jt(t))&&(""!==(a=n.getPropertyValue(e)||n[e])||ot(t)||(a=b.style(t,e)),!f.pixelBoxStyles()&&Nt.test(a)&&Mt.test(e)&&(i=l.width,r=l.minWidth,o=l.maxWidth,l.minWidth=l.maxWidth=l.width=a,a=n.width,l.width=i,l.minWidth=r,l.maxWidth=o)),void 0!==a?a+"":a}function Ft(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){h.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",rt.appendChild(h).appendChild(u);var e=t.getComputedStyle(u);i="1%"!==e.top,s=12===n(e.marginLeft),u.style.right="60%",a=36===n(e.right),r=36===n(e.width),u.style.position="absolute",o=12===n(u.offsetWidth/3),rt.removeChild(h),u=null}}function n(t){return Math.round(parseFloat(t))}var i,r,o,a,l,s,h=m.createElement("div"),u=m.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===u.style.backgroundClip,b.extend(f,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,n,i,r;return null==l&&(e=m.createElement("table"),n=m.createElement("tr"),i=m.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",n.style.cssText="border:1px solid",n.style.height="1px",i.style.height="9px",i.style.display="block",rt.appendChild(e).appendChild(n).appendChild(i),r=t.getComputedStyle(n),l=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===n.offsetHeight,rt.removeChild(e)),l}}))}();var Ht=["Webkit","Moz","ms"],Ut=m.createElement("div").style,Wt={};function Vt(t){var e=b.cssProps[t]||Wt[t];return e||(t in Ut?t:Wt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Ht.length;n--;)if((t=Ht[n]+e)in Ut)return t}(t)||t)}var Zt=/^(none|table(?!-c[ea]).+)/,Gt=/^--/,$t={position:"absolute",visibility:"hidden",display:"block"},Kt={letterSpacing:"0",fontWeight:"400"};function Qt(t,e,n){var i=nt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function Jt(t,e,n,i,r,o){var a="width"===e?1:0,l=0,s=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(s+=b.css(t,n+it[a],!0,r)),i?("content"===n&&(s-=b.css(t,"padding"+it[a],!0,r)),"margin"!==n&&(s-=b.css(t,"border"+it[a]+"Width",!0,r))):(s+=b.css(t,"padding"+it[a],!0,r),"padding"!==n?s+=b.css(t,"border"+it[a]+"Width",!0,r):l+=b.css(t,"border"+it[a]+"Width",!0,r));return!i&&o>=0&&(s+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-s-l-.5))||0),s}function te(t,e,n){var i=jt(t),r=(!f.boxSizingReliable()||n)&&"border-box"===b.css(t,"boxSizing",!1,i),o=r,a=Bt(t,e,i),l="offset"+e[0].toUpperCase()+e.slice(1);if(Nt.test(a)){if(!n)return a;a="auto"}return(!f.boxSizingReliable()&&r||!f.reliableTrDimensions()&&X(t,"tr")||"auto"===a||!parseFloat(a)&&"inline"===b.css(t,"display",!1,i))&&t.getClientRects().length&&(r="border-box"===b.css(t,"boxSizing",!1,i),(o=l in t)&&(a=t[l])),(a=parseFloat(a)||0)+Jt(t,e,n||(r?"border":"content"),o,i,a)+"px"}function ee(t,e,n,i,r){return new ee.prototype.init(t,e,n,i,r)}b.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Bt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,l=V(e),s=Gt.test(e),h=t.style;if(s||(e=Vt(l)),a=b.cssHooks[e]||b.cssHooks[l],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(t,!1,i))?r:h[e];"string"===(o=u(n))&&(r=nt.exec(n))&&r[1]&&(n=st(t,e,r),o="number"),null!=n&&n==n&&("number"!==o||s||(n+=r&&r[3]||(b.cssNumber[l]?"":"px")),f.clearCloneStyle||""!==n||0!==e.indexOf("background")||(h[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,i))||(s?h.setProperty(e,n):h[e]=n))}},css:function(t,e,n,i){var r,o,a,l=V(e);return Gt.test(e)||(e=Vt(l)),(a=b.cssHooks[e]||b.cssHooks[l])&&"get"in a&&(r=a.get(t,!0,n)),void 0===r&&(r=Bt(t,e,i)),"normal"===r&&e in Kt&&(r=Kt[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),b.each(["height","width"],(function(t,e){b.cssHooks[e]={get:function(t,n,i){if(n)return!Zt.test(b.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?te(t,e,i):qt(t,$t,(function(){return te(t,e,i)}))},set:function(t,n,i){var r,o=jt(t),a=!f.scrollboxSize()&&"absolute"===o.position,l=(a||i)&&"border-box"===b.css(t,"boxSizing",!1,o),s=i?Jt(t,e,i,l,o):0;return l&&a&&(s-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-Jt(t,e,"border",!1,o)-.5)),s&&(r=nt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=b.css(t,e)),Qt(0,n,s)}}})),b.cssHooks.marginLeft=Ft(f.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Bt(t,"marginLeft"))||t.getBoundingClientRect().left-qt(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),b.each({margin:"",padding:"",border:"Width"},(function(t,e){b.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+it[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(b.cssHooks[t+e].set=Qt)})),b.fn.extend({css:function(t,e){return F(this,(function(t,e,n){var i,r,o={},a=0;if(Array.isArray(e)){for(i=jt(t),r=e.length;a<r;a++)o[e[a]]=b.css(t,e[a],!1,i);return o}return void 0!==n?b.style(t,e,n):b.css(t,e)}),t,e,arguments.length>1)}}),b.Tween=ee,ee.prototype={constructor:ee,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||b.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(b.cssNumber[n]?"":"px")},cur:function(){var t=ee.propHooks[this.prop];return t&&t.get?t.get(this):ee.propHooks._default.get(this)},run:function(t){var e,n=ee.propHooks[this.prop];return this.options.duration?this.pos=e=b.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ee.propHooks._default.set(this),this}},ee.prototype.init.prototype=ee.prototype,ee.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=b.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){b.fx.step[t.prop]?b.fx.step[t.prop](t):1!==t.elem.nodeType||!b.cssHooks[t.prop]&&null==t.elem.style[Vt(t.prop)]?t.elem[t.prop]=t.now:b.style(t.elem,t.prop,t.now+t.unit)}}},ee.propHooks.scrollTop=ee.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},b.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},(b.fx=ee.prototype.init).step={};var ne,ie,re=/^(?:toggle|show|hide)$/,oe=/queueHooks$/;function ae(){ie&&(!1===m.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(ae):t.setTimeout(ae,b.fx.interval),b.fx.tick())}function le(){return t.setTimeout((function(){ne=void 0})),ne=Date.now()}function se(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=it[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function he(t,e,n){for(var i,r=(ue.tweeners[e]||[]).concat(ue.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,e,t))return i}function ue(t,e,n){var i,r,o=0,a=ue.prefilters.length,l=b.Deferred().always((function(){delete s.elem})),s=function(){if(r)return!1;for(var e=ne||le(),n=Math.max(0,h.startTime+h.duration-e),i=1-(n/h.duration||0),o=0,a=h.tweens.length;o<a;o++)h.tweens[o].run(i);return l.notifyWith(t,[h,i,n]),i<1&&a?n:(a||l.notifyWith(t,[h,1,0]),l.resolveWith(t,[h]),!1)},h=l.promise({elem:t,props:b.extend({},e),opts:b.extend(!0,{specialEasing:{},easing:b.easing._default},n),originalProperties:e,originalOptions:n,startTime:ne||le(),duration:n.duration,tweens:[],createTween:function(e,n){var i=b.Tween(t,h.opts,e,n,h.opts.specialEasing[e]||h.opts.easing);return h.tweens.push(i),i},stop:function(e){var n=0,i=e?h.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)h.tweens[n].run(1);return e?(l.notifyWith(t,[h,1,0]),l.resolveWith(t,[h,e])):l.rejectWith(t,[h,e]),this}}),u=h.props;for(!function(t,e){var n,i,r,o,a;for(n in t)if(r=e[i=V(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(a=b.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(u,h.opts.specialEasing);o<a;o++)if(i=ue.prefilters[o].call(h,t,u,h.opts))return p(i.stop)&&(b._queueHooks(h.elem,h.opts.queue).stop=i.stop.bind(i)),i;return b.map(u,he,h),p(h.opts.start)&&h.opts.start.call(t,h),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always),b.fx.timer(b.extend(s,{elem:t,anim:h,queue:h.opts.queue})),h}b.Animation=b.extend(ue,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return st(n.elem,t,nt.exec(e),n),n}]},tweener:function(t,e){p(t)?(e=t,t=["*"]):t=t.match(O);for(var n,i=0,r=t.length;i<r;i++)n=t[i],ue.tweeners[n]=ue.tweeners[n]||[],ue.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,o,a,l,s,h,u,d="width"in e||"height"in e,c=this,g={},f=t.style,p=t.nodeType&&lt(t),w=$.get(t,"fxshow");for(i in n.queue||(null==(a=b._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,c.always((function(){c.always((function(){a.unqueued--,b.queue(t,"fx").length||a.empty.fire()}))}))),e)if(r=e[i],re.test(r)){if(delete e[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!w||void 0===w[i])continue;p=!0}g[i]=w&&w[i]||b.style(t,i)}if((s=!b.isEmptyObject(e))||!b.isEmptyObject(g))for(i in d&&1===t.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(h=w&&w.display)&&(h=$.get(t,"display")),"none"===(u=b.css(t,"display"))&&(h?u=h:(dt([t],!0),h=t.style.display||h,u=b.css(t,"display"),dt([t]))),("inline"===u||"inline-block"===u&&null!=h)&&"none"===b.css(t,"float")&&(s||(c.done((function(){f.display=h})),null==h&&(u=f.display,h="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",c.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),s=!1,g)s||(w?"hidden"in w&&(p=w.hidden):w=$.access(t,"fxshow",{display:h}),o&&(w.hidden=!p),p&&dt([t],!0),c.done((function(){for(i in p||dt([t]),$.remove(t,"fxshow"),g)b.style(t,i,g[i])}))),s=he(p?w[i]:0,i,c),i in w||(w[i]=s.start,p&&(s.end=s.start,s.start=0))}],prefilter:function(t,e){e?ue.prefilters.unshift(t):ue.prefilters.push(t)}}),b.speed=function(t,e,n){var i=t&&"object"===u(t)?b.extend({},t):{complete:n||!n&&e||p(t)&&t,duration:t,easing:n&&e||e&&!p(e)&&e};return b.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in b.fx.speeds?i.duration=b.fx.speeds[i.duration]:i.duration=b.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){p(i.old)&&i.old.call(this),i.queue&&b.dequeue(this,i.queue)},i},b.fn.extend({fadeTo:function(t,e,n,i){return this.filter(lt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=b.isEmptyObject(t),o=b.speed(e,n,i),a=function(){var e=ue(this,b.extend({},t),o);(r||$.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each((function(){var e=!0,r=null!=t&&t+"queueHooks",o=b.timers,a=$.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&oe.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||b.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=$.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=b.timers,a=i?i.length:0;for(n.finish=!0,b.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish}))}}),b.each(["toggle","show","hide"],(function(t,e){var n=b.fn[e];b.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(se(e,!0),t,i,r)}})),b.each({slideDown:se("show"),slideUp:se("hide"),slideToggle:se("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){b.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}})),b.timers=[],b.fx.tick=function(){var t,e=0,n=b.timers;for(ne=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||b.fx.stop(),ne=void 0},b.fx.timer=function(t){b.timers.push(t),b.fx.start()},b.fx.interval=13,b.fx.start=function(){ie||(ie=!0,ae())},b.fx.stop=function(){ie=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fn.delay=function(e,n){return e=b.fx&&b.fx.speeds[e]||e,n=n||"fx",this.queue(n,(function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}}))},function(){var t=m.createElement("input"),e=m.createElement("select").appendChild(m.createElement("option"));t.type="checkbox",f.checkOn=""!==t.value,f.optSelected=e.selected,(t=m.createElement("input")).value="t",t.type="radio",f.radioValue="t"===t.value}();var de,ce=b.expr.attrHandle;b.fn.extend({attr:function(t,e){return F(this,b.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){b.removeAttr(this,t)}))}}),b.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?b.prop(t,e,n):(1===o&&b.isXMLDoc(t)||(r=b.attrHooks[e.toLowerCase()]||(b.expr.match.bool.test(e)?de:void 0)),void 0!==n?null===n?void b.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=b.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!f.radioValue&&"radio"===e&&X(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(O);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),de={set:function(t,e,n){return!1===e?b.removeAttr(t,n):t.setAttribute(n,n),n}},b.each(b.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=ce[e]||b.find.attr;ce[e]=function(t,e,i){var r,o,a=e.toLowerCase();return i||(o=ce[a],ce[a]=r,r=null!=n(t,e,i)?a:null,ce[a]=o),r}}));var ge=/^(?:input|select|textarea|button)$/i,fe=/^(?:a|area)$/i;function pe(t){return(t.match(O)||[]).join(" ")}function we(t){return t.getAttribute&&t.getAttribute("class")||""}function me(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(O)||[]}b.fn.extend({prop:function(t,e){return F(this,b.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[b.propFix[t]||t]}))}}),b.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&b.isXMLDoc(t)||(e=b.propFix[e]||e,r=b.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=b.find.attr(t,"tabindex");return e?parseInt(e,10):ge.test(t.nodeName)||fe.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),f.optSelected||(b.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),b.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){b.propFix[this.toLowerCase()]=this})),b.fn.extend({addClass:function(t){var e,n,i,r,o,a,l,s=0;if(p(t))return this.each((function(e){b(this).addClass(t.call(this,e,we(this)))}));if((e=me(t)).length)for(;n=this[s++];)if(r=we(n),i=1===n.nodeType&&" "+pe(r)+" "){for(a=0;o=e[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(l=pe(i))&&n.setAttribute("class",l)}return this},removeClass:function(t){var e,n,i,r,o,a,l,s=0;if(p(t))return this.each((function(e){b(this).removeClass(t.call(this,e,we(this)))}));if(!arguments.length)return this.attr("class","");if((e=me(t)).length)for(;n=this[s++];)if(r=we(n),i=1===n.nodeType&&" "+pe(r)+" "){for(a=0;o=e[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(l=pe(i))&&n.setAttribute("class",l)}return this},toggleClass:function(t,e){var n=u(t),i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):p(t)?this.each((function(n){b(this).toggleClass(t.call(this,n,we(this),e),e)})):this.each((function(){var e,r,o,a;if(i)for(r=0,o=b(this),a=me(t);e=a[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=we(this))&&$.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":$.get(this,"__className__")||""))}))},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+pe(we(n))+" ").indexOf(e)>-1)return!0;return!1}});var ke=/\r/g;b.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=p(t),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,b(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=b.map(r,(function(t){return null==t?"":t+""}))),(e=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))}))):r?(e=b.valHooks[r.type]||b.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(ke,""):null==n?"":n:void 0}}),b.extend({valHooks:{option:{get:function(t){var e=b.find.attr(t,"value");return null!=e?e:pe(b.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,a="select-one"===t.type,l=a?null:[],s=a?o+1:r.length;for(i=o<0?s:a?o:0;i<s;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!X(n.parentNode,"optgroup"))){if(e=b(n).val(),a)return e;l.push(e)}return l},set:function(t,e){for(var n,i,r=t.options,o=b.makeArray(e),a=r.length;a--;)((i=r[a]).selected=b.inArray(b.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),b.each(["radio","checkbox"],(function(){b.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=b.inArray(b(t).val(),e)>-1}},f.checkOn||(b.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),f.focusin="onfocusin"in t;var ve=/^(?:focusinfocus|focusoutblur)$/,_e=function(t){t.stopPropagation()};b.extend(b.event,{trigger:function(e,n,i,r){var o,a,l,s,h,c,g,f,k=[i||m],v=d.call(e,"type")?e.type:e,_=d.call(e,"namespace")?e.namespace.split("."):[];if(a=f=l=i=i||m,3!==i.nodeType&&8!==i.nodeType&&!ve.test(v+b.event.triggered)&&(v.indexOf(".")>-1&&(_=v.split("."),v=_.shift(),_.sort()),h=v.indexOf(":")<0&&"on"+v,(e=e[b.expando]?e:new b.Event(v,"object"===u(e)&&e)).isTrigger=r?2:3,e.namespace=_.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+_.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:b.makeArray(n,[e]),g=b.event.special[v]||{},r||!g.trigger||!1!==g.trigger.apply(i,n))){if(!r&&!g.noBubble&&!w(i)){for(s=g.delegateType||v,ve.test(s+v)||(a=a.parentNode);a;a=a.parentNode)k.push(a),l=a;l===(i.ownerDocument||m)&&k.push(l.defaultView||l.parentWindow||t)}for(o=0;(a=k[o++])&&!e.isPropagationStopped();)f=a,e.type=o>1?s:g.bindType||v,(c=($.get(a,"events")||Object.create(null))[e.type]&&$.get(a,"handle"))&&c.apply(a,n),(c=h&&a[h])&&c.apply&&Z(a)&&(e.result=c.apply(a,n),!1===e.result&&e.preventDefault());return e.type=v,r||e.isDefaultPrevented()||g._default&&!1!==g._default.apply(k.pop(),n)||!Z(i)||h&&p(i[v])&&!w(i)&&((l=i[h])&&(i[h]=null),b.event.triggered=v,e.isPropagationStopped()&&f.addEventListener(v,_e),i[v](),e.isPropagationStopped()&&f.removeEventListener(v,_e),b.event.triggered=void 0,l&&(i[h]=l)),e.result}},simulate:function(t,e,n){var i=b.extend(new b.Event,n,{type:t,isSimulated:!0});b.event.trigger(i,null,e)}}),b.fn.extend({trigger:function(t,e){return this.each((function(){b.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return b.event.trigger(t,e,n,!0)}}),f.focusin||b.each({focus:"focusin",blur:"focusout"},(function(t,e){var n=function(t){b.event.simulate(e,t.target,b.event.fix(t))};b.event.special[e]={setup:function(){var i=this.ownerDocument||this.document||this,r=$.access(i,e);r||i.addEventListener(t,n,!0),$.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=$.access(i,e)-1;r?$.access(i,e,r):(i.removeEventListener(t,n,!0),$.remove(i,e))}}}));var ye=t.location,be={guid:Date.now()},xe=/\?/;b.parseXML=function(e){var n,i;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(ha){}return i=n&&n.getElementsByTagName("parsererror")[0],n&&!i||b.error("Invalid XML: "+(i?b.map(i.childNodes,(function(t){return t.textContent})).join("\n"):e)),n};var Ce=/\[\]$/,Se=/\r?\n/g,Ie=/^(?:submit|button|image|reset|file)$/i,Ee=/^(?:input|select|textarea|keygen)/i;function Xe(t,e,n,i){var r;if(Array.isArray(e))b.each(e,(function(e,r){n||Ce.test(t)?i(t,r):Xe(t+"["+("object"===u(r)&&null!=r?e:"")+"]",r,n,i)}));else if(n||"object"!==_(e))i(t,e);else for(r in e)Xe(t+"["+r+"]",e[r],n,i)}b.param=function(t,e){var n,i=[],r=function(t,e){var n=p(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!b.isPlainObject(t))b.each(t,(function(){r(this.name,this.value)}));else for(n in t)Xe(n,t[n],e,r);return i.join("&")},b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=b.prop(this,"elements");return t?b.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!b(this).is(":disabled")&&Ee.test(this.nodeName)&&!Ie.test(t)&&(this.checked||!ft.test(t))})).map((function(t,e){var n=b(this).val();return null==n?null:Array.isArray(n)?b.map(n,(function(t){return{name:e.name,value:t.replace(Se,"\r\n")}})):{name:e.name,value:n.replace(Se,"\r\n")}})).get()}});var Ye=/%20/g,Ae=/#.*$/,Te=/([?&])_=[^&]*/,Le=/^(.*?):[ \t]*([^\r\n]*)$/gm,Pe=/^(?:GET|HEAD)$/,Re=/^\/\//,ze={},Oe={},De="*/".concat("*"),Ne=m.createElement("a");function je(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(O)||[];if(p(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function qe(t,e,n,i){var r={},o=t===Oe;function a(l){var s;return r[l]=!0,b.each(t[l]||[],(function(t,l){var h=l(e,n,i);return"string"!=typeof h||o||r[h]?o?!(s=h):void 0:(e.dataTypes.unshift(h),a(h),!1)})),s}return a(e.dataTypes[0])||!r["*"]&&a("*")}function Me(t,e){var n,i,r=b.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&b.extend(!0,t,i),t}Ne.href=ye.href,b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ye.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ye.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":De,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Me(Me(t,b.ajaxSettings),e):Me(b.ajaxSettings,t)},ajaxPrefilter:je(ze),ajaxTransport:je(Oe),ajax:function(e,n){"object"===u(e)&&(n=e,e=void 0);var i,r,o,a,l,s,h,d,c,g,f=b.ajaxSetup({},n=n||{}),p=f.context||f,w=f.context&&(p.nodeType||p.jquery)?b(p):b.event,k=b.Deferred(),v=b.Callbacks("once memory"),_=f.statusCode||{},y={},x={},C="canceled",S={readyState:0,getResponseHeader:function(t){var e;if(h){if(!a)for(a={};e=Le.exec(o);)a[e[1].toLowerCase()+" "]=(a[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=a[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return h?o:null},setRequestHeader:function(t,e){return null==h&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,y[t]=e),this},overrideMimeType:function(t){return null==h&&(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(h)S.always(t[S.status]);else for(e in t)_[e]=[_[e],t[e]];return this},abort:function(t){var e=t||C;return i&&i.abort(e),I(0,e),this}};if(k.promise(S),f.url=((e||f.url||ye.href)+"").replace(Re,ye.protocol+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(O)||[""],null==f.crossDomain){s=m.createElement("a");try{s.href=f.url,s.href=s.href,f.crossDomain=Ne.protocol+"//"+Ne.host!=s.protocol+"//"+s.host}catch(ha){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=b.param(f.data,f.traditional)),qe(ze,f,n,S),h)return S;for(c in(d=b.event&&f.global)&&0==b.active++&&b.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Pe.test(f.type),r=f.url.replace(Ae,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Ye,"+")):(g=f.url.slice(r.length),f.data&&(f.processData||"string"==typeof f.data)&&(r+=(xe.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(r=r.replace(Te,"$1"),g=(xe.test(r)?"&":"?")+"_="+be.guid+++g),f.url=r+g),f.ifModified&&(b.lastModified[r]&&S.setRequestHeader("If-Modified-Since",b.lastModified[r]),b.etag[r]&&S.setRequestHeader("If-None-Match",b.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||n.contentType)&&S.setRequestHeader("Content-Type",f.contentType),S.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+De+"; q=0.01":""):f.accepts["*"]),f.headers)S.setRequestHeader(c,f.headers[c]);if(f.beforeSend&&(!1===f.beforeSend.call(p,S,f)||h))return S.abort();if(C="abort",v.add(f.complete),S.done(f.success),S.fail(f.error),i=qe(Oe,f,n,S)){if(S.readyState=1,d&&w.trigger("ajaxSend",[S,f]),h)return S;f.async&&f.timeout>0&&(l=t.setTimeout((function(){S.abort("timeout")}),f.timeout));try{h=!1,i.send(y,I)}catch(ha){if(h)throw ha;I(-1,ha)}}else I(-1,"No Transport");function I(e,n,a,s){var u,c,g,m,y,x=n;h||(h=!0,l&&t.clearTimeout(l),i=void 0,o=s||"",S.readyState=e>0?4:0,u=e>=200&&e<300||304===e,a&&(m=function(t,e,n){for(var i,r,o,a,l=t.contents,s=t.dataTypes;"*"===s[0];)s.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in l)if(l[r]&&l[r].test(i)){s.unshift(r);break}if(s[0]in n)o=s[0];else{for(r in n){if(!s[0]||t.converters[r+" "+s[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==s[0]&&s.unshift(o),n[o]}(f,S,a)),!u&&b.inArray("script",f.dataTypes)>-1&&b.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),m=function(t,e,n,i){var r,o,a,l,s,h={},u=t.dataTypes.slice();if(u[1])for(a in t.converters)h[a.toLowerCase()]=t.converters[a];for(o=u.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!s&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),s=o,o=u.shift())if("*"===o)o=s;else if("*"!==s&&s!==o){if(!(a=h[s+" "+o]||h["* "+o]))for(r in h)if((l=r.split(" "))[1]===o&&(a=h[s+" "+l[0]]||h["* "+l[0]])){!0===a?a=h[r]:!0!==h[r]&&(o=l[0],u.unshift(l[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(ha){return{state:"parsererror",error:a?ha:"No conversion from "+s+" to "+o}}}return{state:"success",data:e}}(f,m,S,u),u?(f.ifModified&&((y=S.getResponseHeader("Last-Modified"))&&(b.lastModified[r]=y),(y=S.getResponseHeader("etag"))&&(b.etag[r]=y)),204===e||"HEAD"===f.type?x="nocontent":304===e?x="notmodified":(x=m.state,c=m.data,u=!(g=m.error))):(g=x,!e&&x||(x="error",e<0&&(e=0))),S.status=e,S.statusText=(n||x)+"",u?k.resolveWith(p,[c,x,S]):k.rejectWith(p,[S,x,g]),S.statusCode(_),_=void 0,d&&w.trigger(u?"ajaxSuccess":"ajaxError",[S,f,u?c:g]),v.fireWith(p,[S,x]),d&&(w.trigger("ajaxComplete",[S,f]),--b.active||b.event.trigger("ajaxStop")))}return S},getJSON:function(t,e,n){return b.get(t,e,n,"json")},getScript:function(t,e){return b.get(t,void 0,e,"script")}}),b.each(["get","post"],(function(t,e){b[e]=function(t,n,i,r){return p(n)&&(r=r||i,i=n,n=void 0),b.ajax(b.extend({url:t,type:e,dataType:r,data:n,success:i},b.isPlainObject(t)&&t))}})),b.ajaxPrefilter((function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")})),b._evalUrl=function(t,e,n){return b.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){b.globalEval(t,e,n)}})},b.fn.extend({wrapAll:function(t){var e;return this[0]&&(p(t)&&(t=t.call(this[0])),e=b(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return p(t)?this.each((function(e){b(this).wrapInner(t.call(this,e))})):this.each((function(){var e=b(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=p(t);return this.each((function(n){b(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){b(this).replaceWith(this.childNodes)})),this}}),b.expr.pseudos.hidden=function(t){return!b.expr.pseudos.visible(t)},b.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},b.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(ha){}};var Be={0:200,1223:204},Fe=b.ajaxSettings.xhr();f.cors=!!Fe&&"withCredentials"in Fe,f.ajax=Fe=!!Fe,b.ajaxTransport((function(e){var n,i;if(f.cors||Fe&&!e.crossDomain)return{send:function(r,o){var a,l=e.xhr();if(l.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)l[a]=e.xhrFields[a];for(a in e.mimeType&&l.overrideMimeType&&l.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)l.setRequestHeader(a,r[a]);n=function(t){return function(){n&&(n=i=l.onload=l.onerror=l.onabort=l.ontimeout=l.onreadystatechange=null,"abort"===t?l.abort():"error"===t?"number"!=typeof l.status?o(0,"error"):o(l.status,l.statusText):o(Be[l.status]||l.status,l.statusText,"text"!==(l.responseType||"text")||"string"!=typeof l.responseText?{binary:l.response}:{text:l.responseText},l.getAllResponseHeaders()))}},l.onload=n(),i=l.onerror=l.ontimeout=n("error"),void 0!==l.onabort?l.onabort=i:l.onreadystatechange=function(){4===l.readyState&&t.setTimeout((function(){n&&i()}))},n=n("abort");try{l.send(e.hasContent&&e.data||null)}catch(ha){if(n)throw ha}},abort:function(){n&&n()}}})),b.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return b.globalEval(t),t}}}),b.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),b.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(i,r){e=b("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),m.head.appendChild(e[0])},abort:function(){n&&n()}}}));var He,Ue=[],We=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ue.pop()||b.expando+"_"+be.guid++;return this[t]=!0,t}}),b.ajaxPrefilter("json jsonp",(function(e,n,i){var r,o,a,l=!1!==e.jsonp&&(We.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&We.test(e.data)&&"data");if(l||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=p(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,l?e[l]=e[l].replace(We,"$1"+r):!1!==e.jsonp&&(e.url+=(xe.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||b.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){a=arguments},i.always((function(){void 0===o?b(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,Ue.push(r)),a&&p(o)&&o(a[0]),a=o=void 0})),"script"})),f.createHTMLDocument=((He=m.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===He.childNodes.length),b.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(f.createHTMLDocument?((i=(e=m.implementation.createHTMLDocument("")).createElement("base")).href=m.location.href,e.head.appendChild(i)):e=m),o=!n&&[],(r=Y.exec(t))?[e.createElement(r[1])]:(r=yt([t],e,o),o&&o.length&&b(o).remove(),b.merge([],r.childNodes)));var i,r,o},b.fn.load=function(t,e,n){var i,r,o,a=this,l=t.indexOf(" ");return l>-1&&(i=pe(t.slice(l)),t=t.slice(0,l)),p(e)?(n=e,e=void 0):e&&"object"===u(e)&&(r="POST"),a.length>0&&b.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done((function(t){o=arguments,a.html(i?b("<div>").append(b.parseHTML(t)).find(i):t)})).always(n&&function(t,e){a.each((function(){n.apply(this,o||[t.responseText,e,t])}))}),this},b.expr.pseudos.animated=function(t){return b.grep(b.timers,(function(e){return t===e.elem})).length},b.offset={setOffset:function(t,e,n){var i,r,o,a,l,s,h=b.css(t,"position"),u=b(t),d={};"static"===h&&(t.style.position="relative"),l=u.offset(),o=b.css(t,"top"),s=b.css(t,"left"),("absolute"===h||"fixed"===h)&&(o+s).indexOf("auto")>-1?(a=(i=u.position()).top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(s)||0),p(e)&&(e=e.call(t,n,b.extend({},l))),null!=e.top&&(d.top=e.top-l.top+a),null!=e.left&&(d.left=e.left-l.left+r),"using"in e?e.using.call(t,d):u.css(d)}},b.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){b.offset.setOffset(this,t,e)}));var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===b.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===b.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=b(t).offset()).top+=b.css(t,"borderTopWidth",!0),r.left+=b.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-b.css(i,"marginTop",!0),left:e.left-r.left-b.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===b.css(t,"position");)t=t.offsetParent;return t||rt}))}}),b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n="pageYOffset"===e;b.fn[t]=function(i){return F(this,(function(t,i,r){var o;if(w(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r}),t,i,arguments.length)}})),b.each(["top","left"],(function(t,e){b.cssHooks[e]=Ft(f.pixelPosition,(function(t,n){if(n)return n=Bt(t,e),Nt.test(n)?b(t).position()[e]+"px":n}))})),b.each({Height:"height",Width:"width"},(function(t,e){b.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,i){b.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),l=n||(!0===r||!0===o?"margin":"border");return F(this,(function(e,n,r){var o;return w(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?b.css(e,n,l):b.style(e,n,r,l)}),e,a?r:void 0,a)}}))})),b.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){b.fn[e]=function(t){return this.on(e,t)}})),b.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),b.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){b.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}));var Ve=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;b.proxy=function(t,e){var n,i,o;if("string"==typeof e&&(n=t[e],e=t,t=n),p(t))return i=r.call(arguments,2),o=function(){return t.apply(e||this,i.concat(r.call(arguments)))},o.guid=t.guid=t.guid||b.guid++,o},b.holdReady=function(t){t?b.readyWait++:b.ready(!0)},b.isArray=Array.isArray,b.parseJSON=JSON.parse,b.nodeName=X,b.isFunction=p,b.isWindow=w,b.camelCase=V,b.type=_,b.now=Date.now,b.isNumeric=function(t){var e=b.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},b.trim=function(t){return null==t?"":(t+"").replace(Ve,"")};var Ze=t.jQuery,Ge=t.$;return b.noConflict=function(e){return t.$===b&&(t.$=Ge),e&&t.jQuery===b&&(t.jQuery=Ze),b},void 0===e&&(t.jQuery=t.$=b),b}))}(Xt);var Yt=Xt.exports,At=function(){function t(e,n){f(this,t),this.time=e,this.duration=n}return w(t,[{key:"isOver",value:function(t){return t-this.time>this.duration}}]),t}(),Tt=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,r=arguments.length>3?arguments[3]:void 0;f(this,t),this.instance=e,this.position=r,this.duration=5e3,this.static=!1,this.timer=new At(Date.now(),i),this.element=this.createBlob(e,n),this.static=!!this.position}return w(t,[{key:"update",value:function(t,e){this.timer.time=e,Yt(this.element).find("p").html(t)}},{key:"isOver",value:function(t){return this.timer.isOver(t)}},{key:"destroy",value:function(){Yt(this.element).remove()}},{key:"createBlob",value:function(t,e){return Yt('<div id="'.concat(t,'" class="bubble"><p>').concat(e,'</p><div class="bubble-tip"></div></div>'))}}]),t}(),Lt=function(){function t(e){f(this,t),this.game=e,this.container=Yt("#bubbles"),this.bubbles={}}return w(t,[{key:"create",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,i=arguments.length>3?arguments[3]:void 0,r=this.bubbles[t];if(r)return r.update(e,Date.now());this.bubbles[t]=new Tt(t,e,n,i),this.bubbles[t].element.appendTo(this.container)}},{key:"setTo",value:function(t,e,n){var i=this.bubbles[t],r=this.game.camera.zoomFactor,o=this.game.renderer.tileSize*r,a=(parseInt(i.element.css("width"))+24)/2-o/2;e=(e-this.game.camera.x)*r,n=(n-this.game.camera.y)*r-2*o- -20,i.element.css({left:"".concat(e-a+3,"px"),top:"".concat(n,"px")})}},{key:"update",value:function(t){var e=this;It.each(this.bubbles,(function(n){var i=e.game.entities.get(n.instance);i&&e.setTo(i.instance,i.x,i.y),n.static&&e.setTo(n.instance,n.position.x,n.position.y),n.isOver(t)&&e.destroy(n)}))}},{key:"clear",value:function(t){this.bubbles[t]&&this.destroy(this.bubbles[t])}},{key:"destroy",value:function(t){t.destroy(),delete this.bubbles[t.instance]}},{key:"clean",value:function(){It.each(this.bubbles,(function(t){return t.destroy()})),this.bubbles={}}}]),t}(),Pt=function(){function t(){f(this,t),this.startValue=0,this.endValue=0,this.duration=0,this.inProgress=!1}return w(t,[{key:"start",value:function(t,e,n,i,r,o){this.startTime=t,this.startValue=e,this.endValue=n,this.duration=i,this.updateCallback=r,this.stopCallback=o,this.inProgress=!0}},{key:"step",value:function(t){var e;if(this.inProgress){var n=t-this.startTime;n>this.duration&&(n=this.duration);var i,r=this.endValue-this.startValue,o=Math.round(this.startValue+r/this.duration*n);if(n===this.duration||o===this.endValue)this.inProgress=!1,null===(i=this.stopCallback)||void 0===i||i.call(this);else null===(e=this.updateCallback)||void 0===e||e.call(this,o)}}}]),t}(),Rt=function(){function t(e,n,i,r,o){f(this,t),this.name=e,this.length=n,this.row=i,this.width=r,this.height=o,this.reset()}return w(t,[{key:"tick",value:function(){var t,e=this.currentFrame,n=this.length,i=this.count,r=this.width,o=this.height,a=this.row,l=e.index;if((l=l<n-1?l+1:0,i>0&&0===l)&&(this.count-=1,0===this.count))return e.index=0,void(null===(t=this.endCountCallback)||void 0===t||t.call(this));e.x=r*l,e.y=o*a,e.index=l}},{key:"update",value:function(t){var e=this.lastTime,n=this.name;return 0===e&&"atk"===n.slice(0,3)&&(this.lastTime=t),!!this.readyToAnimate(t)&&(this.lastTime=t,this.tick(),!0)}},{key:"setCount",value:function(t,e){this.count=t,this.endCountCallback=e}},{key:"setSpeed",value:function(t){this.speed=t}},{key:"setRow",value:function(t){this.row=t}},{key:"readyToAnimate",value:function(t){return t-this.lastTime>this.speed}},{key:"reset",value:function(){this.lastTime=0,this.currentFrame={index:0,x:0,y:this.row*this.height}}}]),t}(),zt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;f(this,t),this.instance=e,this.type=n,this.x=0,this.y=0,this.gridX=0,this.gridY=0,this.name="",this.spriteFlipX=!1,this.spriteFlipY=!1,this.idleSpeed=450,this.shadowOffsetY=0,this.hidden=!1,this.targeted=!1,this.spriteLoaded=!1,this.visible=!0,this.fading=!1,this.angled=!1,this.angle=0,this.critical=!1,this.stunned=!1,this.terror=!1,this.hasCounter=!1,this.countdownTime=0,this.counter=0,this.fadingDuration=1e3,this.hitPoints=0,this.maxHitPoints=0,this.mana=0,this.maxMana=0,this.level=1,this.experience=0,this.lastUpdate=Date.now()}return w(t,[{key:"fadeIn",value:function(t){this.fading=!0,this.fadingTime=t}},{key:"blink",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:150;this.blinking=window.setInterval((function(){return t.toggleVisibility()}),e)}},{key:"stopBlinking",value:function(){var t=this.blinking;t&&clearInterval(t),this.setVisible(!0)}},{key:"idle",value:function(){}},{key:"setSprite",value:function(t){var e,n=this;!t||this.sprite&&this.sprite.name===t.name||(this.isPlayer()&&(t.loadHurt=!0),t.loaded||t.load(),t.name=t.id,this.sprite=t,this.normalSprite=this.sprite,this.animations=t.createAnimations(),t.onLoad((function(){t.loadHurt&&(n.hurtSprite=t.hurtSprite)})),this.spriteLoaded=!0,null===(e=this.readyCallback)||void 0===e||e.call(this))}},{key:"setAnimation",value:function(t,e){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3?arguments[3]:void 0;if(this.spriteLoaded&&(null===(n=this.animation)||void 0===n?void 0:n.name)!==t){var a=this.animations[t];a&&(this.animation=a,t.startsWith("atk")&&this.animation.reset(),this.animation.setSpeed(e),this.animation.setCount(r,o||function(){return i.idle()}))}}},{key:"animateDeath",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:120,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.setAnimation("death",e,n,t)}},{key:"setPosition",value:function(t,e){this.x=t,this.y=e}},{key:"setGridPosition",value:function(t,e){this.gridX=t,this.gridY=e,this.setPosition(16*t,16*e)}},{key:"setCountdown",value:function(t){this.counter=t,this.countdownTime=Date.now(),this.hasCounter=!0}},{key:"setVisible",value:function(t){this.visible=t}},{key:"setIdleSpeed",value:function(t){this.idleSpeed=t}},{key:"hasWeapon",value:function(){return!1}},{key:"getDistance",value:function(t){var e=this.gridX,n=this.gridY,i=Math.abs(e-t.gridX),r=Math.abs(n-t.gridY);return i>r?i:r}},{key:"getAngle",value:function(){return 0}},{key:"getTimeDiff",value:function(){return 0}},{key:"toggleVisibility",value:function(){this.setVisible(!this.visible)}},{key:"isVisible",value:function(){return this.visible}},{key:"drawNames",value:function(){return!0}},{key:"hasShadow",value:function(){return!1}},{key:"hasPath",value:function(){return!1}},{key:"isPlayer",value:function(){return this.type===K.Player}},{key:"isMob",value:function(){return this.type===K.Mob}},{key:"isNPC",value:function(){return this.type===K.NPC}},{key:"isItem",value:function(){return this.type===K.Item}},{key:"isChest",value:function(){return this.type===K.Chest}},{key:"isProjectile",value:function(){return this.type===K.Projectile}},{key:"isObject",value:function(){return this.type===K.Object}}]),t}(),Ot=function(){function t(e){f(this,t),this.entity=e}return w(t,[{key:"load",value:function(){var t=this.entity,e=this.game,n=this.entities;(t&&e||t instanceof Dt)&&(t.onRequestPath((function(n,i){return t.gridX===n&&t.gridY===i?[]:e.findPath(t,n,i)})),t.onBeforeStep((function(){return n.unregisterPosition(t)})),t.onStep((function(){n.registerPosition(t),t.isMob()&&(t.targeted||t.hasTarget())&&e.socket.send(Y.Movement,{opcode:L.Entity,targetInstance:t.instance,requestX:t.gridX,requestY:t.gridY})})))}},{key:"setGame",value:function(t){this.game||(this.game=t),this.setEntities(this.game.entities)}},{key:"setEntities",value:function(t){this.entities||(this.entities=t)}}]),t}(),Dt=function(t){i(n,t);var e=o(n);function n(t,i){var r;return f(this,n),(r=e.call(this,t,i)).healthBarVisible=!1,r.following=!1,r.interrupted=!1,r.explosion=!1,r.healing=!1,r.path=null,r.target=null,r.attackers={},r.movement=new Pt,r.attackAnimationSpeed=50,r.walkAnimationSpeed=100,r.nextGridX=-1,r.nextGridY=-1,r.movementSpeed=-1,r.attackRange=1,r.critical=!1,r.frozen=!1,r.stunned=!1,r.dead=!1,r.orientation=$.Down,r.criticalAnimation=new Rt("atk_down",10,0,48,48),r.terrorAnimation=new Rt("explosion",8,0,64,64),r.stunAnimation=new Rt("atk_down",6,0,48,48),r.explosionAnimation=new Rt("explosion",8,0,64,64),r.healingAnimation=new Rt("explosion",8,0,64,64),r.handler=new Ot(l(r)),r.loadAnimations(),r}return w(n,[{key:"loadAnimations",value:function(){var t=this;this.criticalAnimation.setSpeed(30),this.criticalAnimation.setCount(1,(function(){t.critical=!1,t.criticalAnimation.reset(),t.criticalAnimation.count=1})),this.terrorAnimation.setSpeed(50),this.terrorAnimation.setCount(1,(function(){t.terror=!1,t.terrorAnimation.reset(),t.terrorAnimation.count=1})),this.stunAnimation.setSpeed(30),this.explosionAnimation.setSpeed(50),this.explosionAnimation.setCount(1,(function(){t.explosion=!1,t.explosionAnimation.reset(),t.explosionAnimation.count=1})),this.healingAnimation.setSpeed(50),this.healingAnimation.setCount(1,(function(){t.healing=!1,t.healingAnimation.reset(),t.healingAnimation.count=1}))}},{key:"animate",value:function(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=["atk","walk","idle"];"death"!==(null===(n=this.animation)||void 0===n?void 0:n.name)&&(this.spriteFlipX=!1,this.spriteFlipY=!1,o.includes(t)&&(t+="_".concat(this.orientation===$.Left?"right":this.orientationToString()),this.spriteFlipX=this.orientation===$.Left),this.setAnimation(t,e,i,r))}},{key:"animateDeath",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:120,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.animate("death",e,n,t)}},{key:"toggleHurt",value:function(){var t=this;this.sprite=this.hurtSprite,window.setTimeout((function(){t.sprite=t.normalSprite}),75)}},{key:"despawn",value:function(){this.hitPoints=0,this.dead=!0,this.stop(),this.orientation=$.Down}},{key:"follow",value:function(t){this.following=!0,this.setTarget(t),this.move(t.gridX,t.gridY)}},{key:"followPosition",value:function(t,e){this.following=!0,this.move(t,e)}},{key:"addAttacker",value:function(t){this.hasAttacker(t)||(this.attackers[t.instance]=t)}},{key:"hasAttacker",value:function(t){var e=this.attackers;return!!e[0]&&t.instance in e}},{key:"performAction",value:function(t,e){switch(this.setOrientation(t),e){case Q.Idle:case Q.Orientate:this.animate("idle",this.idleSpeed);break;case Q.Attack:this.animate("atk",this.attackAnimationSpeed,1);break;case Q.Walk:this.animate("walk",this.walkAnimationSpeed)}}},{key:"idle",value:function(t){var e=t||this.orientation;this.performAction(e,Q.Idle)}},{key:"orientationToString",value:function(){switch(this.orientation){case $.Left:return"left";case $.Right:return"right";case $.Up:return"up";case $.Down:return"down"}}},{key:"lookAt",value:function(t){var e=this.gridX,n=this.gridY;t.gridX>e?this.setOrientation($.Right):t.gridX<e?this.setOrientation($.Left):t.gridY>n?this.setOrientation($.Down):t.gridY<n&&this.setOrientation($.Up),this.idle()}},{key:"go",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.frozen||(this.following&&(this.following=!1,this.target=null),this.move(t,e,n))}},{key:"move",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.hasPath()&&!n?this.proceed(t,e):this.followPath(this.requestPathfinding(t,e))}},{key:"proceed",value:function(t,e){this.newDestination={x:t,y:e}}},{key:"nextStep",value:function(){var t,e,n,i,r=!1;if(this.step%2==0&&this.secondStepCallback&&this.secondStepCallback(),this.hasPath()){if(null===(t=this.beforeStepCallback)||void 0===t||t.call(this),this.updateGridPosition(),!this.interrupted&&this.path){var o;if(this.hasNextStep()){var a=h(this.path[this.step+1],2);this.nextGridX=a[0],this.nextGridY=a[1]}if(null===(o=this.stepCallback)||void 0===o||o.call(this),this.changedPath()){var l=this.newDestination;if(e=l.x,n=l.y,!(i=this.requestPathfinding(e,n)))return;this.newDestination=null,i.length<2?r=!0:this.followPath(i)}else this.hasNextStep()?(this.step++,this.updateMovement()):r=!0}else r=!0,this.interrupted=!1;r&&(this.path=null,this.idle(),this.stopPathingCallback&&this.stopPathingCallback(this.gridX,this.gridY,this.forced),this.forced&&(this.forced=!1))}}},{key:"updateMovement",value:function(){var t=this.path,e=this.step;t&&(t[e][0]<t[e-1][0]&&this.performAction($.Left,Q.Walk),t[e][0]>t[e-1][0]&&this.performAction($.Right,Q.Walk),t[e][1]<t[e-1][1]&&this.performAction($.Up,Q.Walk),t[e][1]>t[e-1][1]&&this.performAction($.Down,Q.Walk))}},{key:"followPath",value:function(t){var e;!t||t.length<2||(this.path=t,this.step=0,this.following&&t.pop(),null===(e=this.startPathingCallback)||void 0===e||e.call(this,t),this.nextStep())}},{key:"stop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t?this.hasPath()&&(this.path=null,this.newDestination=null,this.movement=new Pt,this.performAction(this.orientation,Q.Idle),this.nextGridX=this.gridX,this.nextGridY=this.gridY):this.interrupted=!0}},{key:"hasEffect",value:function(){return this.critical||this.stunned||this.terror||this.explosion||this.healing}},{key:"getEffectAnimation",value:function(){return this.critical?this.criticalAnimation:this.stunned?this.stunAnimation:this.terror?this.terrorAnimation:this.explosion?this.explosionAnimation:this.healing?this.healingAnimation:void 0}},{key:"getActiveEffect",value:function(){return this.critical?"criticaleffect":this.stunned?"stuneffect":this.terror?"explosion-terror":this.explosion?"explosion-fireball":this.healing?"explosion-heal":""}},{key:"triggerHealthBar",value:function(){var t=this;this.healthBarVisible=!0,this.healthBarTimeout&&clearTimeout(this.healthBarTimeout),this.healthBarTimeout=window.setTimeout((function(){t.healthBarVisible=!1}),7e3)}},{key:"clearHealthBar",value:function(){this.healthBarVisible=!1,clearTimeout(this.healthBarTimeout),this.healthBarTimeout=null}},{key:"requestPathfinding",value:function(t,e){var n;return(null===(n=this.requestPathCallback)||void 0===n?void 0:n.call(this,t,e))||null}},{key:"updateGridPosition",value:function(){this.path&&0!==this.path.length&&this.setGridPosition(this.path[this.step][0],this.path[this.step][1])}},{key:"forEachAttacker",value:function(t){It.each(this.attackers,(function(e){return t(e)}))}},{key:"hasWeapon",value:function(){return!1}},{key:"hasShadow",value:function(){return!0}},{key:"hasPath",value:function(){return null!==this.path}},{key:"hasNextStep",value:function(){return this.path&&this.path.length-1>this.step}},{key:"changedPath",value:function(){return!!this.newDestination}},{key:"removeTarget",value:function(){this.target&&(this.target.targeted=!1),this.target=null}},{key:"forget",value:function(){this.attackers={}}},{key:"moved",value:function(){var t;null===(t=this.moveCallback)||void 0===t||t.call(this)}},{key:"setTarget",value:function(t){this.target=t,this.target.targeted=!0}},{key:"hasTarget",value:function(t){return t?this.target===t:!!this.target}},{key:"setObjectTarget",value:function(t){var e=new n("".concat(t.x,"-").concat(t.y),K.Object);e.setGridPosition(t.x,t.y),this.setTarget(e),this.followPosition(t.x,t.y)}},{key:"setHitPoints",value:function(t,e){var n,i=!1;t<0&&(t=0),t<this.hitPoints&&(i=!0),this.hitPoints=t,e&&(this.maxHitPoints=e),null===(n=this.hitPointsCallback)||void 0===n||n.call(this,this.hitPoints,e||this.maxHitPoints,i)}},{key:"setOrientation",value:function(t){this.orientation=t}},{key:"onRequestPath",value:function(t){this.requestPathCallback=t}},{key:"onStartPathing",value:function(t){this.startPathingCallback=t}},{key:"onStopPathing",value:function(t){this.stopPathingCallback=t}},{key:"onBeforeStep",value:function(t){this.beforeStepCallback=t}},{key:"onStep",value:function(t){this.stepCallback=t}},{key:"onSecondStep",value:function(t){this.secondStepCallback=t}},{key:"onMove",value:function(t){this.moveCallback=t}},{key:"onHitPoints",value:function(t){this.hitPointsCallback=t}}]),n}(zt),Nt=function(t){i(n,t);var e=o(n);function n(t){var i;return f(this,n),(i=e.call(this,t,K.Mob)).hiddenName=!1,i}return w(n,[{key:"hasShadow",value:function(){return!this.hiddenName}},{key:"drawNames",value:function(){return!this.hiddenName}}]),n}(Dt),jt=function(t){i(n,t);var e=o(n);function n(t){return f(this,n),e.call(this,t,K.NPC)}return w(n)}(Dt),qt=function(){function t(e,n,i,r,o){f(this,t),this.name=e,this.description=n,this.stage=i,this.stageCount=r,this.subStage=o}return w(t,[{key:"update",value:function(t,e,n){this.stage=t,e&&(this.subStage=e),n&&(this.name=n)}},{key:"isFinished",value:function(){return this.stage>=this.stageCount}},{key:"isStarted",value:function(){return this.stage>0}}]),t}(),Mt=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;f(this,t),this.type=e,this.experience=n,this.level=i,this.name=rt[this.type],this.percentage=0}return w(t,[{key:"update",value:function(t,e,n){this.experience=t,this.level=e||this.level,this.percentage=n||this.percentage}}]),t}(),Bt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6];f(this,t),this.key=e,this.name=n,this.count=i,this.ability=r,this.abilityLevel=o,this.power=a,this.ranged=l}return w(t,[{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]&&arguments[6];this.key=t,this.name=e,this.count=n,this.ability=i,this.abilityLevel=r,this.power=o,this.ranged=a}},{key:"exists",value:function(){return""!==this.key}}]),t}(),Ft=function(t){i(n,t);var e=o(n);function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"clotharmor",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Cloth Armor",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return f(this,n),e.call(this,t,i,r,o,a,l)}return w(n,[{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"clotharmor",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Cloth Armor",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;this.key=t,this.name=e,this.count=n,this.ability=i,this.abilityLevel=r,this.power=o}}]),n}(Bt),Ht=function(t){i(n,t);var e=o(n);function n(){return f(this,n),e.apply(this,arguments)}return w(n)}(Bt),Ut=function(t){i(n,t);var e=o(n);function n(){return f(this,n),e.apply(this,arguments)}return w(n)}(Bt),Wt=function(t){i(n,t);var e=o(n);function n(){return f(this,n),e.apply(this,arguments)}return w(n)}(Bt),Vt=function(t){i(n,t);var e=o(n);function n(){return f(this,n),e.apply(this,arguments)}return w(n)}(Bt),Zt=function(t){i(n,t);var e=o(n);function n(t){var i,r,o;return f(this,n),(o=e.call(this,t,K.Player)).rights=0,o.wanted=!1,o.pvpKills=-1,o.pvpDeaths=-1,o.moveLeft=!1,o.moveRight=!1,o.moveUp=!1,o.moveDown=!1,o.poison=!1,o.disableAction=!1,o.moving=!1,o.hitPoints=-1,o.maxHitPoints=-1,o.mana=-1,o.maxMana=-1,o.pvp=!1,o.equipments=(d(i={},et.Armour,new Ft),d(i,et.Boots,new Ht),d(i,et.Pendant,new Ut),d(i,et.Ring,new Wt),d(i,et.Weapon,new Vt),i),o.skills=(d(r={},rt.Lumberjacking,new Mt(rt.Lumberjacking)),d(r,rt.Mining,new Mt(rt.Mining)),r),o.quests={},o.achievements={},o}return w(n,[{key:"load",value:function(t){this.instance=t.instance,this.name=t.name,this.level=t.level,this.movementSpeed=t.movementSpeed,this.setOrientation(t.orientation),this.setGridPosition(t.x,t.y),this.setHitPoints(t.hitPoints,t.maxHitPoints),this.setMana(t.mana,t.maxMana),t.equipments&&It.each(t.equipments,this.equip.bind(this)),isNaN(t.experience)||this.setExperience(t.experience,t.nextExperience,t.prevExperience)}},{key:"loadHandler",value:function(t){this.handler.setGame(t),this.handler.load()}},{key:"loadSkills",value:function(t){var e=this;It.each(t,(function(t){return e.setSkill(t)}))}},{key:"loadQuests",value:function(t){var e=this;It.each(t,(function(t){e.quests[t.key]=new qt(t.name,t.description,t.stage,t.stageCount,t.subStage)}))}},{key:"loadAchievements",value:function(t){var e=this;It.each(t,(function(t){e.achievements[t.key]=new qt(t.name,t.description,t.stage,t.stageCount)}))}},{key:"equip",value:function(t){var e=t.type,n=t.name,i=t.key,r=t.count,o=t.ability,a=t.abilityLevel,l=t.power,s=t.ranged;if(!i)return this.unequip(e);this.equipments[e].update(i,n,r,o,a,l,s)}},{key:"unequip",value:function(t){this.equipments[t].update()}},{key:"sync",value:function(){var t;null===(t=this.syncCallback)||void 0===t||t.call(this)}},{key:"getSpriteName",value:function(){return this.equipments[et.Armour].key}},{key:"getArmour",value:function(){return this.equipments[et.Armour]}},{key:"getBoots",value:function(){return this.equipments[et.Boots]}},{key:"getPendant",value:function(){return this.equipments[et.Pendant]}},{key:"getRing",value:function(){return this.equipments[et.Ring]}},{key:"getWeapon",value:function(){return this.equipments[et.Weapon]}},{key:"setMana",value:function(t,e){this.mana=t,e&&(this.maxMana=e)}},{key:"setSkill",value:function(t){var e=t.type,n=t.experience,i=t.level,r=t.percentage;this.skills[e].update(n,i,r)}},{key:"setQuest",value:function(t,e,n){var i;null===(i=this.quests[t])||void 0===i||i.update(e,n)}},{key:"setAchievement",value:function(t,e,n){var i;null===(i=this.achievements[t])||void 0===i||i.update(e,void 0,n)}},{key:"setPoison",value:function(t){this.poison!==t&&(this.poison=t,this.poison?Yt("#health").css("background","-webkit-linear-gradient(right, #079231, #012b0c)"):Yt("#health").css("background","-webkit-linear-gradient(right, #ff0000, #ef5a5a)"))}},{key:"setExperience",value:function(t,e,n){var i;this.experience=t,this.sync(),!isNaN(n)&&e&&(null===(i=this.experienceCallback)||void 0===i||i.call(this,t,n,e))}},{key:"isRanged",value:function(){return this.equipments[et.Weapon].ranged}},{key:"hasWeapon",value:function(){return this.equipments[et.Weapon].exists()}},{key:"hasKeyboardMovement",value:function(){return this.moveLeft||this.moveRight||this.moveUp||this.moveDown}},{key:"onExperience",value:function(t){this.experienceCallback=t}},{key:"onSync",value:function(t){this.syncCallback=t}}]),n}(Dt),Gt=function(t){i(n,t);var e=o(n);function n(t){return f(this,n),e.call(this,t,K.Chest)}return w(n,[{key:"idle",value:function(){this.setAnimation("idle_down",150)}}]),n}(zt),$t=function(t){i(n,t);var e=o(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return f(this,n),(i=e.call(this,t,K.Item)).count=r,i.ability=o,i.abilityLevel=a,i.dropped=!1,i}return w(n,[{key:"idle",value:function(){this.setAnimation("idle",150)}},{key:"hasShadow",value:function(){return!0}}]),n}(zt),Kt=function(){function t(e){f(this,t),this.map=e,this.renderingGrid=[],this.load()}return w(t,[{key:"load",value:function(){for(var t=0;t<this.map.height;t++){this.renderingGrid[t]=[];for(var e=0;e<this.map.width;e++)this.renderingGrid[t][e]={}}a.debug("Finished generating the rendering grid.")}},{key:"addToRenderingGrid",value:function(t){var e=t.instance,n=t.gridX,i=t.gridY;this.map.isOutOfBounds(n,i)||(this.renderingGrid[i][n][e]=t)}},{key:"removeFromRenderingGrid",value:function(t){var e=t.instance,n=t.gridX,i=t.gridY;delete this.renderingGrid[i][n][e]}}]),t}(),Qt=function(t){i(n,t);var e=o(n);function n(t,i){var r;return f(this,n),(r=e.call(this,t,K.Projectile)).owner=i,r.type=K.Projectile,r.speed=150,r.fadingDuration=100,r}return w(n,[{key:"impact",value:function(){var t;null===(t=this.impactCallback)||void 0===t||t.call(this)}},{key:"setStart",value:function(t,e){this.setGridPosition(Math.floor(t/16),Math.floor(e/16))}},{key:"setTarget",value:function(t){t&&(this.target=t,this.updateAngle())}},{key:"getSpeed",value:function(){return 1}},{key:"getTimeDiff",value:function(){return(Date.now()-this.lastUpdate)/1e3}},{key:"updateAngle",value:function(){this.target&&(this.angle=Math.atan2(this.target.y-this.y,this.target.x-this.x)*(180/Math.PI)-90)}},{key:"getAngle",value:function(){return this.angle*Math.PI/180}},{key:"onImpact",value:function(t){this.impactCallback=t}}]),n}(zt),Jt=function(){function t(e){f(this,t),this.game=e,this.grids=new Kt(this.game.map),this.sprites=this.game.sprites,this.entities={},this.decrepit=[],this.game.input.loadCursors()}return w(t,[{key:"create",value:function(t){if(!this.isPlayer(t.instance)&&!(t.instance in this.entities)){var e;switch(t.type){case K.Chest:e=this.createChest(t.instance);break;case K.NPC:e=this.createNPC(t.instance);break;case K.Item:e=this.createItem(t);break;case K.Mob:e=this.createMob(t);break;case K.Projectile:e=this.createProjectile(t);break;case K.Player:e=this.createPlayer(t)}if(!e)return a.error("Failed to create entity ".concat(t.instance));var n=this.game.sprites.get(e.isItem()?"item-".concat(t.key):t.key);if(!n)return a.error("Failed to create sprite for entity ".concat(t.key,"."));e.name=t.name,e.setGridPosition(t.x,t.y),e.setSprite(n),e.setIdleSpeed(n.idleSpeed),e.idle(),this.addEntity(e),e.handler&&(e.handler.setGame(this.game),e.handler.load())}}},{key:"createChest",value:function(t){return new Gt(t)}},{key:"createNPC",value:function(t){return new jt(t)}},{key:"createItem",value:function(t){return new $t(t.instance,t.count,t.ability,t.abilityLevel)}},{key:"createMob",value:function(t){var e=new Nt(t.instance);return e.setHitPoints(t.hitPoints,t.maxHitPoints),e.attackRange=t.attackRange,e.level=t.level,e.hiddenName=t.hiddenName,e.movementSpeed=t.movementSpeed,e}},{key:"createProjectile",value:function(t){var e=this,n=this.get(t.ownerInstance),i=this.get(t.targetInstance);if(n&&i){n.lookAt(i);var r=new Qt(t.instance,n);return r.name=t.name,r.setStart(n.x,n.y),r.setTarget(i),r.setSprite(this.game.sprites.get(r.name)),r.setAnimation("travel",r.getSpeed()),r.angled=!0,r.type=t.type,r.onImpact((function(){(e.isPlayer(r.owner.instance)||e.isPlayer(i.instance))&&e.game.socket.send(Y.Projectile,{opcode:z.Impact,instance:t.instance,target:i.instance}),t.hitType===tt.Explosive&&(i.explosion=!0),e.game.info.create(tt.Damage,t.damage,i.x,i.y,e.isPlayer(i.instance)),i.triggerHealthBar(),e.unregisterPosition(r),delete e.entities[r.instance]})),n.performAction(n.orientation,Q.Attack),n.triggerHealthBar(),r}}},{key:"createPlayer",value:function(t){var e=new Zt(t.instance);return e.load(t),e.loadHandler(this.game),e.setSprite(this.game.sprites.get(e.getSpriteName())),e}},{key:"isPlayer",value:function(t){return this.game.player.instance===t}},{key:"get",value:function(t){return this.entities[t]}},{key:"addEntity",value:function(t){this.entities[t.instance]=t,this.registerPosition(t),t instanceof $t&&t.dropped||t.fadeIn(this.game.time)}},{key:"removeEntity",value:function(t){this.unregisterPosition(t),delete this.entities[t.instance]}},{key:"removeItem",value:function(t){this.unregisterPosition(t),delete this.entities[t.instance]}},{key:"removeChest",value:function(t){var e=this;t.setSprite(this.game.sprites.getDeath()),t.animateDeath((function(){e.unregisterPosition(t),delete e.entities[t.instance]}))}},{key:"registerPosition",value:function(t){this.grids.addToRenderingGrid(t)}},{key:"unregisterPosition",value:function(t){this.grids.removeFromRenderingGrid(t)}},{key:"clean",value:function(){var t=this;0!==this.decrepit.length&&It.each(this.decrepit,(function(e){return t.removeEntity(e)}))}},{key:"cleanDisplayInfo",value:function(){It.each(this.entities,(function(t){t.nameColour="",t.customScale=0}))}},{key:"clearPlayers",value:function(t){var e=this;It.each(this.entities,(function(n){n.isPlayer()&&n.instance!==t.instance&&e.removeEntity(n)}))}},{key:"getAll",value:function(){return this.entities}},{key:"forEachEntity",value:function(t){It.each(this.entities,t)}}]),t}(),te=function(){function t(e,n,i,r,o){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];f(this,t),this.id=e,this.type=n,this.value=i,this.x=r,this.y=o,this.opacity=1,this.text="".concat(this.value),this.prefix="",this.suffix="",this.lastTime=0,this.speed=100,this.updateY=this.isHeal()?2:1,this.duration=this.isHeal()?400:1e3,this.colour=at[this.type],this.fill=this.colour.fill,this.stroke=this.colour.stroke,a&&this.hasInflicted()&&(this.fill=this.colour.inflicted.fill,this.stroke=this.colour.inflicted.stroke),this.isDamage()&&i<1&&(this.text="MISS"),this.isPoison()&&(this.prefix="--"),this.isPoints()&&(this.prefix="++"),this.isExperience()&&(this.prefix="+",this.suffix="EXP")}return w(t,[{key:"update",value:function(t){var e;t-this.lastTime>this.speed&&(this.y-=this.updateY,this.lastTime=t,this.opacity-=70/this.duration,this.opacity<0&&(null===(e=this.destroyCallback)||void 0===e||e.call(this,this.id)))}},{key:"getText",value:function(){return"".concat(this.prefix).concat(this.text," ").concat(this.suffix)}},{key:"isHeal",value:function(){return this.type===tt.Heal}},{key:"isPoison",value:function(){return this.type===tt.Poison}},{key:"isExperience",value:function(){return this.type===tt.Experience||this.type===tt.Profession}},{key:"isPoints",value:function(){return this.type===tt.Heal||this.type===tt.Mana}},{key:"isDamage",value:function(){return this.type===tt.Damage||this.type===tt.Stun||this.type===tt.Critical}},{key:"hasInflicted",value:function(){return void 0!==this.colour.inflicted}},{key:"onDestroy",value:function(t){this.destroyCallback=t}}]),t}(),ee=function(){function t(){f(this,t),this.infos={}}return w(t,[{key:"create",value:function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=ht(Date.now(),n,i);this.addInfo(new te(o,t,e,n,i,r))}},{key:"addInfo",value:function(t){var e=this;this.infos[t.id]=t,t.onDestroy((function(t){return delete e.infos[t]}))}},{key:"isEmpty",value:function(){return 0===It.size(this.infos)}},{key:"update",value:function(t){this.forEachInfo((function(e){return e.update(t)}))}},{key:"forEachInfo",value:function(t){It.each(this.infos,t)}}]),t}(),ne=function(){function t(e){var n=this;f(this,t),this.game=e,this.chatBox=Yt("#chat"),this.log=Yt("#chat-log"),this.input=Yt("#chat-input"),this.button=Yt("#chat-button"),this.fadingDuration=5e3,this.button.on("click",(function(){return n.toggle()}))}return w(t,[{key:"keyDown",value:function(t){if("Enter"===t&&""!==this.input.val())return this.send();"Escape"!==t&&"Enter"!==t||this.toggle()}},{key:"add",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=this.createElement(t,e);r.css("color",n||"white"),this.log.append(r).scrollTop(this.log.prop("scrollHeight")),this.displayChatBox(),this.hideChatBox(),i&&(this.clearTimeout(),this.hide())}},{key:"createElement",value:function(t,e){return Yt("<p>".concat(t," » ").concat(e,"</p>"))}},{key:"send",value:function(){this.game.socket.send(Y.Chat,[this.input.val()]),this.hide()}},{key:"toggle",value:function(){this.clearTimeout(),this.inputVisible()?this.hide():this.display()}},{key:"display",value:function(){this.button.addClass("active"),this.displayChatBox(),this.input.fadeIn("fast").val("").trigger("focus")}},{key:"displayChatBox",value:function(){this.chatBox.fadeIn("fast")}},{key:"hide",value:function(){this.button.removeClass("active"),this.hideChatBox(),this.input.fadeOut("fast").val("").trigger("blur")}},{key:"hideChatBox",value:function(){var t=this;this.fadingTimeout=window.setTimeout((function(){t.inputVisible()||t.chatBox.fadeOut("slow")}),this.fadingDuration)}},{key:"inputVisible",value:function(){return this.input.is(":visible")}},{key:"clear",value:function(){this.inputVisible()&&this.toggle(),this.clearTimeout()}},{key:"clearTimeout",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){clearTimeout(this.fadingTimeout),window.clearTimeout(this.fadingTimeout),this.fadingTimeout=void 0}))}]),t}(),ie=function(){function t(e){f(this,t),this.input=e,this.attackInfo=Yt("#attack-info"),this.name=this.attackInfo.find(".name"),this.details=this.attackInfo.find(".details"),this.health=this.attackInfo.find(".health"),this.onUpdate(this.handleUpdate.bind(this))}return w(t,[{key:"update",value:function(t){var e=this.name,n=this.health,i=this.details;if(!t||!this.validEntity(t))return this.hovering=void 0,this.hide();this.isVisible()||this.display(),this.hovering=t,e.html(t.name),this.hasHealth()?this.setHealth(t.hitPoints):(n.hide(),i.html(""))}},{key:"handleUpdate",value:function(t,e){this.hasHealth()&&this.hovering.instance===t&&(e<1?this.hide():this.setHealth(e))}},{key:"setHealth",value:function(t){if(this.hasHealth()){this.health.show();var e=this.hovering.maxHitPoints;this.health.css("width","".concat(Math.ceil(t/e*100)-10,"%")),this.details.html("".concat(t," / ").concat(e))}}},{key:"validEntity",value:function(t){return t.instance!==this.input.player.instance&&!t.isProjectile()}},{key:"hasHealth",value:function(){return!!this.hovering&&(this.hovering.isMob()||this.hovering.isPlayer())}},{key:"display",value:function(){this.attackInfo.fadeIn("fast")}},{key:"hide",value:function(){this.attackInfo.fadeOut("fast")}},{key:"isVisible",value:function(){return"block"===this.attackInfo.css("display")}},{key:"onUpdate",value:function(t){this.updateCallback=t}}]),t}(),re=function(){function t(e){var n=this;f(this,t),this.game=e,this.app=this.game.app,this.map=this.game.map,this.camera=this.game.camera,this.player=this.game.player,this.selectedCellVisible=!1,this.keyMovement=!1,this.targetVisible=!0,this.selectedX=-1,this.selectedY=-1,this.targetColour="rgba(255, 255, 255, 0.5)",this.cursors={},this.lastMousePosition={x:0,y:0},this.mouse={x:0,y:0},this.targetAnimation=new Rt("move",4,0,16,16),this.chatHandler=new ne(this.game),this.hud=new ie(this),this.app.onLeftClick(this.handleLeftClick.bind(this)),this.app.onRightClick(this.handleRightClick.bind(this)),this.app.onKeyDown(this.handleKeyDown.bind(this)),this.app.onKeyUp(this.handleKeyUp.bind(this)),this.app.onMouseMove((function(t){n.game.started&&(n.setCoords(t),n.moveCursor())})),this.targetAnimation.setSpeed(50)}return w(t,[{key:"loadCursors",value:function(){this.cursors.hand=this.game.sprites.get("hand"),this.cursors.sword=this.game.sprites.get("sword"),this.cursors.loot=this.game.sprites.get("loot"),this.cursors.target=this.game.sprites.get("target"),this.cursors.arrow=this.game.sprites.get("arrow"),this.cursors.talk=this.game.sprites.get("talk"),this.cursors.spell=this.game.sprites.get("spell"),this.cursors.bow=this.game.sprites.get("bow"),this.cursors.axe=this.game.sprites.get("axe_cursor"),a.debug("Loaded Cursors!")}},{key:"handleLeftClick",value:function(t){if(this.setCoords(t),this.keyMovement=!1,this.game.player.disableAction=!1,this.isCtrlKey())return this.game.socket.send(Y.Command,[V.CtrlClick,this.getCoords()]);this.move(this.getCoords())}},{key:"handleRightClick",value:function(t){this.setCoords(t);var e=this.getCoords(),n=this.game.getEntityAt(e.x,e.y);n&&console.log(n)}},{key:"handleKeyDown",value:function(t){if(this.chatHandler.inputVisible())return this.chatHandler.keyDown(t.key);switch(t.key){case"w":case"ArrowUp":return void(this.game.player.moveUp=!0);case"a":case"ArrowLeft":return void(this.game.player.moveLeft=!0);case"s":case"ArrowDown":return void(this.game.player.moveDown=!0);case"d":case"ArrowRight":return void(this.game.player.moveRight=!0);case"Enter":return void this.chatHandler.toggle();case"i":return void this.game.menu.getInventory().toggle();case"m":case"p":return;case"Escape":return void this.game.menu.hide();case"+":case"=":return this.game.camera.zoom(.1),void this.game.renderer.resize();case"-":case"_":return this.game.camera.zoom(-.1),void this.game.renderer.resize()}}},{key:"handleKeyUp",value:function(t){switch(t.key){case"w":case"ArrowUp":return void(this.game.player.moveUp=!1);case"a":case"ArrowLeft":return void(this.game.player.moveLeft=!1);case"s":case"ArrowDown":return void(this.game.player.moveDown=!1);case"d":case"ArrowRight":return void(this.game.player.moveRight=!1)}this.game.player.disableAction=!1}},{key:"keyMove",value:function(t){this.game.player.hasPath()||(this.move(t),this.keyMovement=!0)}},{key:"move",value:function(t){if(!(this.player.stunned||(this.setPassiveTarget(),this.player.disableAction||this.game.zoning.direction||this.game.map.isOutOfBounds(t.x,t.y)))){if(bt()&&this.chatHandler.inputVisible()&&this.chatHandler.toggle(),this.game.menu.hide(),this.game.map.isObject(t.x,t.y))return this.player.setObjectTarget(t);if(this.player.removeTarget(),this.entity=this.game.getEntityAt(t.x,t.y),this.entity&&(this.setAttackTarget(),this.isTargetable(this.entity)))return this.player.setTarget(this.entity),this.player.follow(this.entity),void this.game.socket.send(Y.Target,[P.Attack,this.entity.instance]);this.player.go(t.x,t.y)}}},{key:"moveCursor",value:function(){if(!bt()){var t=this.getCoords();if(this.entity=this.game.getEntityAt(t.x,t.y),this.hud.update(this.entity),!this.entity){if(this.map.isObject(t.x,t.y)){var e=this.map.getTileCursor(t.x,t.y);return this.setCursor(this.cursors[e||"talk"]),void(this.hovering=nt.Object)}return this.setCursor(this.cursors.hand),void(this.hovering=null)}switch(this.entity.type){case K.Item:case K.Chest:this.setCursor(this.cursors.loot),this.hovering=nt.Item;break;case K.Mob:this.setCursor(this.getAttackCursor()),this.hovering=nt.Mob;break;case K.NPC:this.setCursor(this.cursors.talk),this.hovering=nt.NPC;break;case K.Player:this.entity.pvp&&this.game.pvp&&(this.setCursor(this.getAttackCursor()),this.hovering=nt.Player)}}}},{key:"saveMouse",value:function(){this.lastMousePosition.x=this.mouse.x,this.lastMousePosition.y=this.mouse.y}},{key:"setPosition",value:function(t,e){this.selectedX=t,this.selectedY=e}},{key:"setCursor",value:function(t){t&&(this.cursor=t)}},{key:"setPassiveTarget",value:function(){this.targetAnimation.setRow(0)}},{key:"setAttackTarget",value:function(){this.targetAnimation.setRow(1)}},{key:"setCoords",value:function(t){var e=this.game.renderer.background,n=e.width,i=e.height;this.mouse.x=t.pageX,this.mouse.y=t.pageY,this.mouse.x>=n?this.mouse.x=n-1:this.mouse.x<=0&&(this.mouse.x=0),this.mouse.y>=i?this.mouse.y=i-1:this.mouse.y<=0&&(this.mouse.y=0)}},{key:"getAttackCursor",value:function(){return this.cursors[this.player.isRanged()?"bow":"sword"]}},{key:"getCoords",value:function(){var t=this.map.tileSize*this.camera.zoomFactor,e=this.mouse.x%t,n=this.mouse.y%t;return{x:(this.mouse.x-e)/t+this.game.camera.gridX,y:(this.mouse.y-n)/t+this.game.camera.gridY}}},{key:"getTargetData",value:function(){var t=this.game.sprites.get("target");if(t){var e=this.targetAnimation.currentFrame,n=this.game.map.tileSize,i=this.game.camera.zoomFactor;return t.loaded||t.load(),{sprite:t,x:e.x,y:e.y,width:t.width,height:t.height,dx:this.selectedX*n*i,dy:this.selectedY*n*i,dw:t.width*i,dh:t.height*i}}}},{key:"isCtrlKey",value:function(){return window.event.ctrlKey}},{key:"isTargetable",value:function(t){return this.isAttackable(t)||t.isNPC()||t.isChest()}},{key:"isAttackable",value:function(t){return t.isMob()||t.isPlayer()&&t.pvp&&this.game.pvp}},{key:"isMouseRendered",value:function(){return this.mouse.x===this.lastMousePosition.x&&this.mouse.y===this.lastMousePosition.y}}]),t}(),oe=function(){function t(e,n,i){var r,o;f(this,t),this.containerName=e,this.closeButton=n,this.toggleButton=i,this.body=document.querySelector(this.containerName),this.close=document.querySelector(this.closeButton),this.button=document.querySelector(this.toggleButton),null===(r=this.close)||void 0===r||r.addEventListener("click",this.hide.bind(this)),null===(o=this.button)||void 0===o||o.addEventListener("click",this.toggle.bind(this))}return w(t,[{key:"batch",value:function(t){a.debug("Unimplemented menu batch() function.")}},{key:"synchronize",value:function(t){}},{key:"add",value:function(t){a.debug("Unimplemented menu add() function.")}},{key:"remove",value:function(t){a.debug("Unimplemented menu remove() function.")}},{key:"show",value:function(t,e,n){var i,r;null===(i=this.showCallback)||void 0===i||i.call(this),this.body.style.display="block",null===(r=this.button)||void 0===r||r.classList.add("active")}},{key:"hide",value:function(){var t;this.body.style.display="none",null===(t=this.button)||void 0===t||t.classList.remove("active")}},{key:"toggle",value:function(){this.isVisible()?this.hide():this.show()}},{key:"resize",value:function(){}},{key:"isVisible",value:function(){return"block"===this.body.style.display}},{key:"onShow",value:function(t){this.showCallback=t}}]),t}(),ae=function(t){i(r,t);var n=o(r);function r(){var t;return f(this,r),(t=n.call(this)).body=document.querySelector("#action-container"),t.list=document.querySelector("#action-container > ul"),t}return w(r,[{key:"show",value:function(t,n,i){var o=this;this.clear(),It.each(t,(function(t){return o.add(t)})),this.body.style.left="".concat(n,"px"),this.body.style.top="".concat(i,"px"),e(s(r.prototype),"show",this).call(this)}},{key:"add",value:function(t){var e=this,n=document.createElement("li"),i=document.createElement("div");i.classList.add("action-button"),i.textContent=t,i.addEventListener("click",(function(){var n;return null===(n=e.buttonCallback)||void 0===n?void 0:n.call(e,t)})),n.append(i),this.list.append(n)}},{key:"clear",value:function(){this.list.innerHTML=""}},{key:"onButton",value:function(t){this.buttonCallback=t}}]),r}(oe),le=function(t){i(r,t);var n=o(r);function r(t){var e;return f(this,r),(e=n.call(this,"#inventory",void 0,"#inventory-button")).actions=t,e.list=document.querySelector("#inventory > ul"),e.selectedSlot=-1,e.load(),e.actions.onButton((function(t){return e.handleAction(t)})),e}return w(r,[{key:"load",value:function(){if(!this.list)return a.error("Could not create the skeleton for the inventory.");for(var t=0;t<lt.INVENTORY_SIZE;t++)this.list.append(this.createSlot(t))}},{key:"handleAction",value:function(t){var e;null===(e=this.selectCallback)||void 0===e||e.call(this,this.selectedSlot,ft(t)),this.actions.hide()}},{key:"batch",value:function(t){var e=this;It.each(t,(function(t){t.key&&e.setSlot(t.index,t.key,t.count,t.edible,t.equippable)}))}},{key:"add",value:function(t){this.setSlot(t.index,t.key,t.count,t.edible,t.equippable)}},{key:"remove",value:function(t){this.setSlot(t.index,t.key,t.count,t.edible,t.equippable)}},{key:"select",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getElement(t);if(this.isEmpty(n))return this.actions.hide();if(this.selectedSlot=t,e)n.edible?this.handleAction(J.Eat):n.equippable&&this.handleAction(J.Equip);else{var i=[];n.edible&&i.push(J.Eat),n.equippable&&i.push(J.Equip),i.push(J.Drop);var r=this.getPosition(n);this.actions.show(i,r.x,r.y)}}},{key:"dragStart",value:function(t){this.isEmpty(this.getElement(t))||(this.selectedSlot=t)}},{key:"dragDrop",value:function(t,e){var n,i=t.target;i&&(i.classList.remove("item-slot-focused"),-1!==this.selectedSlot&&(null===(n=this.selectCallback)||void 0===n||n.call(this,this.selectedSlot,D.Swap,e),this.selectedSlot=-1))}},{key:"dragOver",value:function(t){t.target&&t.target.draggable&&(t.preventDefault(),t.target.classList.add("item-slot-focused"))}},{key:"dragLeave",value:function(t){t.target.classList.remove("item-slot-focused")}},{key:"setSlot",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this.getElement(t);if(!o)return a.error("Could not find slot element at: ".concat(t));var l=o.querySelector(".inventory-item-count");l&&(l.textContent=gt(n)),o.style.backgroundImage=e?ct(e):"",o.edible=i,o.equippable=r}},{key:"createSlot",value:function(t){var e=this,n=document.createElement("li"),i=document.createElement("div"),r=document.createElement("div");return i.draggable=!0,i.classList.add("item-slot"),r.classList.add("inventory-item-count"),i.append(r),n.append(i),n.addEventListener("click",(function(){return e.select(t)})),n.addEventListener("dblclick",(function(){return e.select(t,!0)})),n.addEventListener("dragstart",(function(){return e.dragStart(t)})),n.addEventListener("drop",(function(n){return e.dragDrop(n,t)})),n.addEventListener("dragover",(function(t){return e.dragOver(t)})),n.addEventListener("dragleave",(function(t){return e.dragLeave(t)})),n}},{key:"hide",value:function(){e(s(r.prototype),"hide",this).call(this),this.selectedSlot=-1,this.actions.hide()}},{key:"isEmpty",value:function(t){return""===t.style.backgroundImage}},{key:"getElement",value:function(t){return this.list.children[t].querySelector("div")}},{key:"getPosition",value:function(t){var e=t.getBoundingClientRect();return{x:e.left-e.width,y:e.top-2*e.height}}},{key:"forEachSlot",value:function(t){for(var e=0;e<this.list.children.length;e++)t(e,this.getElement(e))}},{key:"onSelect",value:function(t){this.selectCallback=t}}]),r}(oe),se=function(t){i(r,t);var n=o(r);function r(t){var e;return f(this,r),(e=n.call(this,"#bank","#close-bank")).inventory=t,e.bankList=document.querySelector("#bank-slot > ul"),e.inventoryList=document.querySelector("#bank-inventory-slots > ul"),e.load(),e}return w(r,[{key:"load",value:function(){if(!this.bankList)return a.error("[Bank] Could not find the bank slot list.");if(!this.inventoryList)return a.error("[Bank] Could not find the inventory slot list.");for(var t=0;t<lt.BANK_SIZE;t++)this.bankList.append(dt(G.Bank,t,this.select.bind(this)));for(var e=0;e<lt.INVENTORY_SIZE;e++)this.inventoryList.append(dt(G.Inventory,e,this.select.bind(this)))}},{key:"select",value:function(t,e){var n;null===(n=this.selectCallback)||void 0===n||n.call(this,t,e)}},{key:"setSlot",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.getBankElement(t).querySelector(".bank-image"),r=this.getBankElement(t).querySelector(".item-count");i.style.backgroundImage=ct(e),r.textContent=gt(n)}},{key:"synchronize",value:function(){var t=this;this.isVisible()&&this.inventory.forEachSlot((function(e,n){var i=t.getInventoryElement(e).querySelector(".bank-image"),r=t.getInventoryElement(e).querySelector(".item-count");i.style.backgroundImage=n.style.backgroundImage,r.textContent=n.textContent}))}},{key:"add",value:function(t){this.setSlot(t.index,t.key,t.count)}},{key:"remove",value:function(t){this.setSlot(t.index,t.key,t.count)}},{key:"show",value:function(t){var n=this;e(s(r.prototype),"show",this).call(this),this.synchronize(),It.each(t,(function(t){return n.setSlot(t.index,t.key,t.count)}))}},{key:"hide",value:function(){e(s(r.prototype),"hide",this).call(this)}},{key:"getBankElement",value:function(t){return this.bankList.children[t].querySelector("div")}},{key:"getInventoryElement",value:function(t){return this.inventoryList.children[t].querySelector("div")}},{key:"onSelect",value:function(t){this.selectCallback=t}}]),r}(oe),he=function(t){i(r,t);var n=o(r);function r(t){var e;return f(this,r),(e=n.call(this,"#store","#close-store")).inventory=t,e.key="",e.currency="gold",e.selectedIndex=-1,e.selectedCount=-1,e.confirmSell=document.querySelector("#confirm-sell"),e.sellSlot=document.querySelector("#store-sell-slot"),e.sellSlotText=document.querySelector("#store-sell-slot-text"),e.sellSlotReturn=document.querySelector("#store-sell-slot-return"),e.sellSlotReturnText=document.querySelector("#store-sell-slot-return-text"),e.storeList=document.querySelector("#store-container > ul"),e.inventoryList=document.querySelector("#store-inventory-slots > ul"),e.load(),e.sellSlot.addEventListener("click",e.synchronize.bind(l(e))),e.confirmSell.addEventListener("click",e.sell.bind(l(e))),e}return w(r,[{key:"load",value:function(){for(var t=0;t<lt.INVENTORY_SIZE;t++)this.inventoryList.append(dt(G.Inventory,t,this.select.bind(this)))}},{key:"update",value:function(t){this.clear(),this.key=t.key,this.currency=t.currency;for(var e=0;e<t.items.length;e++)this.storeList.append(this.createStoreItem(t.items[e],e))}},{key:"select",value:function(t,e){var n;null===(n=this.selectCallback)||void 0===n||n.call(this,U.Select,this.key,e)}},{key:"sell",value:function(){var t;null===(t=this.selectCallback)||void 0===t||t.call(this,U.Sell,this.key,this.selectedIndex,this.selectedCount)}},{key:"buy",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;null===(e=this.selectCallback)||void 0===e||e.call(this,U.Buy,this.key,t,n)}},{key:"synchronize",value:function(){var t=this;this.isVisible()&&(this.clearSellSlot(),this.inventory.forEachSlot((function(e,n){var i=t.getElement(e).querySelector(".bank-image"),r=t.getElement(e).querySelector(".item-count");i.style.backgroundImage=n.style.backgroundImage,r.textContent=n.textContent})))}},{key:"show",value:function(t){e(s(r.prototype),"show",this).call(this),this.update(t),this.synchronize()}},{key:"clear",value:function(){this.key="",this.currency="gold",this.storeList.innerHTML=""}},{key:"clearSellSlot",value:function(){this.selectedIndex=-1,this.selectedCount=-1,this.sellSlot.style.backgroundImage="",this.sellSlotText.textContent="",this.sellSlotReturn.style.backgroundImage="",this.sellSlotReturnText.textContent=""}},{key:"move",value:function(t){if(t.key!==this.key)return a.error("Invalid store key provided for the select.");this.synchronize();var e=this.getElement(t.item.index).querySelector(".bank-image"),n=this.getElement(t.item.index).querySelector(".item-count");if(!e||!n)return a.error("[Store] Could not find image and count elements.");this.sellSlot.style.backgroundImage=e.style.backgroundImage,this.sellSlot.textContent=n.textContent,this.sellSlotReturn.style.backgroundImage=ct(this.currency),this.sellSlotReturnText.textContent=t.item.price.toString()||"",e.style.backgroundImage="",n.textContent="",this.selectedIndex=t.item.index,this.selectedCount=t.item.count}},{key:"createStoreItem",value:function(t,e){var n=this,i=document.createElement("li"),r=document.createElement("div"),o=document.createElement("div"),a=document.createElement("div"),l=document.createElement("div"),s=document.createElement("div"),h=document.createElement("div");return r.classList.add("store-item"),o.classList.add("store-item-image"),a.classList.add("store-item-name"),l.classList.add("store-item-count"),s.classList.add("store-item-price"),h.classList.add("store-item-buy"),l.textContent=t.count.toString(),a.textContent=t.name,s.textContent=t.price.toString(),h.textContent="Buy",o.style.backgroundImage=ct(t.key),h.addEventListener("click",(function(){return n.buy(e)})),r.append(o,a,l,s,h),i.append(r),i}},{key:"getElement",value:function(t){return this.inventoryList.children[t].querySelector("div")}},{key:"onSelect",value:function(t){this.selectCallback=t}}]),r}(oe),ue=function(){function t(e){f(this,t),this.player=e,this.health=document.querySelector("#health"),this.healthBar=document.querySelector("#health-bar"),this.text=document.querySelector("#health-bar-text"),this.experience=document.querySelector("#exp"),this.experienceBar=document.querySelector("#exp-bar"),this.player.onHitPoints(this.handleHitPoints.bind(this)),this.player.onExperience(this.handleExperience.bind(this))}return w(t,[{key:"handleHitPoints",value:function(t,e,n){var i=t/e;n&&this.flash("white"),this.health.style.width="".concat(Math.floor(this.healthBar.offsetWidth*i).toString(),"px"),this.text.textContent="".concat(t,"/").concat(e)}},{key:"handleExperience",value:function(t,e,n){var i=(t-e)/(n-e);this.experience.style.width="".concat(Math.floor(this.experienceBar.offsetWidth*i).toString(),"px")}},{key:"flash",value:function(t){var e=this;this.health.classList.add(t),window.setTimeout((function(){return e.health.classList.remove(t)}),500)}}]),t}(),de=function(t){i(n,t);var e=o(n);function n(){var t;return f(this,n),(t=e.call(this,"#state-page")).name=document.querySelector("#profile-name"),t.level=document.querySelector("#profile-level"),t.experience=document.querySelector("#profile-experience"),t.weapon=document.querySelector("#weapon-slot"),t.weaponInfo=document.querySelector("#weapon-slot-info"),t.armour=document.querySelector("#armour-slot"),t.armourInfo=document.querySelector("#armour-slot-info"),t.pendant=document.querySelector("#pendant-slot"),t.ring=document.querySelector("#ring-slot"),t.boots=document.querySelector("#boots-slot"),t.weapon.addEventListener("click",(function(){var e,n;return null===(e=(n=t).selectCallback)||void 0===e?void 0:e.call(n,et.Weapon)})),t.armour.addEventListener("click",(function(){var e,n;return null===(e=(n=t).selectCallback)||void 0===e?void 0:e.call(n,et.Armour)})),t.pendant.addEventListener("click",(function(){var e,n;return null===(e=(n=t).selectCallback)||void 0===e?void 0:e.call(n,et.Pendant)})),t.ring.addEventListener("click",(function(){var e,n;return null===(e=(n=t).selectCallback)||void 0===e?void 0:e.call(n,et.Ring)})),t.boots.addEventListener("click",(function(){var e,n;return null===(e=(n=t).selectCallback)||void 0===e?void 0:e.call(n,et.Boots)})),t}return w(n,[{key:"synchronize",value:function(t){this.name.textContent=t.name,this.level.textContent="Level ".concat(t.level),this.experience.textContent="".concat(t.experience),this.weapon.style.backgroundImage=ct(t.getWeapon().key),this.armour.style.backgroundImage=ct("clotharmor"===t.getArmour().key?"":t.getArmour().key),this.pendant.style.backgroundImage=ct(t.getPendant().key),this.ring.style.backgroundImage=ct(t.getRing().key),this.boots.style.backgroundImage=ct(t.getBoots().key)}},{key:"onSelect",value:function(t){this.selectCallback=t}}]),n}(oe),ce=function(t){i(n,t);var e=o(n);function n(){var t;return f(this,n),(t=e.call(this,"#quest-page")).questList=document.querySelector("#quest-list > ul"),t.achievementList=document.querySelector("#achievement-list > ul"),t}return w(n,[{key:"synchronize",value:function(t){var e=this;this.questList.innerHTML="",this.achievementList.innerHTML="",It.each(t.quests,(function(t){return e.questList.append(e.createElement(t))})),It.each(t.achievements,(function(t){return e.achievementList.append(e.createElement(t))}))}},{key:"createElement",value:function(t){var e=document.createElement("li"),n=document.createElement("div"),i=document.createElement("div");return n.classList.add("quest-item"),i.classList.add("quest-name"),i.textContent=t.name,i.style.background=this.getColour(t),n.append(i),e.append(n),e}},{key:"getColour",value:function(t){return t.isFinished()?"rgba(10, 255, 10, 0.3)":t.isStarted()?"rgba(255, 255, 10, 0.4)":"rgba(255, 10, 10, 0.3)"}}]),n}(oe),ge=function(t){i(n,t);var e=o(n);function n(){var t;return f(this,n),(t=e.call(this,"#skills-page")).list=document.querySelector("#skills-list > ul"),t}return w(n,[{key:"synchronize",value:function(t){var e=this;this.list.innerHTML="",It.each(t.skills,(function(t){return e.list.append(e.createElement(t))}))}},{key:"createElement",value:function(t){var e=document.createElement("li"),n=document.createElement("div"),i=document.createElement("div"),r=document.createElement("p");return n.classList.add("profession-item"),i.classList.add("profession-name"),i.textContent=t.name,r.textContent="Level ".concat(t.level," | ").concat(t.percentage.toFixed(1),"%"),i.append(r),n.append(i),e.append(n),e}}]),n}(oe),fe=function(t){i(n,t);var e=o(n);function n(t){var i;return f(this,n),(i=e.call(this,"#profile-dialog",void 0,"#profile-button")).player=t,i.state=new de,i.tasks=new ce,i.skills=new ge,i.pages=[i.state,i.tasks,i.skills],i.activePage=0,i.previous=document.querySelector("#previous"),i.next=document.querySelector("#next"),i.handleNavigation(),i.previous.addEventListener("click",(function(){return i.handleNavigation("previous")})),i.next.addEventListener("click",(function(){return i.handleNavigation("next")})),i.state.onSelect((function(t){var e,n;return null===(e=(n=i).unequipCallback)||void 0===e?void 0:e.call(n,t)})),i}return w(n,[{key:"handleNavigation",value:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"previous";this.isDisabled(n)||(this.previous.classList.remove("disabled"),this.next.classList.remove("disabled"),null===(t=this.pages[this.activePage])||void 0===t||t.hide(),this.activePage+="previous"===n?-1:1,this.activePage<=0&&(this.activePage=0,this.previous.classList.add("disabled")),this.activePage>=this.pages.length-1&&(this.activePage=this.pages.length-1,this.next.classList.add("disabled")),null===(e=this.pages[this.activePage])||void 0===e||e.show())}},{key:"synchronize",value:function(){var t=this;this.forEachPage((function(e){return e.synchronize(t.player)}))}},{key:"isDisabled",value:function(t){return"previous"===t&&this.previous.classList.contains("disabled")||"next"===t&&this.next.classList.contains("disabled")}},{key:"forEachPage",value:function(t){It.each(this.pages,t)}},{key:"onUnequip",value:function(t){this.unequipCallback=t}}]),n}(oe),pe=function(t){i(n,t);var e=o(n);function n(){return f(this,n),e.call(this,"#enchant","#close-enchant")}return w(n)}(oe),we=function(t){i(n,t);var e=o(n);function n(t){var i;return f(this,n),(i=e.call(this,"#map-frame","#close-map-frame","#warp-button")).socket=t,i.list=document.querySelectorAll(".map-button"),It.each(i.list,(function(t){return t.addEventListener("click",(function(){return i.handleWarp(t)}))})),i}return w(n,[{key:"handleWarp",value:function(t){var e=parseInt(t.id.replace("warp",""));if(isNaN(e))return a.error("Invalid warp element clicked.");this.socket.send(Y.Warp,{id:e}),this.hide()}}]),n}(oe),me=function(t){i(n,t);var e=o(n);function n(){var t;return f(this,n),(t=e.call(this,"#notification")).title=document.querySelector("#notification-text-title"),t.description=document.querySelector("#notification-text-description"),t}return w(n,[{key:"show",value:function(t,e,n){var i=this;if(this.isVisible())return this.hide(!1),void window.setTimeout((function(){return i.show(t,e,n)}),700);this.body.classList.add("active"),this.setPosition(),this.title.style.color=n,this.title.innerHTML=t,this.description.innerHTML=e,clearTimeout(this.timeout),this.timeout=window.setTimeout((function(){return i.hide(!1)}),7e3)}},{key:"hide",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t||(this.body.classList.remove("active"),this.body.style.top="100%")}},{key:"resize",value:function(){this.isVisible()&&this.setPosition()}},{key:"isVisible",value:function(){return this.body.classList.contains("active")}},{key:"getPosition",value:function(){return window.innerHeight-this.body.offsetHeight}},{key:"setPosition",value:function(){this.body.style.top="".concat(this.getPosition(),"px")}}]),n}(oe),ke=function(t){i(n,t);var e=o(n);function n(t){var i;return f(this,n),(i=e.call(this,"#settings-page",void 0,"#settings-button")).game=t,i.volumeSlider=document.querySelector("#volume"),i.sfxSlider=document.querySelector("#sfx"),i.brightnessSlider=document.querySelector("#brightness"),i.soundCheckbox=document.querySelector("#sound-check > input"),i.cameraCheckbox=document.querySelector("#camera-check > input"),i.debugCheckbox=document.querySelector("#debug-check > input"),i.nameCheckbox=document.querySelector("#name-check > input"),i.levelCheckbox=document.querySelector("#level-check > input"),i.volumeSlider.addEventListener("input",i.handleVolume.bind(l(i))),i.sfxSlider.addEventListener("input",i.handleSFX.bind(l(i))),i.brightnessSlider.addEventListener("input",i.handleBrightness.bind(l(i))),i.soundCheckbox.addEventListener("change",i.handleSound.bind(l(i))),i.cameraCheckbox.addEventListener("change",i.handleCamera.bind(l(i))),i.debugCheckbox.addEventListener("change",i.handleDebug.bind(l(i))),i.nameCheckbox.addEventListener("change",i.handleName.bind(l(i))),i.levelCheckbox.addEventListener("change",i.handleLevel.bind(l(i))),i.load(),i}return w(n,[{key:"load",value:function(){var t=this.game.storage.getSettings();this.volumeSlider.value=t.music.toString(),this.sfxSlider.value=t.sfx.toString(),this.brightnessSlider.value=t.brightness.toString(),this.soundCheckbox.checked=t.soundEnabled,this.cameraCheckbox.checked=t.centerCamera,this.debugCheckbox.checked=t.debug,this.nameCheckbox.checked=t.showNames,this.levelCheckbox.checked=t.showLevels,this.handleBrightness(),this.handleDebug(),this.handleCamera(),this.handleName(),this.handleLevel()}},{key:"handleVolume",value:function(){this.game.storage.setVolume(this.volumeSlider.valueAsNumber)}},{key:"handleSFX",value:function(){this.game.storage.setSFX(this.sfxSlider.valueAsNumber)}},{key:"handleBrightness",value:function(){this.game.storage.setBrightness(this.brightnessSlider.valueAsNumber),this.game.renderer.setBrightness(this.brightnessSlider.valueAsNumber)}},{key:"handleSound",value:function(){this.game.storage.setSoundEnabled(this.soundCheckbox.checked)}},{key:"handleCamera",value:function(){this.game.storage.setCenterCamera(this.cameraCheckbox.checked),this.cameraCheckbox.checked?(this.game.camera.center(),this.game.camera.centreOn(this.game.player)):this.game.camera.decenter()}},{key:"handleDebug",value:function(){this.game.storage.setDebug(this.debugCheckbox.checked),this.game.renderer.debugging=this.debugCheckbox.checked}},{key:"handleName",value:function(){this.game.storage.setShowNames(this.nameCheckbox.checked),this.game.renderer.drawNames=this.nameCheckbox.checked}},{key:"handleLevel",value:function(){this.game.storage.setShowLevels(this.levelCheckbox.checked),this.game.renderer.drawLevels=this.levelCheckbox.checked}}]),n}(oe),ve=function(){function t(e){f(this,t),this.game=e,this.actions=new ae,this.inventory=new le(this.actions),this.bank=new se(this.inventory),this.store=new he(this.inventory),this.profile=new fe(this.game.player),this.enchant=new pe,this.warp=new we(this.game.socket),this.notification=new me,this.settings=new ke(this.game),this.menu=[this.inventory,this.bank,this.store,this.profile,this.enchant,this.warp,this.notification,this.settings],this.inventory.onSelect(this.handleInventorySelect.bind(this)),this.bank.onSelect(this.handleBankSelect.bind(this)),this.store.onSelect(this.handleStoreSelect.bind(this)),this.profile.onUnequip(this.handleProfileUnequip.bind(this)),this.load()}return w(t,[{key:"load",value:function(){var t=this;new ue(this.game.player),this.forEachMenu((function(e){return e.onShow((function(){return t.hide()}))}))}},{key:"hide",value:function(){this.forEachMenu((function(t){return t.hide()}))}},{key:"synchronize",value:function(){this.forEachMenu((function(t){return t.synchronize()}))}},{key:"resize",value:function(){this.forEachMenu((function(t){return t.resize()}))}},{key:"getInventory",value:function(){return this.inventory}},{key:"getBank",value:function(){return this.bank}},{key:"getStore",value:function(){return this.store}},{key:"getProfile",value:function(){return this.profile}},{key:"getNotification",value:function(){return this.notification}},{key:"handleInventorySelect",value:function(t,e,n){this.game.socket.send(Y.Container,{opcode:e,type:G.Inventory,index:t,tIndex:n})}},{key:"handleBankSelect",value:function(t,e){this.game.socket.send(Y.Container,{opcode:D.Select,type:G.Bank,subType:t,index:e})}},{key:"handleStoreSelect",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.game.socket.send(Y.Store,{opcode:t,key:e,index:n,count:i})}},{key:"handleProfileUnequip",value:function(t){this.game.socket.send(Y.Equipment,{opcode:T.Unequip,type:t})}},{key:"forEachMenu",value:function(t){It.each(this.menu,t)}}]),t}(),_e=function(){function t(e){f(this,t),this.sprite=e,this.loaded=!1,this.loadHurt=!1,this.offsetX=0,this.offsetY=0,this.hurtSprite={loaded:!1},this.id=e.id}return w(t,[{key:"load",value:function(){var t=this;this.image=new Image;var e=this.image,n=this.filepath;e.crossOrigin="Anonymous",e.src=n,e.addEventListener("load",(function(){var e,n=t.loadHurt;t.loaded=!0,n&&t.createHurtSprite(),null===(e=t.loadCallback)||void 0===e||e.call(t)}))}},{key:"loadSprite",value:function(){var t,e,n,i,r,o=this.sprite,a=this.id,l="/img/sprites/".concat(a,".png");this.filepath=l,this.animationData=o.animations,this.width=null!==(t=o.width)&&void 0!==t?t:16,this.height=null!==(e=o.height)&&void 0!==e?e:16,this.offsetX=null!==(n=o.offsetX)&&void 0!==n?n:-16,this.offsetY=null!==(i=o.offsetY)&&void 0!==i?i:-16,this.idleSpeed=null!==(r=o.idleSpeed)&&void 0!==r?r:450}},{key:"createAnimations",value:function(){var t=this.animationData,e=this.width,n=this.height,i={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){"death"===r&&(this.hasDeathAnimation=!0);var o=t[r],a=o.length,l=o.row;i[r]=new Rt(r,a,l,e,n)}return i}},{key:"createHurtSprite",value:function(){if(this.loaded||this.load(),!this.hurtSprite.loaded){var t,e=document.createElement("canvas"),n=e.getContext("2d");e.width=this.image.width,e.height=this.image.height;try{n.drawImage(this.image,0,0,this.image.width,this.image.height),t=n.getImageData(0,0,this.image.width,this.image.height);for(var i=0;i<t.data.length;i+=4)t.data[i]=255,t.data[i+1]=t.data[i+2]=75;n.putImageData(t,0,0),this.hurtSprite={image:e,loaded:!0,offsetX:this.offsetX,offsetY:this.offsetY,width:this.width,height:this.height,type:"hurt"}}catch(r){a.error("Could not load hurt sprite.",r)}}}},{key:"onLoad",value:function(t){this.loadCallback=t}}]),t}(),ye=[{id:"adhererarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-13},{id:"adherer",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"adhererrobe",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-13},{id:"adminarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"agent",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"ancientmanumentnpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"angelnpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"ant",width:48,height:48,animations:{atk_right:{length:4,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:4,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:4,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-22},{id:"archerarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"archerschooluniform",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"axe",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-20},{id:"fireaxe",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-20},{id:"poisonaxe",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-20},{id:"rustedaxe",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-20},{id:"babyspider",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:4,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:4,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-5,offsetY:-13},{id:"bamboospear",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"bastardsword",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"bat",idleSpeed:100,width:32,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:5,row:1},idle_right:{length:5,row:2},atk_up:{length:5,row:3},walk_up:{length:5,row:4},idle_up:{length:5,row:5},atk_down:{length:5,row:6},walk_down:{length:5,row:7},idle_down:{length:5,row:8}},offsetX:-8,offsetY:-24},{id:"icebat",idleSpeed:100,width:32,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:5,row:1},idle_right:{length:5,row:2},atk_up:{length:5,row:3},walk_up:{length:5,row:4},idle_up:{length:5,row:5},atk_down:{length:5,row:6},walk_down:{length:5,row:7},idle_down:{length:5,row:8}},offsetX:-8,offsetY:-24},{id:"beachnpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"bearseonbiarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"beautifullife",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"beearmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"bee",width:20,height:19,animations:{death:{length:1,row:4},atk_right:{length:4,row:1},walk_right:{length:4,row:1},idle_right:{length:2,row:1},atk_up:{length:4,row:3},idle_up:{length:2,row:3},walk_up:{length:4,row:3},atk_down:{length:4,row:2},walk_down:{length:4,row:2},idle_down:{length:2,row:2}},offsetX:-8,offsetY:-8},{id:"beetlearmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"beetle",width:64,height:72,animations:{atk_right:{length:6,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:6,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:6,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8},"Group 5":{length:3,row:9}},offsetX:-24,offsetY:-54},{id:"blackpirateskeleton",width:32,height:32,animations:{atk_right:{length:3,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:4,row:4},idle_up:{length:3,row:5},atk_down:{length:3,row:6},walk_down:{length:4,row:7},idle_down:{length:3,row:8}},offsetX:-8,offsetY:-15},{id:"blackspiderarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"blackwizard",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-22},{id:"blazespider",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-22},{id:"bloodbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"bluebikinigirlnpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"bluecockroach",width:42,height:42,animations:{atk_right:{length:3,row:0},walk_right:{length:3,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:3,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:3,row:7},idle_down:{length:2,row:8}},offsetX:-14,offsetY:-21},{id:"bluedamboarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"bluepiratearmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"bluepreta",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:4,row:3},walk_up:{length:3,row:4},idle_up:{length:4,row:5},atk_down:{length:4,row:6},walk_down:{length:3,row:7},idle_down:{length:4,row:8}},offsetX:-5,offsetY:-13},{id:"bluescimitar",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"bluestoremannpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"bluesword",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-20},{id:"bluewingarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"bluewingarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-13},{id:"boss",width:64,height:72,animations:{atk_right:{length:6,row:0},walk_right:{length:3,row:1},idle_right:{length:4,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:4,row:5},atk_down:{length:6,row:6},walk_down:{length:4,row:7},idle_down:{length:4,row:8},"Group 5":{length:3,row:9}},offsetX:-24,offsetY:-36},{id:"boxingman",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"breaker",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"bridalmask",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"bronzemedal",width:12,height:12},{id:"brownmouse",width:26,height:26,animations:{atk_right:{length:3,row:0},walk_right:{length:3,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-5,offsetY:-8},{id:"bucklerbenef",width:32,height:32,animations:{atk_right:{length:10,row:0},walk_right:{length:10,row:0},idle_right:{length:10,row:0},atk_up:{length:10,row:0},walk_up:{length:10,row:0},idle_up:{length:10,row:0},atk_down:{length:10,row:0},walk_down:{length:10,row:0},idle_down:{length:10,row:0}},offsetX:-9,offsetY:-32},{id:"burgerarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-16},{id:"butcherknife",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"cactusaxe",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"goldaxe",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"carnelianaxe",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"cactus",width:48,height:48,animations:{atk_right:{length:4,row:0},walk_right:{length:3,row:1},idle_right:{length:1,row:2},atk_up:{length:4,row:3},walk_up:{length:4,row:4},idle_up:{length:1,row:5},atk_down:{length:4,row:6},walk_down:{length:4,row:7},idle_down:{length:1,row:8}},offsetX:-16,offsetY:-28},{id:"candybar",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"captainbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"catarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"cat",width:48,height:48,animations:{atk_right:{length:3,row:0},walk_right:{length:6,row:1},idle_right:{length:4,row:2},atk_up:{length:3,row:3},walk_up:{length:6,row:4},idle_up:{length:4,row:5},atk_down:{length:3,row:6},walk_down:{length:6,row:7},idle_down:{length:4,row:8}},offsetX:-16,offsetY:-25},{id:"cheoliarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"cheoliarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"chest",animations:{idle_down:{length:1,row:0}},offsetX:0,offsetY:0},{id:"christmasarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"clam",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:3,row:1},idle_right:{length:4,row:2},atk_up:{length:4,row:3},walk_up:{length:3,row:4},idle_up:{length:4,row:5},atk_down:{length:4,row:6},walk_down:{length:3,row:7},idle_down:{length:4,row:8}},offsetX:-5,offsetY:-13},{id:"pickle",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"clotharmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"ghost",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"cobra",width:28,height:28,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:4,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:4,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:6,row:8}},offsetX:-6,offsetY:-10},{id:"cockroachsuit",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"coder",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-7},{id:"cokearmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-16},{id:"combatuniform",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"comb",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"conferencecall",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"crab",width:32,height:32,idleSpeed:300,animations:{death:{length:8,row:0},atk_right:{length:7,row:1},walk_right:{length:6,row:2},idle_right:{length:4,row:3},atk_up:{length:8,row:4},idle_up:{length:4,row:5},walk_up:{length:6,row:6},atk_down:{length:8,row:7},walk_down:{length:6,row:8},idle_down:{length:7,row:9}},offsetX:-8,offsetY:-8},{id:"icecrab",width:32,height:32,idleSpeed:300,animations:{death:{length:8,row:0},atk_right:{length:7,row:1},walk_right:{length:6,row:2},idle_right:{length:4,row:3},atk_up:{length:8,row:4},idle_up:{length:4,row:5},walk_up:{length:6,row:6},atk_down:{length:8,row:7},walk_down:{length:6,row:8},idle_down:{length:7,row:9}},offsetX:-8,offsetY:-8},{id:"criticaleffect",width:48,height:48,animations:{atk_right:{length:10,row:0},walk_right:{length:10,row:0},idle_right:{length:10,row:0},atk_up:{length:10,row:0},walk_up:{length:10,row:0},idle_up:{length:10,row:0},atk_down:{length:10,row:0},walk_down:{length:10,row:0},idle_down:{length:10,row:0}},offsetX:-17,offsetY:-21},{id:"crystalarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"crystalarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-13},{id:"crystalbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"crystalscolpion",width:64,height:72,animations:{atk_right:{length:6,row:0},walk_right:{length:4,row:1},idle_right:{length:4,row:2},atk_up:{length:6,row:3},walk_up:{length:4,row:4},idle_up:{length:4,row:5},atk_down:{length:6,row:6},walk_down:{length:4,row:7},idle_down:{length:4,row:8}},offsetX:-24,offsetY:-32},{id:"cursedhahoemask",width:64,height:72,animations:{atk_right:{length:5,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8},"Group 5":{length:3,row:9}},offsetX:-21,offsetY:-49},{id:"cursedjangseung",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:6,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:6,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-30},{id:"damboarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"darkogre",width:48,height:48,animations:{atk_right:{length:3,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:5,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-25},{id:"darkregionillusion",width:42,height:42,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-14,offsetY:-21},{id:"darkregion",width:42,height:42,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-14,offsetY:-21},{id:"darkscolpion",width:64,height:72,animations:{atk_right:{length:6,row:0},walk_right:{length:4,row:1},idle_right:{length:4,row:2},atk_up:{length:6,row:3},walk_up:{length:4,row:4},idle_up:{length:4,row:5},atk_down:{length:6,row:6},walk_down:{length:4,row:7},idle_down:{length:4,row:8}},offsetX:-24,offsetY:-32},{id:"darkskeleton",width:48,height:48,animations:{atk_right:{length:3,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:4,row:4},idle_up:{length:3,row:5},atk_down:{length:3,row:6},walk_down:{length:4,row:7},idle_down:{length:3,row:8}},offsetX:-16,offsetY:-22},{id:"daywalker",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"deathbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"death",width:24,height:24,animations:{death:{length:6,row:0}},offsetX:-4,offsetY:-4},{id:"deathknight",width:42,height:42,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-13,offsetY:-17},{id:"desertnpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"desertscolpion",width:64,height:72,animations:{atk_right:{length:6,row:0},walk_right:{length:4,row:1},idle_right:{length:4,row:2},atk_up:{length:6,row:3},walk_up:{length:4,row:4},idle_up:{length:4,row:5},atk_down:{length:6,row:6},walk_down:{length:4,row:7},idle_down:{length:4,row:8}},offsetX:-24,offsetY:-32},{id:"devilkazyaarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"devilkazya",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"devilkazyasword",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"dinosaurarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"doctor",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"dovakinarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"dovakinarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"dragonarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"earthworm",width:48,height:48,animations:{atk_right:{length:6,row:0},walk_right:{length:4,row:1},idle_right:{length:3,row:2},atk_up:{length:6,row:3},walk_up:{length:4,row:4},idle_up:{length:3,row:5},atk_down:{length:6,row:6},walk_down:{length:4,row:7},idle_down:{length:3,row:8}},offsetX:-16,offsetY:-22},{id:"elfnpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"eliminator",width:42,height:42,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-14,offsetY:-21},{id:"enelarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"enel",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"eneltrident",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"evilarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"eye",width:40,height:48,animations:{atk_right:{length:6,row:0},walk_right:{length:4,row:1},idle_right:{length:14,row:2},atk_up:{length:4,row:3},walk_up:{length:4,row:4},idle_up:{length:14,row:5},atk_down:{length:8,row:6},walk_down:{length:4,row:7},idle_down:{length:14,row:8}},offsetX:-12,offsetY:-18},{id:"fairynpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"fallenarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-13},{id:"fallenarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-13},{id:"firebenef",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:5,row:0},idle_right:{length:5,row:0},atk_up:{length:5,row:0},walk_up:{length:5,row:0},idle_up:{length:5,row:0},atk_down:{length:5,row:0},walk_down:{length:5,row:0},idle_down:{length:5,row:0}},offsetX:-17,offsetY:-21},{id:"firefox",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:5,row:2},atk_up:{length:5,row:3},walk_up:{length:8,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"fireplay",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"fireshot",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"firespider",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-22},{id:"firesword",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"firstsonangelnpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"fisherman",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"flaredanceeffect",width:48,height:48,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:0},idle_right:{length:4,row:0},atk_up:{length:4,row:0},walk_up:{length:4,row:0},idle_up:{length:4,row:0},atk_down:{length:4,row:0},walk_down:{length:4,row:0},idle_down:{length:4,row:0}},offsetX:-17,offsetY:-21},{id:"flaredeathknight",width:42,height:42,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-13,offsetY:-17},{id:"fluffy",width:28,height:32,animations:{death:{length:1,row:8},atk_right:{length:4,row:7},walk_right:{length:6,row:3},idle_right:{length:1,row:3},atk_up:{length:4,row:6},idle_up:{length:1,row:2},walk_up:{length:6,row:2},atk_down:{length:4,row:4},walk_down:{length:6,row:0},idle_down:{length:1,row:0}},offsetX:-8,offsetY:-8},{id:"forestbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"forestdragon",width:64,height:72,animations:{atk_right:{length:7,row:0},walk_right:{length:4,row:1},idle_right:{length:4,row:2},atk_up:{length:7,row:3},walk_up:{length:4,row:4},idle_up:{length:4,row:5},atk_down:{length:7,row:6},walk_down:{length:4,row:7},idle_down:{length:4,row:8}},offsetX:-30,offsetY:-30},{id:"forestguardiansword",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"forestnpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"frankensteinarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"friedpotatoarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-16},{id:"frogarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"frog",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:3,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:3,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:3,row:8}},offsetX:-5,offsetY:-13},{id:"frostarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-13},{id:"frostqueen",width:48,height:48,animations:{atk_right:{length:6,row:0},walk_right:{length:4,row:1},idle_right:{length:4,row:2},atk_up:{length:6,row:3},walk_up:{length:4,row:4},idle_up:{length:4,row:5},atk_down:{length:6,row:6},walk_down:{length:4,row:7},idle_down:{length:4,row:8}},offsetX:-16,offsetY:-22},{id:"gayarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"gayarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"gaybow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"gbwingarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"gbwingarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"ghostrider",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"goblin",width:26,height:26,animations:{atk_right:{length:3,row:0},walk_right:{length:3,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-5,offsetY:-9},{id:"goldenarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"goldenarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"platinumarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"goldenbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"goldensword",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-20},{id:"platinumsword",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-20},{id:"goldgolem",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"goldmedal",width:12,height:12},{id:"pointer",width:32,height:32},{id:"golem",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-17},{id:"greenarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"greenarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"greenbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"greendamboarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"greenfish",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-5,offsetY:-13},{id:"greenlightbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"greenlightsaber",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"greenpirateskeleton",width:32,height:32,animations:{atk_right:{length:3,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:4,row:4},idle_up:{length:3,row:5},atk_down:{length:3,row:6},walk_down:{length:4,row:7},idle_down:{length:3,row:8}},offsetX:-8,offsetY:-15},{id:"greenwingarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"greenwingarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-13},{id:"guardarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"guardarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"guard",width:25,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-5,offsetY:-8},{id:"royalguard",width:25,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-5,offsetY:-8},{id:"halberd",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"halloweenjkarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"hammer",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"hand",width:14,height:14,animations:{idle_down:{length:1,row:0}}},{id:"healeffect",width:32,height:32,animations:{atk_down:{length:10,row:0}},offsetX:-8,offsetY:-10},{id:"hellspider",width:64,height:72,animations:{atk_right:{length:6,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:6,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:6,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8},"Group 5":{length:3,row:9}},offsetX:-24,offsetY:-33},{id:"hermitcrab",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:4,row:2},atk_up:{length:4,row:3},walk_up:{length:4,row:4},idle_up:{length:4,row:5},atk_down:{length:4,row:6},walk_down:{length:4,row:7},idle_down:{length:4,row:8}},offsetX:-8,offsetY:-10},{id:"hobgoblin",width:32,height:32,animations:{atk_right:{length:3,row:0},walk_right:{length:3,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-7,offsetY:-13},{id:"hongcheolarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-15},{id:"hongcheol",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-15},{id:"huniarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"hunterbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"iamverycoldnpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"iceelfnpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"icegolem",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"iceknight",width:42,height:42,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-13,offsetY:-17},{id:"icerose",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-13},{id:"icevulture",width:48,height:48,animations:{atk_right:{length:3,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:5,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-25},{id:"infectedguard",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-5,offsetY:-13},{id:"ironbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"ironknightarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"ironogre",width:48,height:48,animations:{atk_right:{length:3,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:5,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-25},{id:"item-adhererarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-logs",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-palmlogs",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-icelogs",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-icepalmlogs",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-pickle",width:8,height:16,animations:{idle:{length:12,row:0}},offsetX:0,offsetY:0},{id:"item-adhererrobe",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-adminarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-archerarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-archerschooluniform",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-axe",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-bamboospear",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-bastardsword",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-bearseonbiarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-beautifullife",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-beearmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-beetlearmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-blackpotion",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-blackspiderarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-bloodbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-bluedamboarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-bluepiratearmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-bluescimitar",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-bluesword",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-bluewingarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-bluewingarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-book",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-breaker",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-bridalmask",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-burgerarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-burger",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-butcherknife",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-cactusaxe",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-cake",width:24,height:24,animations:{idle:{length:3,row:0}},offsetX:-4,offsetY:-6},{id:"item-candybar",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-captainbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-catarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-cd",animations:{idle:{length:4,row:0}},offsetX:0,offsetY:0},{id:"item-cheoliarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-cheoliarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-christmasarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-clotharmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-cockroachsuit",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-cokearmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-combatuniform",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-comb",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-conferencecall",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-crystalarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-crystalarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-crystalbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-damboarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-daywalker",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-deathbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-devilkazyaarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-devilkazyasword",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-diamondring",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-dinosaurarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-dolring",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-dovakinarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-dovakinarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-dragonarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-emeraldring",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-enelarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-eneltrident",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-essentialrage",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-evilarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-fallenarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-fallenarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-fireplay",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-firepotion",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-fireshot",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-firesword",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-manaflask",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-bigflask",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-gold",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-mountseadragon",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-mountforestdragon",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-mountwhitetiger",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-forestbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"lightningguardian",width:64,height:72,animations:{atk_right:{length:6,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:6,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:6,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8},"Group 5":{length:3,row:9}},offsetX:-24,offsetY:-49},{id:"item-forestguardiansword",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-frankensteinarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-friedpotatoarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-frogarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-frostarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-gayarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-gayarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-gaybow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-gbwingarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-gbwingarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-ghostrider",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-goldenarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-goldenarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-goldenbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-goldensword",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-goldring",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-greenarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-greenarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-greenbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-greendamboarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-greenlightbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-greenlightsaber",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-greenpendant",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-greenwingarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-greenwingarmor",width:18,height:18,animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-guardarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-guardarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-halberd",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-halloweenjkarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-hammer",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-hongcheolarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-huniarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-hunterbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-icerose",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-ironbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-ironknightarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-justicebow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-justicehammer",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-leatherarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-leatherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-legolasarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-loveactring",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-machete",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-magicspear",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-mailarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-mailarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-marblependant",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-marinebow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-memme",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-mermaidbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-miniseadragonarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-morningstar",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-ninjaarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-paewoldo",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-paladinarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-pearlpendant",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-pearlring",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-pendant1",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-pinkcockroacharmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-pinksword",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-piratearcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-pirateking",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-plasticbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-platearcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-platearmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-plunger",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-portalarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-powerarmour",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-powersword",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-purplecloudkallege",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-rabbitarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-radisharmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-rainbowapro",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-rainbowsword",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-ratarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-ratarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-redarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-redarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-bluearmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-redbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-reddamboarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-redenelbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-redguardarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-redguardarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-redlightbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-redlightsaber",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-redmetalbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-redmetalsword",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-redsicklebow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-redsickle",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-redsword",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-icesword",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-redwingarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-redwingarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-regionarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-ring1",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-robocoparmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-rosebow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-rose",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-royalazalea",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-rubyring",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-rudolfarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-sapphirering",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-schooluniform",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-scimitar",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-seadragonarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-seahorsebow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-searage",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-shadowregionarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-sicklebow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-sickle",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-sidesword",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-skylightbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-skylightsaber",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-snowfoxarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-snowfoxarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-snowmanarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-snowpotion",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-spear",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-spiritring",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-sproutring",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-squeakyhammer",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-squidarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-sword1",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-sword2",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-taekwondo",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-tamagotchiring",width:22,height:16,animations:{idle:{length:5,row:0}},offsetX:0,offsetY:0},{id:"item-thiefarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-tigerarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-topazring",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-trident",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-typhoon",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-violetbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-watermelonbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-weastaff",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-whip",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-whitearcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-whitearmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-wizardrobe",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-wolfarcherarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-wolfarmor",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-woodenbow",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"jirisanmoonbear",width:48,height:48,animations:{atk_right:{length:3,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-26},{id:"justicebow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"justicehammer",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"kaonashi",width:48,height:48,animations:{atk_right:{length:4,row:0},walk_right:{length:3,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:4,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-22},{id:"king",width:32,height:32,animations:{idle_down:{length:2,row:0}},offsetX:-8,offsetY:-12},{id:"lavanpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"leatherarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"leatherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"legolasarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"windguardian",width:64,height:72,animations:{atk_right:{length:6,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:6,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:6,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8},"Group 5":{length:3,row:9}},offsetX:-24,offsetY:-49},{id:"livingarmor",width:32,height:32,animations:{atk_right:{length:3,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:4,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-5,offsetY:-13},{id:"loot",width:14,height:14,animations:{idle_down:{length:1,row:0}}},{id:"machete",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-20},{id:"magicspear",width:52,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-19,offsetY:-21},{id:"mailarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"mailarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"item-flask",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-shardt1",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-shardt2",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-shardt3",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-shardt4",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-shardt5",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-orange",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-watermelon",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-apple",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"item-banana",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"mantis",width:42,height:42,animations:{atk_right:{length:6,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:6,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:6,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-14,offsetY:-21},{id:"marinebow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"memme",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"mermaidbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"mermaid",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:4,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:4,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:4,row:8}},offsetX:-5,offsetY:-13},{id:"mermaidnpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"mimic",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:1,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:1,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:1,row:8}},offsetX:-8,offsetY:-11},{id:"minidragon",width:32,height:48,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:4,row:2},atk_up:{length:4,row:3},walk_up:{length:4,row:4},idle_up:{length:4,row:5},atk_down:{length:4,row:6},walk_down:{length:4,row:7},idle_down:{length:4,row:8}},offsetX:-8,offsetY:-22},{id:"miniemperor",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:4,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:4,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"miniiceknight",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:4,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:4,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-13},{id:"miniknight",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:4,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:4,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-13},{id:"miniseadragonarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"miniseadragon",width:32,height:48,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:4,row:2},atk_up:{length:4,row:3},walk_up:{length:4,row:4},idle_up:{length:4,row:5},atk_down:{length:4,row:6},walk_down:{length:4,row:7},idle_down:{length:4,row:8}},offsetX:-8,offsetY:-22},{id:"mojojojonpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"moleking",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:4,row:8}},offsetX:-5,offsetY:-13},{id:"momangelnpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"morningstar",width:38,height:38,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-11,offsetY:-15},{id:"nightmareregion",width:42,height:42,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-14,offsetY:-21},{id:"ninjaarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-13},{id:"nyan",width:49,height:24,animations:{idle_down:{length:6,row:0}},offsetX:-22,offsetY:-6},{id:"octocat",width:32,height:32,animations:{idle_down:{length:4,row:0}},offsetX:-8,offsetY:-12},{id:"octopus",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"oddeyecat",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"ogre",width:48,height:48,animations:{atk_right:{length:3,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:5,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-24},{id:"ogrelord",width:48,height:48,animations:{atk_right:{length:3,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:5,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-25},{id:"oldogre",width:48,height:48,animations:{atk_right:{length:3,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:5,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-25},{id:"orc",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-5,offsetY:-13},{id:"paewoldo",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"pain",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"paladinarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-13},{id:"penguin",width:48,height:48,animations:{atk_right:{length:3,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:5,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-25},{id:"pierrot",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-5,offsetY:-13},{id:"pinkcockroacharmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"pinkelf",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:4,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:4,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"pinksword",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"piratearcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"piratecaptain",width:64,height:64,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:4,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:4,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:4,row:8},"Group 5":{length:3,row:9}},offsetX:-24,offsetY:-36},{id:"pirategirlnpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"pirateking",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"pirateskeleton",width:32,height:32,animations:{atk_right:{length:3,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:4,row:4},idle_up:{length:3,row:5},atk_down:{length:3,row:6},walk_down:{length:4,row:7},idle_down:{length:3,row:8}},offsetX:-5,offsetY:-13},{id:"plasticbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"platearcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"platearmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"plunger",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"poisonspider",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-22},{id:"portalarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"powerarmour",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"powersword",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-20},{id:"preta",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:4,row:3},walk_up:{length:3,row:4},idle_up:{length:4,row:5},atk_down:{length:4,row:6},walk_down:{length:3,row:7},idle_down:{length:4,row:8}},offsetX:-5,offsetY:-13},{id:"priest",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"provocationeffect",width:32,height:64,animations:{atk_right:{length:10,row:0},walk_right:{length:10,row:0},idle_right:{length:10,row:0},atk_up:{length:10,row:0},walk_up:{length:10,row:0},idle_up:{length:10,row:0},atk_down:{length:10,row:0},walk_down:{length:10,row:0},idle_down:{length:10,row:0}},offsetX:-8,offsetY:-42},{id:"purplecloudkallege",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"purplepreta",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:4,row:3},walk_up:{length:3,row:4},idle_up:{length:4,row:5},atk_down:{length:4,row:6},walk_down:{length:3,row:7},idle_down:{length:4,row:8}},offsetX:-5,offsetY:-13},{id:"queenant",width:64,height:72,animations:{atk_right:{length:5,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8},"Group 5":{length:3,row:9}},offsetX:-24,offsetY:-54},{id:"queenspider",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:4,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:4,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-5,offsetY:-13},{id:"rabbitarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"radisharmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-17},{id:"rainbowapro",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"rainbowsword",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"ratarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"ratarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"rat",width:48,height:48,idleSpeed:250,animations:{death:{length:4,row:0},atk_right:{length:6,row:1},walk_right:{length:3,row:2},idle_right:{length:2,row:3},atk_up:{length:4,row:4},walk_up:{length:4,row:5},idle_up:{length:4,row:6},atk_down:{length:4,row:7},walk_down:{length:4,row:8},idle_down:{length:4,row:9}}},{id:"icerat",width:48,height:48,idleSpeed:200,animations:{death:{length:4,row:0},atk_right:{length:6,row:1},walk_right:{length:3,row:2},idle_right:{length:2,row:3},atk_up:{length:4,row:4},walk_up:{length:4,row:5},idle_up:{length:4,row:6},atk_down:{length:4,row:7},walk_down:{length:4,row:8},idle_down:{length:4,row:9}}},{id:"redarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"redarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"bluearmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"redbikinigirlnpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"redbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"redcockroach",width:42,height:42,animations:{atk_right:{length:3,row:0},walk_right:{length:3,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:3,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:3,row:7},idle_down:{length:2,row:8}},offsetX:-14,offsetY:-21},{id:"reddamboarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"redelf",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:4,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:4,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"redenelbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"redfish",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-5,offsetY:-13},{id:"redguardarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"redguardarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"redguard",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-13},{id:"redlightbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"redlightsaber",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"redmetalbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"redmetalsword",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"redmouse",width:26,height:26,animations:{atk_right:{length:3,row:0},walk_right:{length:3,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-5,offsetY:-8},{id:"redpirateskeleton",width:48,height:48,animations:{atk_right:{length:3,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:4,row:4},idle_up:{length:3,row:5},atk_down:{length:3,row:6},walk_down:{length:4,row:7},idle_down:{length:3,row:8}},offsetX:-16,offsetY:-23},{id:"redsicklebow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"redsickle",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"redstoremannpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"redsword",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-20},{id:"icesword",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-20},{id:"redwingarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"redwingarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"regionarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"regionhenchman",width:64,height:72,animations:{atk_right:{length:6,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:6,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:6,row:6},walk_down:{length:5,row:7},idle_down:{length:2,row:8}},offsetX:-24,offsetY:-39},{id:"rhaphidophoridae",width:48,height:48,animations:{atk_right:{length:6,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:6,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:6,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-22},{id:"rick",width:32,height:32,animations:{idle_down:{length:4,row:0}},offsetX:-8,offsetY:-12},{id:"robocoparmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"rosebow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"rose",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-13},{id:"rudolfarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-16},{id:"rudolf",width:42,height:42,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-14,offsetY:-21},{id:"santaelf",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"santa",width:64,height:72,animations:{atk_right:{length:3,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-24,offsetY:-55},{id:"schooluniform",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"scientist",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"scimitar",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"seadragonarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"seadragon",width:64,height:72,animations:{atk_right:{length:6,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:6,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:6,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8},"Group 5":{length:3,row:9}},offsetX:-24,offsetY:-39},{id:"seahorsebow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"searage",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"secondsonangelnpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"shadow16",width:16,height:16},{id:"shadowregionarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"shadowregion",width:42,height:42,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-14,offsetY:-21},{id:"shepherdboy",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"shieldbenef",width:32,height:30,animations:{atk_right:{length:8,row:0},walk_right:{length:8,row:0},idle_right:{length:8,row:0},atk_up:{length:8,row:0},walk_up:{length:8,row:0},idle_up:{length:8,row:0},atk_down:{length:8,row:0},walk_down:{length:8,row:0},idle_down:{length:8,row:0}},offsetX:-6,offsetY:-10},{id:"sicklebow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"sickle",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"sidesword",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-25},{id:"silvermedal",width:12,height:12},{id:"skeleton2",width:48,height:48,animations:{atk_right:{length:3,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:4,row:7},idle_down:{length:3,row:8}},offsetX:-16,offsetY:-20},{id:"skeleton",width:48,height:48,animations:{atk_right:{length:3,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:4,row:4},idle_up:{length:3,row:5},atk_down:{length:3,row:6},walk_down:{length:4,row:7},idle_down:{length:3,row:8}},offsetX:-16,offsetY:-20},{id:"skeletonking",width:64,height:72,animations:{atk_right:{length:6,row:0},walk_right:{length:3,row:1},idle_right:{length:4,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:4,row:5},atk_down:{length:6,row:6},walk_down:{length:4,row:7},idle_down:{length:4,row:8},"Group 5":{length:3,row:9}},offsetX:-24,offsetY:-36},{id:"skydinosaur",width:64,height:72,animations:{atk_right:{length:6,row:0},walk_right:{length:5,row:1},idle_right:{length:2,row:2},atk_up:{length:6,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:6,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8},"Group 5":{length:3,row:9}},offsetX:-24,offsetY:-49},{id:"skyelf",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:4,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:4,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"skylightbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"skylightsaber",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"slime",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-5,offsetY:-13},{id:"smalldevil",width:42,height:42,animations:{atk_right:{length:4,row:0},walk_right:{length:2,row:1},idle_right:{length:2,row:2},atk_up:{length:4,row:3},walk_up:{length:2,row:4},idle_up:{length:2,row:5},atk_down:{length:4,row:6},walk_down:{length:2,row:7},idle_down:{length:2,row:8}},offsetX:-14,offsetY:-21},{id:"snek",width:28,height:28,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:4,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:4,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:6,row:8}},offsetX:-6,offsetY:-10},{id:"snowelf",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:4,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:4,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"snowfoxarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"snowfoxarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"snowlady",width:48,height:48,animations:{atk_right:{length:4,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:4,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:4,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-25},{id:"snowmanarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"snowman",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:3,row:2},atk_up:{length:4,row:3},walk_up:{length:4,row:4},idle_up:{length:3,row:5},atk_down:{length:4,row:6},walk_down:{length:4,row:7},idle_down:{length:3,row:8}},offsetX:-5,offsetY:-13},{id:"snowrabbit",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-5,offsetY:-13},{id:"snowshepherdboy",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"snowwolf",width:42,height:42,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-14,offsetY:-21},{id:"soldierant",width:48,height:48,animations:{atk_right:{length:4,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:4,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:4,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-27},{id:"soldier",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"sorcerer",width:26,height:26,animations:{idle_down:{length:6,row:0}},offsetX:-5,offsetY:-9},{id:"soybeanbug",width:48,height:48,animations:{atk_right:{length:6,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:6,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:6,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-30},{id:"sparks",animations:{idle:{length:6,row:0}},offsetX:0,offsetY:0},{id:"spear",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"spectre",width:34,height:34,animations:{atk_right:{length:8,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:6,row:3},walk_up:{length:8,row:4},idle_up:{length:8,row:5},atk_down:{length:6,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-9,offsetY:-13},{id:"spider",width:35,height:35,animations:{death:{length:1,row:8},atk_right:{length:2,row:7},walk_right:{length:5,row:3},idle_right:{length:1,row:3},atk_up:{length:2,row:6},idle_up:{length:1,row:2},walk_up:{length:5,row:2},atk_down:{length:2,row:4},walk_down:{length:5,row:0},idle_down:{length:1,row:0}},offsetX:-8,offsetY:-8},{id:"sponge",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"squeakyhammer",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"squidarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"squid",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:3,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-30},{id:"stuneffect",width:48,height:48,animations:{atk_right:{length:6,row:0},walk_right:{length:6,row:0},idle_right:{length:6,row:0},atk_up:{length:6,row:0},walk_up:{length:6,row:0},idle_up:{length:6,row:0},atk_down:{length:6,row:0},walk_down:{length:6,row:0},idle_down:{length:6,row:0}},offsetX:-15,offsetY:-38},{id:"suicideghost",width:48,height:48,animations:{atk_right:{length:6,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:6,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:6,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-30},{id:"supercateffect",width:32,height:64,animations:{atk_right:{length:10,row:0},walk_right:{length:10,row:0},idle_right:{length:10,row:0},atk_up:{length:10,row:0},walk_up:{length:10,row:0},idle_up:{length:10,row:0},atk_down:{length:10,row:0},walk_down:{length:10,row:0},idle_down:{length:10,row:0}},offsetX:-8,offsetY:-42},{id:"superiorangelnpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"sword1",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"sword2",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-20},{id:"sword",width:14,height:14,animations:{idle_down:{length:1,row:0}}},{id:"taekwondo",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"talk",width:14,height:14,animations:{idle_down:{length:1,row:0}}},{id:"axe_cursor",width:14,height:14,animations:{idle_down:{length:1,row:0}}},{id:"target",animations:{move:{length:4,row:0},atk:{length:4,row:1}}},{id:"thiefarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-13},{id:"tigerarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"trident",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"typhoon",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"vampire",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"vendingmachine",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"villagegirl",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"villager",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"violetbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"vulture",width:48,height:48,animations:{atk_right:{length:3,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:5,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-25},{id:"watermelonbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"weastaff",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"whip",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"whitearcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"whitearmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"whitebear",width:48,height:48,animations:{atk_right:{length:3,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:6,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:6,row:7},idle_down:{length:2,row:8}},offsetX:-16,offsetY:-22},{id:"whitemouse",width:26,height:26,animations:{atk_right:{length:3,row:0},walk_right:{length:3,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-5,offsetY:-8},{id:"whitetiger",width:64,height:72,animations:{atk_right:{length:5,row:0},walk_right:{length:6,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:6,row:4},idle_up:{length:4,row:5},atk_down:{length:5,row:6},walk_down:{length:6,row:7},idle_down:{length:4,row:8},"Group 5":{length:3,row:9}},offsetX:-24,offsetY:-54},{id:"wizard",width:26,height:26,animations:{death:{length:3,row:0},atk_right:{length:4,row:1},atk_up:{length:4,row:2},atk_down:{length:4,row:3},walk_right:{length:4,row:4},walk_up:{length:4,row:5},walk_down:{length:4,row:6},idle_right:{length:6,row:7},idle_up:{length:6,row:8},idle_down:{length:6,row:9}},offsetX:-5,offsetY:-9},{id:"wizardrobe",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"wolfarcherarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"wolfarmor",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-12},{id:"wolf",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:3,row:2},atk_up:{length:4,row:3},walk_up:{length:4,row:4},idle_up:{length:3,row:5},atk_down:{length:4,row:6},walk_down:{length:4,row:7},idle_down:{length:3,row:8}},offsetX:-8,offsetY:-13},{id:"woodenbow",width:48,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-17,offsetY:-21},{id:"yellowbat",width:32,height:48,animations:{atk_right:{length:5,row:0},walk_right:{length:5,row:1},idle_right:{length:5,row:2},atk_up:{length:5,row:3},walk_up:{length:5,row:4},idle_up:{length:5,row:5},atk_down:{length:5,row:6},walk_down:{length:5,row:7},idle_down:{length:5,row:8}},offsetX:-8,offsetY:-24},{id:"yellowfish",width:32,height:32,animations:{atk_right:{length:5,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-5,offsetY:-13},{id:"yellowmouse",width:26,height:26,animations:{atk_right:{length:3,row:0},walk_right:{length:3,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-5,offsetY:-8},{id:"yellowpreta",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:4,row:3},walk_up:{length:3,row:4},idle_up:{length:4,row:5},atk_down:{length:4,row:6},walk_down:{length:3,row:7},idle_down:{length:4,row:8}},offsetX:-5,offsetY:-13},{id:"zombiegf",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"zombie",width:32,height:32,animations:{atk_right:{length:4,row:0},walk_right:{length:4,row:1},idle_right:{length:2,row:2},atk_up:{length:5,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:5,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-8,offsetY:-13},{id:"redbikinigirlnpc",width:24,height:24,animations:{idle_down:{length:2,row:0}},offsetX:-4,offsetY:-8},{id:"item-armorbinding",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-armorcommon",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-armorpatches",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-armorrare",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-armoruncommon",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-branch",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-cloth",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-element",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-leaf",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-mineral",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-rock",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-seed",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-weaponblade",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-weaponcommon",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-weaponhilt",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-weaponrare",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-weaponuncommon",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-bowcommon",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-bowlimb",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-bowrare",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-bowstring",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-bowuncommon",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"item-wood",animations:{idle:{length:1,row:0}},offsetX:0,offsetY:0},{id:"projectile-fireball",width:48,height:48,animations:{travel:{length:8,row:0}},offsetX:-24,offsetY:-24,offsetAngle:180},{id:"projectile-iceball",width:48,height:48,animations:{travel:{length:8,row:0}},offsetX:-24,offsetY:-24,offsetAngle:180},{id:"projectile-boulder",width:32,height:32,animations:{travel:{length:8,row:0}},offsetX:-16,offsetY:-16,offsetAngle:-45},{id:"projectile-pinearrow",width:24,height:24,animations:{travel:{length:1,row:0}},offsetX:-12,offsetY:-12,offsetAngle:180},{id:"projectile-none",width:64,height:64,animations:{travel:{length:1,row:0}},offsetX:-32,offsetY:-32,offsetAngle:0},{id:"projectile-tornado",width:48,height:64,animations:{travel:{length:8,row:0}},offsetX:-29,offsetY:-37,offsetAngle:0},{id:"projectile-terror",width:64,height:64,animations:{travel:{length:8,row:0}},offsetX:-32,offsetY:-32,offsetAngle:180},{id:"explosion-fireball",width:48,height:48,animations:{explosion:{length:8,row:0}},offsetX:-17,offsetY:-16},{id:"explosion-heal",width:48,height:48,animations:{explosion:{length:8,row:0}},offsetX:-16,offsetY:-16},{id:"explosion-iceball",width:48,height:48,animations:{explosion:{length:9,row:0}},offsetX:-24,offsetY:-24},{id:"explosion-boulder",width:32,height:32,animations:{explosion:{length:7,row:0}},offsetX:-16,offsetY:-16},{id:"spell",animations:{idle_down:{length:1,row:0}}},{id:"bow",animations:{idle_down:{length:1,row:0}}},{id:"explosion-terror",width:64,height:64,animations:{explosion:{length:8,row:0}},offsetX:-24,offsetY:-32},{id:"explosion-lavaball",width:48,height:48,animations:{explosion:{length:8,row:0}},offsetX:-24,offsetY:-40},{id:"icegoblin",width:32,height:32,animations:{atk_right:{length:3,row:0},walk_right:{length:3,row:1},idle_right:{length:2,row:2},atk_up:{length:3,row:3},walk_up:{length:4,row:4},idle_up:{length:2,row:5},atk_down:{length:3,row:6},walk_down:{length:4,row:7},idle_down:{length:2,row:8}},offsetX:-7,offsetY:-13}],be=function(){function t(){f(this,t),this.sprites={},this.sparksAnimation=new Rt("idle_down",6,0,16,16),this.sparksAnimation.setSpeed(120),this.load()}return w(t,[{key:"load",value:function(){var t,e=m(ye);try{for(e.s();!(t=e.n()).done;){var n=t.value,i=new _e(n);i.loadSprite(),this.sprites[n.id]=i}}catch(ei){e.e(ei)}finally{e.f()}a.debug("Finished loading sprite data...")}},{key:"get",value:function(t){return this.sprites[t]}},{key:"getDeath",value:function(){return this.get("death")}}]),t}(),xe=function(){function t(e,n,i){f(this,t),this.id=e,this.element=n,this.type=i,this.x=-1,this.y=-1,this.visible=!0,this.load()}return w(t,[{key:"load",value:function(){var t=this;this.blinkInterval=window.setInterval((function(){t.visible?t.hide():t.show(),t.visible=!t.visible}),600)}},{key:"setPosition",value:function(t,e){this.x=t,this.y=e}},{key:"destroy",value:function(){clearInterval(this.blinkInterval),this.type===H.Button?this.hide():this.element.remove()}},{key:"show",value:function(){this.type===H.Button?this.element.addClass("active"):this.element.show()}},{key:"hide",value:function(){this.type===H.Button?this.element.removeClass("active"):this.element.hide()}}]),t}(),Ce=function(){function t(e){f(this,t),this.game=e,this.pointers={},this.container=Yt("#bubbles")}return w(t,[{key:"create",value:function(t,e,n){var i=this.pointers,r=this.container;if(!(t in i))if(e===H.Button)i[t]=new xe(t,Yt("#".concat(n)),e);else{var o=Yt('<div id="'.concat(t,'" class="pointer"></div>'));this.setSize(o),r.append(o),i[t]=new xe(t,o,e)}}},{key:"resize",value:function(){var t=this;It.each(this.pointers,(function(e){var n=e.type,i=e.x,r=e.y,o=e.element;if(n===H.Relative){var a=t.getZoom();o.css({left:"".concat(i*a-0,"px"),top:"".concat(r*a-0,"px")})}}))}},{key:"setSize",value:function(t){t.css({top:"30px",width:"64px",height:"64px",margin:"inherit",marginTop:"-18px",background:'url("'.concat("/img/pointer.png",'") no-repeat')})}},{key:"clean",value:function(){It.each(this.pointers,(function(t){return t.destroy()})),this.pointers={}}},{key:"destroy",value:function(t){delete this.pointers[t.id],t.destroy()}},{key:"set",value:function(t,e,n){this.updateCamera();var i=this.camera,r=this.game;if(i){var o=t.element,a=r.renderer,l=a.canvasWidth,s=a.canvasHeight,h=(e-i.x)*this.getZoom(),u=parseInt(o.css("width")+24)/2-24,d=(n-i.y)*this.getZoom()-48,c=h/l,g=d/s;c>=1.5?o.css({left:"",right:0,top:"50%",bottom:"",transform:"rotate(-90deg)"}):g>=1.5?o.css({left:"50%",right:"",top:"",bottom:0,transform:""}):c<=0?o.css({left:0,right:"",top:"50%",bottom:"",transform:"rotate(90deg)"}):g<=0?o.css({left:"",right:"50%",top:0,bottom:"",transform:"rotate(180deg)"}):o.css({left:"".concat(h-u,"px"),right:"",top:"".concat(d,"px"),bottom:"",transform:""})}}},{key:"setToEntity",value:function(t){var e=this.get(t.instance);e&&this.set(e,t.x,t.y)}},{key:"setToPosition",value:function(t,e,n){var i=this.get(t);i&&(i.setPosition(e,n),this.set(i,e,n))}},{key:"setRelative",value:function(t,e,n){var i=this.get(t);if(i){var r=this.getZoom();i.setPosition(e,n),i.element.css({left:"".concat(e*r-0,"px"),top:"".concat(n*r-0,"px")})}}},{key:"update",value:function(){var t=this;It.each(this.pointers,(function(e){switch(e.type){case H.Entity:var n=t.game.entities.get(e.id);n?t.setToEntity(n):t.destroy(e);break;case H.Location:-1!==e.x&&-1!==e.y&&t.set(e,e.x,e.y)}}))}},{key:"get",value:function(t){var e=this.pointers;return t in e?e[t]:null}},{key:"updateCamera",value:function(){this.camera=this.game.camera}},{key:"getZoom",value:function(){return this.game.camera.zoomFactor}}]),t}(),Se=function(){function t(){f(this,t)}return w(t,[{key:"reset",value:function(){this.direction=null}},{key:"setUp",value:function(){this.direction=$.Up}},{key:"setDown",value:function(){this.direction=$.Down}},{key:"setRight",value:function(){this.direction=$.Right}},{key:"setLeft",value:function(){this.direction=$.Left}},{key:"getDirection",value:function(){return this.direction}}]),t}(),Ie=function(){function t(e,n){f(this,t),this.game=e,this.player=n,this.map=this.game.map,this.camera=this.game.camera,this.input=this.game.input,this.entities=this.game.entities,this.socket=this.game.socket,this.renderer=this.game.renderer,this.load()}return w(t,[{key:"load",value:function(){var t=this,e=this.player,n=this.game,i=this.map,r=this.camera,o=this.input,a=this.entities,l=this.socket,s=this.renderer;e.onRequestPath((function(t,r){if(e.dead||e.frozen)return null;var o=i.isObject(t,r);if(e.gridX===t&&e.gridY===r)return[];var a=[];return i.isColliding(t,r)||o||l.send(Y.Movement,{opcode:L.Request,requestX:t,requestY:r,playerX:e.gridX,playerY:e.gridY}),o&&a.push({hasPath:function(){return!1},gridX:t,gridY:r}),n.findPath(e,t,r,a)})),e.onStartPathing((function(n){if(o){var i=n.length-1;e.moving=!0;var r=h(n[i],2);o.selectedX=r[0],o.selectedY=r[1],o.selectedCellVisible=!0,l.send(Y.Movement,{opcode:L.Started,requestX:o.selectedX,requestY:o.selectedY,playerX:e.gridX,playerY:e.gridY,movementSpeed:e.movementSpeed,targetInstance:t.getTargetId()})}})),e.onStopPathing((function(i,s){if(o){a.registerPosition(e),o.selectedCellVisible=!1,r.clip();var h="",u=n.getEntityAt(i,s);u&&(h=u.instance),l.send(Y.Movement,{opcode:L.Stop,playerX:i,playerY:s,targetInstance:h,hasTarget:!!e.target,orientation:e.orientation}),l.send(Y.Target,[t.getTargetType(),e.target?e.target.instance:""]),e.target&&(e.lookAt(e.target),e.target.isObject()&&e.removeTarget()),o.setPassiveTarget(),n.storage.setOrientation(e.orientation),e.hasKeyboardMovement()||n.renderer.resetAnimatedTiles(),e.moving=!1}})),e.onBeforeStep((function(){return a.unregisterPosition(e)})),e.onStep((function(){e.hasNextStep()&&a.registerPosition(e),(!r.isCentered()||r.lockX||r.lockY)&&t.checkBounds(),l.send(Y.Movement,{opcode:L.Step,playerX:e.gridX,playerY:e.gridY}),t.isAttackable()&&e.target&&(e.isRanged()?e.getDistance(e.target)<7&&e.stop(!0):o.setPosition(e.target.gridX,e.target.gridY))})),e.onSecondStep((function(){return s.updateAnimatedTiles()})),e.onMove((function(){r.isCentered()&&r.centreOn(e)}))}},{key:"isAttackable",value:function(){var t=this.player.target;return!!t&&(t.isMob()||t.isPlayer()&&t.pvp)}},{key:"checkBounds",value:function(){var t=this.player,e=this.camera,n=this.game,i=this.socket,r=this.renderer,o=n.zoning;if(o){var a=t.gridX-e.gridX,l=t.gridY-e.gridY;if(0===a?o.setLeft():0===l?o.setUp():a===e.gridWidth-2?o.setRight():l===e.gridHeight-2&&o.setDown(),null!==o.direction){var s=o.getDirection();e.zone(s),i.send(Y.Movement,{opcode:L.Zone,direction:s}),r.updateAnimatedTiles(),o.reset()}}}},{key:"getTargetId",value:function(){var t=this.player.target;return t?t.instance:null}},{key:"getTargetType",value:function(){var t=this.player.target;return t?this.isAttackable()?P.Attack:t.isNPC()||t.isChest()?P.Talk:t.isObject()?P.Object:P.None:P.None}}]),t}(),Ee=704,Xe=512,Ye=16,Ae=[5,18,19,20,132,133,134,135,136,137,138,139,185,186,187,193,196,197,198,199,200,201,202,203,321,646,647,648,653,654,655,656,709,710,711,712,713,717,718,719,720,739,740,772,773,774,775,776,777,778,781,782,783,784,802,803,804,805,845,848,865,866,867,868,869,870,897,898,928,929,930,931,932,933,934,935,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,961,962,1036,1037,1100,1101,1109,1110,1111,1173,1174,1175,1217,1218,1219,1281,1282,1283,1434,1435,1437,1438,1439,1446,1447,1448,1510,1511,1512,1537,1538,1665,1793,1901,1914,1915,1916,1921,1922,1923,1938,1939,1941,1942,1943,1985,1986,1987,2001,2002,2003,2004,2005,2006,2007,2021,2022,2023,2065,2066,2067,2068,2069,2070,2071,2085,2086,2087,2089,2133,2158,2160,2217,2221,2222,2223,2224,2225,2241,2242,2243,2244,2285,2286,2287,2288,2289,2290,2291,2305,2306,2307,2308,2349,2350,2351,2352,2353,2354,2355,2369,2370,2371,2372,2385,2386,2387,2389,2390,2391,2429,2430,2431,2432,2453,2454,2455,2493,2494,2495,2496,2497,2498,2499,2500,2511,2549,2550,2551,2552,2557,2558,2559,2560,2561,2562,2564,2574,2575,2576,2613,2614,2615,2616,2638,2639,2640,2671,2673,2677,2678,2679,2680,2709,2710,2711,2712,2734,2735,2736,2737,2738,2741,2744,2773,2774,2775,2776,2793,2794,2796,2797,2798,2799,2800,2801,2802,2821,2822,2823,2837,2838,2839,2840,2857,2858,2932,2933,2979,2996,2997,3042,3043,3044,3106,3107,3108,3113,3114,3115,3177,3178,3179,3289,3290,3291,3433,3434,3561,3562,3996,5199,5200,5262,5263,5264,5265,5271,5272,5275,5276,5325,5326,5327,5328,5329,5330,5335,5336,5388,5389,5390,5391,5392,5393,5394,5395,5569,5570,5571,5633,5634,5635,5697,5698,5699,5906,5907,5908,5970,5971,5972,6401,6402,6403,6465,6466,6467,6481,6482,6483,6529,6530,6531,6593,7110,7111,7112,7126,7127,7128,7129,7134,7135,7136,7137,7138,7139,7140,7141,7144,7173,7174,7175,7176,7190,7191,7192,7193,7198,7199,7200,7201,7202,7203,7204,7205,7237,7238,7239,7240,7241,7242,7243,7244,7369,7370,7371,7372,7433,7434,7435,7436,7497,7498,7499,7500,9613,9614,9615,9616,9617,9618,9619,9677,9678,9679,9680,9681,9682,9683,13819,13884,13948,14005,14012,14070,14076,14134,14140,14198,14204,14268,14326,14332,14390,14396,14454,16451,16452,16513,16514,16515,16516,16517,16518,16577,16578,16579,16580,16581,16582,16641,16642,16643,16644,16645,16705,16706,16707,16708,16709,17039,17040,17094,17111,17112,17224,17225,17226,17227,17228,17229,17230,17231,17288,17289,17290,17291,17292,17293,17294,17295,17494,17495,17557,17558,17559,17560,17561,17562,17563,17564,17621,17622,17623,17624,17625,17626,17627,17628,17630,17631,17632,17634,17635,17636,17637,17665,17666,17667,17668,17669,17670,17671,17685,17686,17687,17688,17689,17690,17691,17692,17693,17694,17695,17696,17697,17698,17699,17700,17701,17702,17729,17730,17731,17732,17733,17734,17735,17757,17758,17759,17760,17761,17762,17763,17764,17765,17766,17793,17794,17795,17796,17797,17798,17799,17821,17825,18017,18018,18019,18020,18081,18082,18083,18084,18145,18146,18147,18148,18209,18212,18246,18247,18248,18305,18306,18307,18369,18370,18371,18563,18564,18565,18566,18567,18568,18569,18627,18628,18629,18630,18631,18632,18633,18634,18753,18754,18762,18763,18765,18766,18915,18916,18917,19021,19022,19023,19024,19025,19026,19027,19028,19085,19086,19087,19088,19089,19090,19091,19092,19101,19102,19103,19104,19105,19165,19166,19167,19168,19169,19213,19216,19217,19220,19405,19406,19407,20743,20744,20745,20806,20807,20808,20809,20810,20869,20870,20871,20872,20873,20874,20875,20933,20934,20935,20936,20937,20938,20939],Te={0:0,1:4096,2:8192,3:12288,4:16384,5:20740},Le={1:[{duration:150,tileId:0},{duration:150,tileId:1},{duration:150,tileId:2}],37:[{duration:200,tileId:36},{duration:200,tileId:37},{duration:200,tileId:38},{duration:200,tileId:39}],95:[{duration:200,tileId:94},{duration:200,tileId:95},{duration:200,tileId:96},{duration:200,tileId:97},{duration:200,tileId:98},{duration:200,tileId:99}],101:[{duration:200,tileId:100},{duration:200,tileId:101},{duration:200,tileId:102},{duration:200,tileId:103}],159:[{duration:200,tileId:158},{duration:200,tileId:159},{duration:200,tileId:160},{duration:200,tileId:161},{duration:200,tileId:162},{duration:200,tileId:163}],223:[{duration:200,tileId:222},{duration:200,tileId:223},{duration:200,tileId:224},{duration:200,tileId:225}],287:[{duration:200,tileId:286},{duration:200,tileId:287},{duration:200,tileId:288},{duration:200,tileId:289}],351:[{duration:200,tileId:350},{duration:200,tileId:351},{duration:200,tileId:352},{duration:200,tileId:353}],570:[{duration:150,tileId:569},{duration:150,tileId:570},{duration:150,tileId:571},{duration:150,tileId:572},{duration:150,tileId:573},{duration:150,tileId:574}],597:[{duration:200,tileId:596},{duration:200,tileId:597},{duration:200,tileId:598},{duration:200,tileId:599},{duration:200,tileId:600},{duration:200,tileId:601},{duration:200,tileId:602},{duration:200,tileId:603},{duration:200,tileId:604},{duration:200,tileId:605},{duration:200,tileId:606},{duration:200,tileId:607},{duration:200,tileId:608},{duration:200,tileId:609},{duration:200,tileId:610},{duration:200,tileId:611},{duration:200,tileId:612}],634:[{duration:150,tileId:633},{duration:150,tileId:634},{duration:150,tileId:635},{duration:150,tileId:636},{duration:150,tileId:637},{duration:150,tileId:638}],661:[{duration:200,tileId:660},{duration:200,tileId:661},{duration:200,tileId:662},{duration:200,tileId:663},{duration:200,tileId:664},{duration:200,tileId:665},{duration:200,tileId:666},{duration:200,tileId:667},{duration:200,tileId:668},{duration:200,tileId:669},{duration:200,tileId:670},{duration:200,tileId:671},{duration:200,tileId:672},{duration:200,tileId:673},{duration:200,tileId:674}],762:[{duration:150,tileId:761},{duration:150,tileId:762},{duration:150,tileId:763},{duration:150,tileId:764},{duration:150,tileId:765},{duration:150,tileId:766}],769:[{duration:150,tileId:768},{duration:150,tileId:769},{duration:150,tileId:770}],826:[{duration:150,tileId:825},{duration:150,tileId:826},{duration:150,tileId:827},{duration:150,tileId:828},{duration:150,tileId:829},{duration:150,tileId:830}],917:[{duration:200,tileId:916},{duration:200,tileId:917},{duration:200,tileId:918}],954:[{duration:150,tileId:953},{duration:150,tileId:954},{duration:150,tileId:955},{duration:150,tileId:956},{duration:150,tileId:957},{duration:150,tileId:958}],981:[{duration:200,tileId:980},{duration:200,tileId:981},{duration:200,tileId:982}],1018:[{duration:150,tileId:1017},{duration:150,tileId:1018},{duration:150,tileId:1019},{duration:150,tileId:1020},{duration:150,tileId:1021},{duration:150,tileId:1022}],1178:[{duration:200,tileId:1177},{duration:200,tileId:1178},{duration:200,tileId:1179},{duration:200,tileId:1180},{duration:200,tileId:1181},{duration:200,tileId:1182}],1210:[{duration:150,tileId:1209},{duration:150,tileId:1210},{duration:150,tileId:1211},{duration:150,tileId:1212},{duration:150,tileId:1213},{duration:150,tileId:1214}],1274:[{duration:150,tileId:1273},{duration:150,tileId:1274},{duration:150,tileId:1275},{duration:150,tileId:1276},{duration:150,tileId:1277},{duration:150,tileId:1278}],1621:[{duration:200,tileId:1620},{duration:200,tileId:1621},{duration:200,tileId:1622}],1685:[{duration:200,tileId:1684},{duration:200,tileId:1685},{duration:200,tileId:1686}],1691:[{duration:200,tileId:1690},{duration:200,tileId:1691},{duration:200,tileId:1692}],1813:[{duration:100,tileId:1812},{duration:100,tileId:1813},{duration:100,tileId:1814},{duration:100,tileId:1815},{duration:100,tileId:1816},{duration:100,tileId:1817},{duration:100,tileId:1818},{duration:100,tileId:1819},{duration:100,tileId:1820},{duration:100,tileId:1821},{duration:100,tileId:1822},{duration:100,tileId:1823},{duration:100,tileId:1824},{duration:100,tileId:1825},{duration:100,tileId:1826},{duration:100,tileId:1827},{duration:100,tileId:1828},{duration:100,tileId:1829},{duration:100,tileId:1830}],1877:[{duration:100,tileId:1876},{duration:100,tileId:1877},{duration:100,tileId:1878},{duration:100,tileId:1879},{duration:100,tileId:1880},{duration:100,tileId:1881},{duration:100,tileId:1882},{duration:100,tileId:1883},{duration:100,tileId:1884},{duration:100,tileId:1885},{duration:100,tileId:1886},{duration:100,tileId:1887},{duration:100,tileId:1888},{duration:100,tileId:1889},{duration:100,tileId:1890},{duration:100,tileId:1891},{duration:100,tileId:1892},{duration:100,tileId:1893},{duration:100,tileId:1894}],1897:[{duration:200,tileId:1896},{duration:200,tileId:1897},{duration:200,tileId:1898}],1926:[{duration:400,tileId:1925},{duration:400,tileId:1926},{duration:400,tileId:1927}],1990:[{duration:400,tileId:1989},{duration:400,tileId:1990}],2054:[{duration:400,tileId:2053},{duration:400,tileId:2054}],2246:[{duration:200,tileId:2245},{duration:200,tileId:2246},{duration:200,tileId:2247},{duration:200,tileId:2248}],2310:[{duration:200,tileId:2309},{duration:200,tileId:2310},{duration:200,tileId:2311},{duration:200,tileId:2312}],2376:[{duration:300,tileId:2375},{duration:300,tileId:2376}],2394:[{duration:400,tileId:2393},{duration:400,tileId:2394},{duration:400,tileId:2395}],2458:[{duration:400,tileId:2457},{duration:400,tileId:2458}],2522:[{duration:400,tileId:2521},{duration:400,tileId:2522}],2665:[{duration:200,tileId:2664},{duration:200,tileId:2665},{duration:200,tileId:2666}],2714:[{duration:100,tileId:2713},{duration:100,tileId:2714},{duration:100,tileId:2715},{duration:100,tileId:2716}],2778:[{duration:200,tileId:2777},{duration:200,tileId:2778},{duration:200,tileId:2779},{duration:200,tileId:2780}],2844:[{duration:300,tileId:2843},{duration:300,tileId:2844}],3201:[{duration:200,tileId:3200},{duration:200,tileId:3201},{duration:200,tileId:3202},{duration:200,tileId:3203}],3265:[{duration:200,tileId:3264},{duration:200,tileId:3265},{duration:200,tileId:3266},{duration:200,tileId:3267}],3329:[{duration:200,tileId:3328},{duration:200,tileId:3329},{duration:200,tileId:3330},{duration:200,tileId:3331}],3393:[{duration:200,tileId:3392},{duration:200,tileId:3393},{duration:200,tileId:3394},{duration:200,tileId:3395}],3669:[{duration:100,tileId:3668},{duration:100,tileId:3669},{duration:100,tileId:3670},{duration:100,tileId:3671}],3733:[{duration:100,tileId:3732},{duration:100,tileId:3733},{duration:100,tileId:3734},{duration:100,tileId:3735}],3797:[{duration:100,tileId:3796},{duration:100,tileId:3797},{duration:100,tileId:3798},{duration:100,tileId:3799}],3861:[{duration:100,tileId:3860},{duration:100,tileId:3861},{duration:100,tileId:3862},{duration:100,tileId:3863}],3922:[{duration:200,tileId:3921},{duration:200,tileId:3922},{duration:200,tileId:3923}],3947:[{duration:200,tileId:3946},{duration:200,tileId:3947},{duration:200,tileId:3948},{duration:200,tileId:3949},{duration:200,tileId:3950},{duration:200,tileId:3951}],3954:[{duration:200,tileId:3953},{duration:200,tileId:3954},{duration:200,tileId:3955},{duration:200,tileId:3956},{duration:200,tileId:3957},{duration:200,tileId:3958}],4011:[{duration:200,tileId:4010},{duration:200,tileId:4011},{duration:200,tileId:4012},{duration:200,tileId:4013},{duration:200,tileId:4014},{duration:200,tileId:4015}],4018:[{duration:200,tileId:4017},{duration:200,tileId:4018},{duration:200,tileId:4019},{duration:200,tileId:4020},{duration:200,tileId:4021},{duration:200,tileId:4022}],4555:[{duration:400,tileId:4554},{duration:400,tileId:4555},{duration:400,tileId:4556},{duration:400,tileId:4557},{duration:400,tileId:4558}],4561:[{duration:200,tileId:4560},{duration:200,tileId:4561},{duration:200,tileId:4562},{duration:200,tileId:4563}],4619:[{duration:400,tileId:4618},{duration:400,tileId:4619},{duration:400,tileId:4620},{duration:400,tileId:4621},{duration:400,tileId:4622},{duration:400,tileId:4623}],4683:[{duration:400,tileId:4682},{duration:400,tileId:4683},{duration:400,tileId:4684},{duration:400,tileId:4685}],4747:[{duration:400,tileId:4746},{duration:400,tileId:4747},{duration:400,tileId:4748},{duration:400,tileId:4749}],4811:[{duration:400,tileId:4810},{duration:400,tileId:4811},{duration:400,tileId:4812},{duration:400,tileId:4813}],5057:[{duration:200,tileId:5056},{duration:200,tileId:5057},{duration:200,tileId:5058},{duration:200,tileId:5059},{duration:200,tileId:5060},{duration:200,tileId:5061},{duration:200,tileId:5062},{duration:200,tileId:5063},{duration:200,tileId:5064},{duration:200,tileId:5065},{duration:200,tileId:5066},{duration:200,tileId:5067},{duration:200,tileId:5068},{duration:200,tileId:5069},{duration:200,tileId:5070},{duration:200,tileId:5071},{duration:200,tileId:5072}],5121:[{duration:200,tileId:5120},{duration:200,tileId:5121},{duration:200,tileId:5122},{duration:200,tileId:5123},{duration:200,tileId:5124},{duration:200,tileId:5125},{duration:200,tileId:5126},{duration:200,tileId:5127},{duration:200,tileId:5128},{duration:200,tileId:5129},{duration:200,tileId:5130},{duration:200,tileId:5131},{duration:200,tileId:5132},{duration:200,tileId:5133},{duration:200,tileId:5134}],5377:[{duration:200,tileId:5376},{duration:200,tileId:5377},{duration:200,tileId:5378}],5441:[{duration:200,tileId:5440},{duration:200,tileId:5441},{duration:200,tileId:5442}],5638:[{duration:200,tileId:5637},{duration:200,tileId:5638},{duration:200,tileId:5639},{duration:200,tileId:5640},{duration:200,tileId:5641},{duration:200,tileId:5642}],6081:[{duration:200,tileId:6080},{duration:200,tileId:6081},{duration:200,tileId:6082}],6145:[{duration:200,tileId:6144},{duration:200,tileId:6145},{duration:200,tileId:6146}],6151:[{duration:200,tileId:6150},{duration:200,tileId:6151},{duration:200,tileId:6152}],6273:[{duration:200,tileId:6272},{duration:200,tileId:6273},{duration:200,tileId:6274},{duration:200,tileId:6275},{duration:200,tileId:6276},{duration:200,tileId:6277},{duration:200,tileId:6278},{duration:200,tileId:6279},{duration:200,tileId:6280},{duration:200,tileId:6281},{duration:200,tileId:6282},{duration:200,tileId:6283},{duration:200,tileId:6284},{duration:200,tileId:6285},{duration:200,tileId:6286},{duration:200,tileId:6287},{duration:200,tileId:6288},{duration:200,tileId:6289},{duration:200,tileId:6290}],6337:[{duration:200,tileId:6336},{duration:200,tileId:6337},{duration:200,tileId:6338},{duration:200,tileId:6339},{duration:200,tileId:6340},{duration:200,tileId:6341},{duration:200,tileId:6342},{duration:200,tileId:6343},{duration:200,tileId:6344},{duration:200,tileId:6345},{duration:200,tileId:6346},{duration:200,tileId:6347},{duration:200,tileId:6348},{duration:200,tileId:6349},{duration:200,tileId:6350},{duration:200,tileId:6351},{duration:200,tileId:6352},{duration:200,tileId:6353},{duration:200,tileId:6354}],7621:[{duration:200,tileId:7620},{duration:200,tileId:7621},{duration:200,tileId:7622},{duration:200,tileId:7623}],7685:[{duration:200,tileId:7684},{duration:200,tileId:7685},{duration:200,tileId:7686},{duration:200,tileId:7687}],7693:[{duration:200,tileId:7692},{duration:200,tileId:7693},{duration:200,tileId:7694},{duration:200,tileId:7695},{duration:200,tileId:7696},{duration:200,tileId:7697},{duration:200,tileId:7698},{duration:200,tileId:7699}],7749:[{duration:200,tileId:7748},{duration:200,tileId:7749},{duration:200,tileId:7750},{duration:200,tileId:7751}],7757:[{duration:200,tileId:7756},{duration:200,tileId:7757},{duration:200,tileId:7758},{duration:200,tileId:7759},{duration:200,tileId:7760},{duration:200,tileId:7761},{duration:200,tileId:7762},{duration:200,tileId:7763}],7813:[{duration:200,tileId:7812},{duration:200,tileId:7813},{duration:200,tileId:7814},{duration:200,tileId:7815}]},Pe=function(){function t(e){f(this,t),this.game=e,this.width=Ee,this.height=Xe,this.tileSize=Ye,this.data=[],this.grid=[],this.high=Ae,this.objects=[],this.lights=[],this.rawTilesets=Te,this.tilesets={},this.cursorTiles={},this.animatedTiles=Le,this.mapLoaded=!1,this.preloadedData=!1,this.tilesetsLoaded=!1,this.load()}return w(t,[{key:"ready",value:function(){var t,e=this;this.mapLoaded&&this.tilesetsLoaded?null===(t=this.readyCallback)||void 0===t||t.call(this):window.setTimeout((function(){return e.ready()}),100)}},{key:"load",value:function(){var t=this;a.debug("Parsing map with Web Workers...");var e=new Worker("/assets/mapworker.6517958e.js",{type:"classic"});e.postMessage([this.width,this.height]),e.addEventListener("message",(function(e){e.data.data&&(t.data=e.data.data),e.data.grid&&(t.grid=e.data.grid),t.loadRegionData(),t.mapLoaded=!0})),this.loadTilesets(),this.ready()}},{key:"loadRegions",value:function(t){var e=this;It.each(t,(function(t){return e.loadRegion(t)})),this.saveRegionData()}},{key:"loadRegion",value:function(t){var e,n=m(t);try{for(n.s();!(e=n.n()).done;){var i=e.value,r=this.coordToIndex(i.x,i.y),o=this.objects.indexOf(r);this.data[r]=i.data,i.c&&!this.isColliding(i.x,i.y)&&(this.grid[i.y][i.x]=1),!i.c&&this.isColliding(i.x,i.y)&&(this.grid[i.y][i.x]=0),i.cur&&(this.cursorTiles[r]=i.cur),!i.cur&&r in this.cursorTiles&&(this.cursorTiles[r]=""),i.o&&o<0&&this.objects.push(r),!i.o&&o>-1&&this.objects.splice(o,1)}}catch(ei){n.e(ei)}finally{n.f()}}},{key:"loadTilesets",value:function(){var t=this;It.each(this.rawTilesets,(function(e,n){t.loadTileset(e,parseInt(n),(function(e){t.tilesets[n]=e,It.size(t.tilesets)===It.size(t.rawTilesets)&&(t.tilesetsLoaded=!0)}))}))}},{key:"loadTileset",value:function(t,e,n){var i=this,r=new Image,o="/img/tilesets/tilesheet-".concat(e+1,".png");r.crossOrigin="Anonymous",r.path=o,r.src=o,r.firstGID=t,r.loaded=!0,r.addEventListener("load",(function(){if(r.width%i.tileSize>0)throw new Error("The tile size is malformed in the tile set: ".concat(r.path));r.lastGID=t+r.width*r.height/Math.pow(i.tileSize,2),n(r)})),r.addEventListener("error",(function(){throw new Error("Could not find tile set: ".concat(r.path))}))}},{key:"loadRegionData",value:function(){var t=this.game.storage.getRegionData();t.regionData.length>0&&(this.data=t.regionData,this.grid=t.grid,this.objects=t.objects,this.cursorTiles=t.cursorTiles,this.preloadedData=!0)}},{key:"saveRegionData",value:function(){this.game.storage.setRegionData(this.data,this.grid,this.objects,this.cursorTiles)}},{key:"coordToIndex",value:function(t,e){return e*this.width+t}},{key:"indexToCoord",value:function(t){return{x:t%this.width,y:Math.floor(t/this.width)}}},{key:"isColliding",value:function(t,e){return!!this.isOutOfBounds(t,e)||(this.data[this.coordToIndex(t,e)]<1||1===this.grid[e][t])}},{key:"isObject",value:function(t,e){var n=this.coordToIndex(t,e);return this.objects.includes(n)}},{key:"getTileCursor",value:function(t,e){var n=this.coordToIndex(t,e);return this.cursorTiles[n]}},{key:"isHighTile",value:function(t){return this.high.includes(t)}},{key:"isLightTile",value:function(t){return this.lights.includes(t)}},{key:"isAnimatedTile",value:function(t){return t in this.animatedTiles}},{key:"isOutOfBounds",value:function(t,e){return st(t)&&st(e)&&(t<0||t>=this.width||e<0||e>=this.height)}},{key:"getTileAnimation",value:function(t){return this.animatedTiles[t]}},{key:"getTilesetFromId",value:function(t){for(var e in this.tilesets)if(t<this.tilesets[e].lastGID)return this.tilesets[e]}},{key:"onReady",value:function(t){this.readyCallback=t}}]),t}();function Re(t){for(var e=t.length;--e>=0;)t[e]=0}var ze=256,Oe=286,De=30,Ne=15,je=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),qe=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Me=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Be=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Fe=new Array(576);Re(Fe);var He=new Array(60);Re(He);var Ue=new Array(512);Re(Ue);var We=new Array(256);Re(We);var Ve=new Array(29);Re(Ve);var Ze,Ge,$e,Ke=new Array(De);function Qe(t,e,n,i,r){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=t&&t.length}function Je(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}Re(Ke);var tn=function(t){return t<256?Ue[t]:Ue[256+(t>>>7)]},en=function(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},nn=function(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,en(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},rn=function(t,e,n){nn(t,n[2*e],n[2*e+1])},on=function(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1},an=function(t,e,n){var i,r,o=new Array(16),a=0;for(i=1;i<=Ne;i++)o[i]=a=a+n[i-1]<<1;for(r=0;r<=e;r++){var l=t[2*r+1];0!==l&&(t[2*r]=on(o[l]++,l))}},ln=function(t){var e;for(e=0;e<Oe;e++)t.dyn_ltree[2*e]=0;for(e=0;e<De;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},sn=function(t){t.bi_valid>8?en(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},hn=function(t,e,n,i){var r=2*e,o=2*n;return t[r]<t[o]||t[r]===t[o]&&i[e]<=i[n]},un=function(t,e,n){for(var i=t.heap[n],r=n<<1;r<=t.heap_len&&(r<t.heap_len&&hn(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!hn(e,i,t.heap[r],t.depth));)t.heap[n]=t.heap[r],n=r,r<<=1;t.heap[n]=i},dn=function(t,e,n){var i,r,o,a,l=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*l]<<8|t.pending_buf[t.d_buf+2*l+1],r=t.pending_buf[t.l_buf+l],l++,0===i?rn(t,r,e):(o=We[r],rn(t,o+ze+1,e),0!==(a=je[o])&&(r-=Ve[o],nn(t,r,a)),i--,o=tn(i),rn(t,o,n),0!==(a=qe[o])&&(i-=Ke[o],nn(t,i,a)))}while(l<t.last_lit);rn(t,256,e)},cn=function(t,e){var n,i,r,o=e.dyn_tree,a=e.stat_desc.static_tree,l=e.stat_desc.has_stree,s=e.stat_desc.elems,h=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<s;n++)0!==o[2*n]?(t.heap[++t.heap_len]=h=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(r=t.heap[++t.heap_len]=h<2?++h:0)]=1,t.depth[r]=0,t.opt_len--,l&&(t.static_len-=a[2*r+1]);for(e.max_code=h,n=t.heap_len>>1;n>=1;n--)un(t,o,n);r=s;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],un(t,o,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,o[2*r]=o[2*n]+o[2*i],t.depth[r]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,o[2*n+1]=o[2*i+1]=r,t.heap[1]=r++,un(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,i,r,o,a,l,s=e.dyn_tree,h=e.max_code,u=e.stat_desc.static_tree,d=e.stat_desc.has_stree,c=e.stat_desc.extra_bits,g=e.stat_desc.extra_base,f=e.stat_desc.max_length,p=0;for(o=0;o<=Ne;o++)t.bl_count[o]=0;for(s[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)(o=s[2*s[2*(i=t.heap[n])+1]+1]+1)>f&&(o=f,p++),s[2*i+1]=o,i>h||(t.bl_count[o]++,a=0,i>=g&&(a=c[i-g]),l=s[2*i],t.opt_len+=l*(o+a),d&&(t.static_len+=l*(u[2*i+1]+a)));if(0!==p){do{for(o=f-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[f]--,p-=2}while(p>0);for(o=f;0!==o;o--)for(i=t.bl_count[o];0!==i;)(r=t.heap[--n])>h||(s[2*r+1]!==o&&(t.opt_len+=(o-s[2*r+1])*s[2*r],s[2*r+1]=o),i--)}}(t,e),an(o,h,t.bl_count)},gn=function(t,e,n){var i,r,o=-1,a=e[1],l=0,s=7,h=4;for(0===a&&(s=138,h=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=e[2*(i+1)+1],++l<s&&r===a||(l<h?t.bl_tree[2*r]+=l:0!==r?(r!==o&&t.bl_tree[2*r]++,t.bl_tree[32]++):l<=10?t.bl_tree[34]++:t.bl_tree[36]++,l=0,o=r,0===a?(s=138,h=3):r===a?(s=6,h=3):(s=7,h=4))},fn=function(t,e,n){var i,r,o=-1,a=e[1],l=0,s=7,h=4;for(0===a&&(s=138,h=3),i=0;i<=n;i++)if(r=a,a=e[2*(i+1)+1],!(++l<s&&r===a)){if(l<h)do{rn(t,r,t.bl_tree)}while(0!=--l);else 0!==r?(r!==o&&(rn(t,r,t.bl_tree),l--),rn(t,16,t.bl_tree),nn(t,l-3,2)):l<=10?(rn(t,17,t.bl_tree),nn(t,l-3,3)):(rn(t,18,t.bl_tree),nn(t,l-11,7));l=0,o=r,0===a?(s=138,h=3):r===a?(s=6,h=3):(s=7,h=4)}},pn=!1,wn=function(t,e,n,i){nn(t,0+(i?1:0),3),function(t,e,n,i){sn(t),i&&(en(t,n),en(t,~n)),t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n}(t,e,n,!0)},mn=function(t){pn||(!function(){var t,e,n,i,r,o=new Array(16);for(n=0,i=0;i<28;i++)for(Ve[i]=n,t=0;t<1<<je[i];t++)We[n++]=i;for(We[n-1]=i,r=0,i=0;i<16;i++)for(Ke[i]=r,t=0;t<1<<qe[i];t++)Ue[r++]=i;for(r>>=7;i<De;i++)for(Ke[i]=r<<7,t=0;t<1<<qe[i]-7;t++)Ue[256+r++]=i;for(e=0;e<=Ne;e++)o[e]=0;for(t=0;t<=143;)Fe[2*t+1]=8,t++,o[8]++;for(;t<=255;)Fe[2*t+1]=9,t++,o[9]++;for(;t<=279;)Fe[2*t+1]=7,t++,o[7]++;for(;t<=287;)Fe[2*t+1]=8,t++,o[8]++;for(an(Fe,287,o),t=0;t<De;t++)He[2*t+1]=5,He[2*t]=on(t,5);Ze=new Qe(Fe,je,257,Oe,Ne),Ge=new Qe(He,qe,0,De,Ne),$e=new Qe(new Array(0),Me,0,19,7)}(),pn=!0),t.l_desc=new Je(t.dyn_ltree,Ze),t.d_desc=new Je(t.dyn_dtree,Ge),t.bl_desc=new Je(t.bl_tree,$e),t.bi_buf=0,t.bi_valid=0,ln(t)},kn=function(t,e,n,i){var r,o,a=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<ze;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),cn(t,t.l_desc),cn(t,t.d_desc),a=function(t){var e;for(gn(t,t.dyn_ltree,t.l_desc.max_code),gn(t,t.dyn_dtree,t.d_desc.max_code),cn(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*Be[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),r=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=r&&(r=o)):r=o=n+5,n+4<=r&&-1!==e?wn(t,e,n,i):4===t.strategy||o===r?(nn(t,2+(i?1:0),3),dn(t,Fe,He)):(nn(t,4+(i?1:0),3),function(t,e,n,i){var r;for(nn(t,e-257,5),nn(t,n-1,5),nn(t,i-4,4),r=0;r<i;r++)nn(t,t.bl_tree[2*Be[r]+1],3);fn(t,t.dyn_ltree,e-1),fn(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),dn(t,t.dyn_ltree,t.dyn_dtree)),ln(t),i&&sn(t)},vn=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(We[n]+ze+1)]++,t.dyn_dtree[2*tn(e)]++),t.last_lit===t.lit_bufsize-1},_n=function(t){nn(t,2,3),rn(t,256,Fe),function(t){16===t.bi_valid?(en(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)},yn={_tr_init:mn,_tr_stored_block:wn,_tr_flush_block:kn,_tr_tally:vn,_tr_align:_n},bn=function(t,e,n,i){for(var r=65535&t|0,o=t>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(r=r+e[i++]|0)|0}while(--a);r%=65521,o%=65521}return r|o<<16|0},xn=new Uint32Array(function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}()),Cn=function(t,e,n,i){var r=xn,o=i+n;t^=-1;for(var a=i;a<o;a++)t=t>>>8^r[255&(t^e[a])];return-1^t},Sn={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},In={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},En=yn._tr_init,Xn=yn._tr_stored_block,Yn=yn._tr_flush_block,An=yn._tr_tally,Tn=yn._tr_align,Ln=In.Z_NO_FLUSH,Pn=In.Z_PARTIAL_FLUSH,Rn=In.Z_FULL_FLUSH,zn=In.Z_FINISH,On=In.Z_BLOCK,Dn=In.Z_OK,Nn=In.Z_STREAM_END,jn=In.Z_STREAM_ERROR,qn=In.Z_DATA_ERROR,Mn=In.Z_BUF_ERROR,Bn=In.Z_DEFAULT_COMPRESSION,Fn=In.Z_FILTERED,Hn=In.Z_HUFFMAN_ONLY,Un=In.Z_RLE,Wn=In.Z_FIXED,Vn=In.Z_DEFAULT_STRATEGY,Zn=In.Z_UNKNOWN,Gn=In.Z_DEFLATED,$n=258,Kn=262,Qn=103,Jn=113,ti=666,ei=function(t,e){return t.msg=Sn[e],e},ni=function(t){return(t<<1)-(t>4?9:0)},ii=function(t){for(var e=t.length;--e>=0;)t[e]=0},ri=function(t,e,n){return(e<<t.hash_shift^n)&t.hash_mask},oi=function(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))},ai=function(t,e){Yn(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,oi(t.strm)},li=function(t,e){t.pending_buf[t.pending++]=e},si=function(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},hi=function(t,e){var n,i,r=t.max_chain_length,o=t.strstart,a=t.prev_length,l=t.nice_match,s=t.strstart>t.w_size-Kn?t.strstart-(t.w_size-Kn):0,h=t.window,u=t.w_mask,d=t.prev,c=t.strstart+$n,g=h[o+a-1],f=h[o+a];t.prev_length>=t.good_match&&(r>>=2),l>t.lookahead&&(l=t.lookahead);do{if(h[(n=e)+a]===f&&h[n+a-1]===g&&h[n]===h[o]&&h[++n]===h[o+1]){o+=2,n++;do{}while(h[++o]===h[++n]&&h[++o]===h[++n]&&h[++o]===h[++n]&&h[++o]===h[++n]&&h[++o]===h[++n]&&h[++o]===h[++n]&&h[++o]===h[++n]&&h[++o]===h[++n]&&o<c);if(i=$n-(c-o),o=c-$n,i>a){if(t.match_start=e,a=i,i>=l)break;g=h[o+a-1],f=h[o+a]}}}while((e=d[e&u])>s&&0!=--r);return a<=t.lookahead?a:t.lookahead},ui=function(t){var e,n,i,r,o,a,l,s,h,u,d=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=d+(d-Kn)){t.window.set(t.window.subarray(d,d+d),0),t.match_start-=d,t.strstart-=d,t.block_start-=d,e=n=t.hash_size;do{i=t.head[--e],t.head[e]=i>=d?i-d:0}while(--n);e=n=d;do{i=t.prev[--e],t.prev[e]=i>=d?i-d:0}while(--n);r+=d}if(0===t.strm.avail_in)break;if(a=t.strm,l=t.window,s=t.strstart+t.lookahead,h=r,u=void 0,(u=a.avail_in)>h&&(u=h),n=0===u?0:(a.avail_in-=u,l.set(a.input.subarray(a.next_in,a.next_in+u),s),1===a.state.wrap?a.adler=bn(a.adler,l,u,s):2===a.state.wrap&&(a.adler=Cn(a.adler,l,u,s)),a.next_in+=u,a.total_in+=u,u),t.lookahead+=n,t.lookahead+t.insert>=3)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=ri(t,t.ins_h,t.window[o+1]);t.insert&&(t.ins_h=ri(t,t.ins_h,t.window[o+3-1]),t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<Kn&&0!==t.strm.avail_in)},di=function(t,e){for(var n,i;;){if(t.lookahead<Kn){if(ui(t),t.lookahead<Kn&&e===Ln)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=ri(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-Kn&&(t.match_length=hi(t,n)),t.match_length>=3)if(i=An(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=ri(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=ri(t,t.ins_h,t.window[t.strstart+1]);else i=An(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(ai(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===zn?(ai(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(ai(t,!1),0===t.strm.avail_out)?1:2},ci=function(t,e){for(var n,i,r;;){if(t.lookahead<Kn){if(ui(t),t.lookahead<Kn&&e===Ln)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=ri(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-Kn&&(t.match_length=hi(t,n),t.match_length<=5&&(t.strategy===Fn||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-3,i=An(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=ri(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,i&&(ai(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((i=An(t,0,t.window[t.strstart-1]))&&ai(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=An(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===zn?(ai(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(ai(t,!1),0===t.strm.avail_out)?1:2};function gi(t,e,n,i,r){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=r}var fi=[new gi(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(ui(t),0===t.lookahead&&e===Ln)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,ai(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-Kn&&(ai(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===zn?(ai(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(ai(t,!1),t.strm.avail_out),1)})),new gi(4,4,8,4,di),new gi(4,5,16,8,di),new gi(4,6,32,32,di),new gi(4,4,16,16,ci),new gi(8,16,32,32,ci),new gi(8,16,128,128,ci),new gi(8,32,128,256,ci),new gi(32,128,258,1024,ci),new gi(32,258,258,4096,ci)];function pi(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Gn,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),ii(this.dyn_ltree),ii(this.dyn_dtree),ii(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),ii(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),ii(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var wi=function(t){if(!t||!t.state)return ei(t,jn);t.total_in=t.total_out=0,t.data_type=Zn;var e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:Jn,t.adler=2===e.wrap?0:1,e.last_flush=Ln,En(e),Dn},mi=function(t){var e=wi(t);return e===Dn&&function(t){t.window_size=2*t.w_size,ii(t.head),t.max_lazy_match=fi[t.level].max_lazy,t.good_match=fi[t.level].good_length,t.nice_match=fi[t.level].nice_length,t.max_chain_length=fi[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0}(t.state),e},ki=function(t,e,n,i,r,o){if(!t)return jn;var a=1;if(e===Bn&&(e=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),r<1||r>9||n!==Gn||i<8||i>15||e<0||e>9||o<0||o>Wn)return ei(t,jn);8===i&&(i=9);var l=new pi;return t.state=l,l.strm=t,l.wrap=a,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=r+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new Uint8Array(2*l.w_size),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<r+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new Uint8Array(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=o,l.method=n,mi(t)},vi=function(t,e){var n,i;if(!t||!t.state||e>On||e<0)return t?ei(t,jn):jn;var r=t.state;if(!t.output||!t.input&&0!==t.avail_in||r.status===ti&&e!==zn)return ei(t,0===t.avail_out?Mn:jn);r.strm=t;var o=r.last_flush;if(r.last_flush=e,42===r.status)if(2===r.wrap)t.adler=0,li(r,31),li(r,139),li(r,8),r.gzhead?(li(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),li(r,255&r.gzhead.time),li(r,r.gzhead.time>>8&255),li(r,r.gzhead.time>>16&255),li(r,r.gzhead.time>>24&255),li(r,9===r.level?2:r.strategy>=Hn||r.level<2?4:0),li(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(li(r,255&r.gzhead.extra.length),li(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=Cn(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(li(r,0),li(r,0),li(r,0),li(r,0),li(r,0),li(r,9===r.level?2:r.strategy>=Hn||r.level<2?4:0),li(r,3),r.status=Jn);else{var a=Gn+(r.w_bits-8<<4)<<8;a|=(r.strategy>=Hn||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(a|=32),a+=31-a%31,r.status=Jn,si(r,a),0!==r.strstart&&(si(r,t.adler>>>16),si(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(n=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>n&&(t.adler=Cn(t.adler,r.pending_buf,r.pending-n,n)),oi(t),n=r.pending,r.pending!==r.pending_buf_size));)li(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>n&&(t.adler=Cn(t.adler,r.pending_buf,r.pending-n,n)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){n=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(t.adler=Cn(t.adler,r.pending_buf,r.pending-n,n)),oi(t),n=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,li(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>n&&(t.adler=Cn(t.adler,r.pending_buf,r.pending-n,n)),0===i&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){n=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(t.adler=Cn(t.adler,r.pending_buf,r.pending-n,n)),oi(t),n=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,li(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>n&&(t.adler=Cn(t.adler,r.pending_buf,r.pending-n,n)),0===i&&(r.status=Qn)}else r.status=Qn;if(r.status===Qn&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&oi(t),r.pending+2<=r.pending_buf_size&&(li(r,255&t.adler),li(r,t.adler>>8&255),t.adler=0,r.status=Jn)):r.status=Jn),0!==r.pending){if(oi(t),0===t.avail_out)return r.last_flush=-1,Dn}else if(0===t.avail_in&&ni(e)<=ni(o)&&e!==zn)return ei(t,Mn);if(r.status===ti&&0!==t.avail_in)return ei(t,Mn);if(0!==t.avail_in||0!==r.lookahead||e!==Ln&&r.status!==ti){var l=r.strategy===Hn?function(t,e){for(var n;;){if(0===t.lookahead&&(ui(t),0===t.lookahead)){if(e===Ln)return 1;break}if(t.match_length=0,n=An(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(ai(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===zn?(ai(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(ai(t,!1),0===t.strm.avail_out)?1:2}(r,e):r.strategy===Un?function(t,e){for(var n,i,r,o,a=t.window;;){if(t.lookahead<=$n){if(ui(t),t.lookahead<=$n&&e===Ln)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=a[r=t.strstart-1])===a[++r]&&i===a[++r]&&i===a[++r]){o=t.strstart+$n;do{}while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<o);t.match_length=$n-(o-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=An(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=An(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(ai(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===zn?(ai(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(ai(t,!1),0===t.strm.avail_out)?1:2}(r,e):fi[r.level].func(r,e);if(3!==l&&4!==l||(r.status=ti),1===l||3===l)return 0===t.avail_out&&(r.last_flush=-1),Dn;if(2===l&&(e===Pn?Tn(r):e!==On&&(Xn(r,0,0,!1),e===Rn&&(ii(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),oi(t),0===t.avail_out))return r.last_flush=-1,Dn}return e!==zn?Dn:r.wrap<=0?Nn:(2===r.wrap?(li(r,255&t.adler),li(r,t.adler>>8&255),li(r,t.adler>>16&255),li(r,t.adler>>24&255),li(r,255&t.total_in),li(r,t.total_in>>8&255),li(r,t.total_in>>16&255),li(r,t.total_in>>24&255)):(si(r,t.adler>>>16),si(r,65535&t.adler)),oi(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?Dn:Nn)},_i=function(t,e){var n=e.length;if(!t||!t.state)return jn;var i=t.state,r=i.wrap;if(2===r||1===r&&42!==i.status||i.lookahead)return jn;if(1===r&&(t.adler=bn(t.adler,e,n,0)),i.wrap=0,n>=i.w_size){0===r&&(ii(i.head),i.strstart=0,i.block_start=0,i.insert=0);var o=new Uint8Array(i.w_size);o.set(e.subarray(n-i.w_size,n),0),e=o,n=i.w_size}var a=t.avail_in,l=t.next_in,s=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,ui(i);i.lookahead>=3;){var h=i.strstart,u=i.lookahead-2;do{i.ins_h=ri(i,i.ins_h,i.window[h+3-1]),i.prev[h&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=h,h++}while(--u);i.strstart=h,i.lookahead=2,ui(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,t.next_in=l,t.input=s,t.avail_in=a,i.wrap=r,Dn},yi={deflateInit:function(t,e){return ki(t,e,Gn,15,8,Vn)},deflateInit2:ki,deflateReset:mi,deflateResetKeep:wi,deflateSetHeader:function(t,e){return t&&t.state?2!==t.state.wrap?jn:(t.state.gzhead=e,Dn):jn},deflate:vi,deflateEnd:function(t){if(!t||!t.state)return jn;var e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&e!==Qn&&e!==Jn&&e!==ti?ei(t,jn):(t.state=null,e===Jn?ei(t,qn):Dn)},deflateSetDictionary:_i,deflateInfo:"pako deflate (from Nodeca project)"},bi=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},xi=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!==u(n))throw new TypeError(n+"must be non-object");for(var i in n)bi(n,i)&&(t[i]=n[i])}}return t},Ci=function(t){for(var e=0,n=0,i=t.length;n<i;n++)e+=t[n].length;for(var r=new Uint8Array(e),o=0,a=0,l=t.length;o<l;o++){var s=t[o];r.set(s,a),a+=s.length}return r},Si=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(Ga){Si=!1}for(var Ii=new Uint8Array(256),Ei=0;Ei<256;Ei++)Ii[Ei]=Ei>=252?6:Ei>=248?5:Ei>=240?4:Ei>=224?3:Ei>=192?2:1;Ii[254]=Ii[254]=1;var Xi=function(t){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);var e,n,i,r,o,a=t.length,l=0;for(r=0;r<a;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<a&&56320==(64512&(i=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(l),o=0,r=0;o<l;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<a&&56320==(64512&(i=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e},Yi=function(t,e){var n,i,r=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));var o=new Array(2*r);for(i=0,n=0;n<r;){var a=t[n++];if(a<128)o[i++]=a;else{var l=Ii[a];if(l>4)o[i++]=65533,n+=l-1;else{for(a&=2===l?31:3===l?15:7;l>1&&n<r;)a=a<<6|63&t[n++],l--;l>1?o[i++]=65533:a<65536?o[i++]=a:(a-=65536,o[i++]=55296|a>>10&1023,o[i++]=56320|1023&a)}}}return function(t,e){if(e<65534&&t.subarray&&Si)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));for(var n="",i=0;i<e;i++)n+=String.fromCharCode(t[i]);return n}(o,i)},Ai=function(t,e){(e=e||t.length)>t.length&&(e=t.length);for(var n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+Ii[t[n]]>e?n:e};var Ti=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Li=Object.prototype.toString,Pi=In.Z_NO_FLUSH,Ri=In.Z_SYNC_FLUSH,zi=In.Z_FULL_FLUSH,Oi=In.Z_FINISH,Di=In.Z_OK,Ni=In.Z_STREAM_END,ji=In.Z_DEFAULT_COMPRESSION,qi=In.Z_DEFAULT_STRATEGY,Mi=In.Z_DEFLATED;function Bi(t){this.options=xi({level:ji,method:Mi,chunkSize:16384,windowBits:15,memLevel:8,strategy:qi},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ti,this.strm.avail_out=0;var n=yi.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==Di)throw new Error(Sn[n]);if(e.header&&yi.deflateSetHeader(this.strm,e.header),e.dictionary){var i;if(i="string"==typeof e.dictionary?Xi(e.dictionary):"[object ArrayBuffer]"===Li.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=yi.deflateSetDictionary(this.strm,i))!==Di)throw new Error(Sn[n]);this._dict_set=!0}}Bi.prototype.push=function(t,e){var n,i,r=this.strm,o=this.options.chunkSize;if(this.ended)return!1;for(i=e===~~e?e:!0===e?Oi:Pi,"string"==typeof t?r.input=Xi(t):"[object ArrayBuffer]"===Li.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(o),r.next_out=0,r.avail_out=o),(i===Ri||i===zi)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if((n=yi.deflate(r,i))===Ni)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),n=yi.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===Di;if(0!==r.avail_out){if(i>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},Bi.prototype.onData=function(t){this.chunks.push(t)},Bi.prototype.onEnd=function(t){t===Di&&(this.result=Ci(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Fi=function(t,e){var n,i,r,o,a,l,s,h,u,d,c,g,f,p,w,m,k,v,_,y,b,x,C,S,I=t.state;n=t.next_in,C=t.input,i=n+(t.avail_in-5),r=t.next_out,S=t.output,o=r-(e-t.avail_out),a=r+(t.avail_out-257),l=I.dmax,s=I.wsize,h=I.whave,u=I.wnext,d=I.window,c=I.hold,g=I.bits,f=I.lencode,p=I.distcode,w=(1<<I.lenbits)-1,m=(1<<I.distbits)-1;t:do{g<15&&(c+=C[n++]<<g,g+=8,c+=C[n++]<<g,g+=8),k=f[c&w];e:for(;;){if(c>>>=v=k>>>24,g-=v,0===(v=k>>>16&255))S[r++]=65535&k;else{if(!(16&v)){if(0==(64&v)){k=f[(65535&k)+(c&(1<<v)-1)];continue e}if(32&v){I.mode=12;break t}t.msg="invalid literal/length code",I.mode=30;break t}_=65535&k,(v&=15)&&(g<v&&(c+=C[n++]<<g,g+=8),_+=c&(1<<v)-1,c>>>=v,g-=v),g<15&&(c+=C[n++]<<g,g+=8,c+=C[n++]<<g,g+=8),k=p[c&m];n:for(;;){if(c>>>=v=k>>>24,g-=v,!(16&(v=k>>>16&255))){if(0==(64&v)){k=p[(65535&k)+(c&(1<<v)-1)];continue n}t.msg="invalid distance code",I.mode=30;break t}if(y=65535&k,g<(v&=15)&&(c+=C[n++]<<g,(g+=8)<v&&(c+=C[n++]<<g,g+=8)),(y+=c&(1<<v)-1)>l){t.msg="invalid distance too far back",I.mode=30;break t}if(c>>>=v,g-=v,y>(v=r-o)){if((v=y-v)>h&&I.sane){t.msg="invalid distance too far back",I.mode=30;break t}if(b=0,x=d,0===u){if(b+=s-v,v<_){_-=v;do{S[r++]=d[b++]}while(--v);b=r-y,x=S}}else if(u<v){if(b+=s+u-v,(v-=u)<_){_-=v;do{S[r++]=d[b++]}while(--v);if(b=0,u<_){_-=v=u;do{S[r++]=d[b++]}while(--v);b=r-y,x=S}}}else if(b+=u-v,v<_){_-=v;do{S[r++]=d[b++]}while(--v);b=r-y,x=S}for(;_>2;)S[r++]=x[b++],S[r++]=x[b++],S[r++]=x[b++],_-=3;_&&(S[r++]=x[b++],_>1&&(S[r++]=x[b++]))}else{b=r-y;do{S[r++]=S[b++],S[r++]=S[b++],S[r++]=S[b++],_-=3}while(_>2);_&&(S[r++]=S[b++],_>1&&(S[r++]=S[b++]))}break}}break}}while(n<i&&r<a);n-=_=g>>3,c&=(1<<(g-=_<<3))-1,t.next_in=n,t.next_out=r,t.avail_in=n<i?i-n+5:5-(n-i),t.avail_out=r<a?a-r+257:257-(r-a),I.hold=c,I.bits=g},Hi=15,Ui=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Wi=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Vi=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Zi=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Gi=function(t,e,n,i,r,o,a,l){var s,h,u,d,c,g,f,p,w,m=l.bits,k=0,v=0,_=0,y=0,b=0,x=0,C=0,S=0,I=0,E=0,X=null,Y=0,A=new Uint16Array(16),T=new Uint16Array(16),L=null,P=0;for(k=0;k<=Hi;k++)A[k]=0;for(v=0;v<i;v++)A[e[n+v]]++;for(b=m,y=Hi;y>=1&&0===A[y];y--);if(b>y&&(b=y),0===y)return r[o++]=20971520,r[o++]=20971520,l.bits=1,0;for(_=1;_<y&&0===A[_];_++);for(b<_&&(b=_),S=1,k=1;k<=Hi;k++)if(S<<=1,(S-=A[k])<0)return-1;if(S>0&&(0===t||1!==y))return-1;for(T[1]=0,k=1;k<Hi;k++)T[k+1]=T[k]+A[k];for(v=0;v<i;v++)0!==e[n+v]&&(a[T[e[n+v]]++]=v);if(0===t?(X=L=a,g=19):1===t?(X=Ui,Y-=257,L=Wi,P-=257,g=256):(X=Vi,L=Zi,g=-1),E=0,v=0,k=_,c=o,x=b,C=0,u=-1,d=(I=1<<b)-1,1===t&&I>852||2===t&&I>592)return 1;for(;;){f=k-C,a[v]<g?(p=0,w=a[v]):a[v]>g?(p=L[P+a[v]],w=X[Y+a[v]]):(p=96,w=0),s=1<<k-C,_=h=1<<x;do{r[c+(E>>C)+(h-=s)]=f<<24|p<<16|w|0}while(0!==h);for(s=1<<k-1;E&s;)s>>=1;if(0!==s?(E&=s-1,E+=s):E=0,v++,0==--A[k]){if(k===y)break;k=e[n+a[v]]}if(k>b&&(E&d)!==u){for(0===C&&(C=b),c+=_,S=1<<(x=k-C);x+C<y&&!((S-=A[x+C])<=0);)x++,S<<=1;if(I+=1<<x,1===t&&I>852||2===t&&I>592)return 1;r[u=E&d]=b<<24|x<<16|c-o|0}}return 0!==E&&(r[c+E]=k-C<<24|64<<16|0),l.bits=b,0},$i=In.Z_FINISH,Ki=In.Z_BLOCK,Qi=In.Z_TREES,Ji=In.Z_OK,tr=In.Z_STREAM_END,er=In.Z_NEED_DICT,nr=In.Z_STREAM_ERROR,ir=In.Z_DATA_ERROR,rr=In.Z_MEM_ERROR,or=In.Z_BUF_ERROR,ar=In.Z_DEFLATED,lr=12,sr=30,hr=function(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)};function ur(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var dr,cr,gr=function(t){if(!t||!t.state)return nr;var e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,Ji},fr=function(t){if(!t||!t.state)return nr;var e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,gr(t)},pr=function(t,e){var n;if(!t||!t.state)return nr;var i=t.state;return e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?nr:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,fr(t))},wr=function(t,e){if(!t)return nr;var n=new ur;t.state=n,n.window=null;var i=pr(t,e);return i!==Ji&&(t.state=null),i},mr=!0,kr=function(t){if(mr){dr=new Int32Array(512),cr=new Int32Array(32);for(var e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Gi(1,t.lens,0,288,dr,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Gi(2,t.lens,0,32,cr,0,t.work,{bits:5}),mr=!1}t.lencode=dr,t.lenbits=9,t.distcode=cr,t.distbits=5},vr=function(t,e,n,i){var r,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(e.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):((r=o.wsize-o.wnext)>i&&(r=i),o.window.set(e.subarray(n-i,n-i+r),o.wnext),(i-=r)?(o.window.set(e.subarray(n-i,n),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0},_r=function(t,e){var n,i,r,o,a,l,s,h,u,d,c,g,f,p,w,m,k,v,_,y,b,x,C,S,I=0,E=new Uint8Array(4),X=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return nr;(n=t.state).mode===lr&&(n.mode=13),a=t.next_out,r=t.output,s=t.avail_out,o=t.next_in,i=t.input,l=t.avail_in,h=n.hold,u=n.bits,d=l,c=s,x=Ji;t:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;u<16;){if(0===l)break t;l--,h+=i[o++]<<u,u+=8}if(2&n.wrap&&35615===h){n.check=0,E[0]=255&h,E[1]=h>>>8&255,n.check=Cn(n.check,E,2,0),h=0,u=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&h)<<8)+(h>>8))%31){t.msg="incorrect header check",n.mode=sr;break}if((15&h)!==ar){t.msg="unknown compression method",n.mode=sr;break}if(u-=4,b=8+(15&(h>>>=4)),0===n.wbits)n.wbits=b;else if(b>n.wbits){t.msg="invalid window size",n.mode=sr;break}n.dmax=1<<n.wbits,t.adler=n.check=1,n.mode=512&h?10:lr,h=0,u=0;break;case 2:for(;u<16;){if(0===l)break t;l--,h+=i[o++]<<u,u+=8}if(n.flags=h,(255&n.flags)!==ar){t.msg="unknown compression method",n.mode=sr;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=sr;break}n.head&&(n.head.text=h>>8&1),512&n.flags&&(E[0]=255&h,E[1]=h>>>8&255,n.check=Cn(n.check,E,2,0)),h=0,u=0,n.mode=3;case 3:for(;u<32;){if(0===l)break t;l--,h+=i[o++]<<u,u+=8}n.head&&(n.head.time=h),512&n.flags&&(E[0]=255&h,E[1]=h>>>8&255,E[2]=h>>>16&255,E[3]=h>>>24&255,n.check=Cn(n.check,E,4,0)),h=0,u=0,n.mode=4;case 4:for(;u<16;){if(0===l)break t;l--,h+=i[o++]<<u,u+=8}n.head&&(n.head.xflags=255&h,n.head.os=h>>8),512&n.flags&&(E[0]=255&h,E[1]=h>>>8&255,n.check=Cn(n.check,E,2,0)),h=0,u=0,n.mode=5;case 5:if(1024&n.flags){for(;u<16;){if(0===l)break t;l--,h+=i[o++]<<u,u+=8}n.length=h,n.head&&(n.head.extra_len=h),512&n.flags&&(E[0]=255&h,E[1]=h>>>8&255,n.check=Cn(n.check,E,2,0)),h=0,u=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((g=n.length)>l&&(g=l),g&&(n.head&&(b=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(o,o+g),b)),512&n.flags&&(n.check=Cn(n.check,i,g,o)),l-=g,o+=g,n.length-=g),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===l)break t;g=0;do{b=i[o+g++],n.head&&b&&n.length<65536&&(n.head.name+=String.fromCharCode(b))}while(b&&g<l);if(512&n.flags&&(n.check=Cn(n.check,i,g,o)),l-=g,o+=g,b)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===l)break t;g=0;do{b=i[o+g++],n.head&&b&&n.length<65536&&(n.head.comment+=String.fromCharCode(b))}while(b&&g<l);if(512&n.flags&&(n.check=Cn(n.check,i,g,o)),l-=g,o+=g,b)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;u<16;){if(0===l)break t;l--,h+=i[o++]<<u,u+=8}if(h!==(65535&n.check)){t.msg="header crc mismatch",n.mode=sr;break}h=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=lr;break;case 10:for(;u<32;){if(0===l)break t;l--,h+=i[o++]<<u,u+=8}t.adler=n.check=hr(h),h=0,u=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=a,t.avail_out=s,t.next_in=o,t.avail_in=l,n.hold=h,n.bits=u,er;t.adler=n.check=1,n.mode=lr;case lr:if(e===Ki||e===Qi)break t;case 13:if(n.last){h>>>=7&u,u-=7&u,n.mode=27;break}for(;u<3;){if(0===l)break t;l--,h+=i[o++]<<u,u+=8}switch(n.last=1&h,u-=1,3&(h>>>=1)){case 0:n.mode=14;break;case 1:if(kr(n),n.mode=20,e===Qi){h>>>=2,u-=2;break t}break;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=sr}h>>>=2,u-=2;break;case 14:for(h>>>=7&u,u-=7&u;u<32;){if(0===l)break t;l--,h+=i[o++]<<u,u+=8}if((65535&h)!=(h>>>16^65535)){t.msg="invalid stored block lengths",n.mode=sr;break}if(n.length=65535&h,h=0,u=0,n.mode=15,e===Qi)break t;case 15:n.mode=16;case 16:if(g=n.length){if(g>l&&(g=l),g>s&&(g=s),0===g)break t;r.set(i.subarray(o,o+g),a),l-=g,o+=g,s-=g,a+=g,n.length-=g;break}n.mode=lr;break;case 17:for(;u<14;){if(0===l)break t;l--,h+=i[o++]<<u,u+=8}if(n.nlen=257+(31&h),h>>>=5,u-=5,n.ndist=1+(31&h),h>>>=5,u-=5,n.ncode=4+(15&h),h>>>=4,u-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=sr;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;u<3;){if(0===l)break t;l--,h+=i[o++]<<u,u+=8}n.lens[X[n.have++]]=7&h,h>>>=3,u-=3}for(;n.have<19;)n.lens[X[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,C={bits:n.lenbits},x=Gi(0,n.lens,0,19,n.lencode,0,n.work,C),n.lenbits=C.bits,x){t.msg="invalid code lengths set",n.mode=sr;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;m=(I=n.lencode[h&(1<<n.lenbits)-1])>>>16&255,k=65535&I,!((w=I>>>24)<=u);){if(0===l)break t;l--,h+=i[o++]<<u,u+=8}if(k<16)h>>>=w,u-=w,n.lens[n.have++]=k;else{if(16===k){for(S=w+2;u<S;){if(0===l)break t;l--,h+=i[o++]<<u,u+=8}if(h>>>=w,u-=w,0===n.have){t.msg="invalid bit length repeat",n.mode=sr;break}b=n.lens[n.have-1],g=3+(3&h),h>>>=2,u-=2}else if(17===k){for(S=w+3;u<S;){if(0===l)break t;l--,h+=i[o++]<<u,u+=8}u-=w,b=0,g=3+(7&(h>>>=w)),h>>>=3,u-=3}else{for(S=w+7;u<S;){if(0===l)break t;l--,h+=i[o++]<<u,u+=8}u-=w,b=0,g=11+(127&(h>>>=w)),h>>>=7,u-=7}if(n.have+g>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=sr;break}for(;g--;)n.lens[n.have++]=b}}if(n.mode===sr)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=sr;break}if(n.lenbits=9,C={bits:n.lenbits},x=Gi(1,n.lens,0,n.nlen,n.lencode,0,n.work,C),n.lenbits=C.bits,x){t.msg="invalid literal/lengths set",n.mode=sr;break}if(n.distbits=6,n.distcode=n.distdyn,C={bits:n.distbits},x=Gi(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,C),n.distbits=C.bits,x){t.msg="invalid distances set",n.mode=sr;break}if(n.mode=20,e===Qi)break t;case 20:n.mode=21;case 21:if(l>=6&&s>=258){t.next_out=a,t.avail_out=s,t.next_in=o,t.avail_in=l,n.hold=h,n.bits=u,Fi(t,c),a=t.next_out,r=t.output,s=t.avail_out,o=t.next_in,i=t.input,l=t.avail_in,h=n.hold,u=n.bits,n.mode===lr&&(n.back=-1);break}for(n.back=0;m=(I=n.lencode[h&(1<<n.lenbits)-1])>>>16&255,k=65535&I,!((w=I>>>24)<=u);){if(0===l)break t;l--,h+=i[o++]<<u,u+=8}if(m&&0==(240&m)){for(v=w,_=m,y=k;m=(I=n.lencode[y+((h&(1<<v+_)-1)>>v)])>>>16&255,k=65535&I,!(v+(w=I>>>24)<=u);){if(0===l)break t;l--,h+=i[o++]<<u,u+=8}h>>>=v,u-=v,n.back+=v}if(h>>>=w,u-=w,n.back+=w,n.length=k,0===m){n.mode=26;break}if(32&m){n.back=-1,n.mode=lr;break}if(64&m){t.msg="invalid literal/length code",n.mode=sr;break}n.extra=15&m,n.mode=22;case 22:if(n.extra){for(S=n.extra;u<S;){if(0===l)break t;l--,h+=i[o++]<<u,u+=8}n.length+=h&(1<<n.extra)-1,h>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;m=(I=n.distcode[h&(1<<n.distbits)-1])>>>16&255,k=65535&I,!((w=I>>>24)<=u);){if(0===l)break t;l--,h+=i[o++]<<u,u+=8}if(0==(240&m)){for(v=w,_=m,y=k;m=(I=n.distcode[y+((h&(1<<v+_)-1)>>v)])>>>16&255,k=65535&I,!(v+(w=I>>>24)<=u);){if(0===l)break t;l--,h+=i[o++]<<u,u+=8}h>>>=v,u-=v,n.back+=v}if(h>>>=w,u-=w,n.back+=w,64&m){t.msg="invalid distance code",n.mode=sr;break}n.offset=k,n.extra=15&m,n.mode=24;case 24:if(n.extra){for(S=n.extra;u<S;){if(0===l)break t;l--,h+=i[o++]<<u,u+=8}n.offset+=h&(1<<n.extra)-1,h>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=sr;break}n.mode=25;case 25:if(0===s)break t;if(g=c-s,n.offset>g){if((g=n.offset-g)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=sr;break}g>n.wnext?(g-=n.wnext,f=n.wsize-g):f=n.wnext-g,g>n.length&&(g=n.length),p=n.window}else p=r,f=a-n.offset,g=n.length;g>s&&(g=s),s-=g,n.length-=g;do{r[a++]=p[f++]}while(--g);0===n.length&&(n.mode=21);break;case 26:if(0===s)break t;r[a++]=n.length,s--,n.mode=21;break;case 27:if(n.wrap){for(;u<32;){if(0===l)break t;l--,h|=i[o++]<<u,u+=8}if(c-=s,t.total_out+=c,n.total+=c,c&&(t.adler=n.check=n.flags?Cn(n.check,r,c,a-c):bn(n.check,r,c,a-c)),c=s,(n.flags?h:hr(h))!==n.check){t.msg="incorrect data check",n.mode=sr;break}h=0,u=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;u<32;){if(0===l)break t;l--,h+=i[o++]<<u,u+=8}if(h!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=sr;break}h=0,u=0}n.mode=29;case 29:x=tr;break t;case sr:x=ir;break t;case 31:return rr;default:return nr}return t.next_out=a,t.avail_out=s,t.next_in=o,t.avail_in=l,n.hold=h,n.bits=u,(n.wsize||c!==t.avail_out&&n.mode<sr&&(n.mode<27||e!==$i))&&vr(t,t.output,t.next_out,c-t.avail_out),d-=t.avail_in,c-=t.avail_out,t.total_in+=d,t.total_out+=c,n.total+=c,n.wrap&&c&&(t.adler=n.check=n.flags?Cn(n.check,r,c,t.next_out-c):bn(n.check,r,c,t.next_out-c)),t.data_type=n.bits+(n.last?64:0)+(n.mode===lr?128:0)+(20===n.mode||15===n.mode?256:0),(0===d&&0===c||e===$i)&&x===Ji&&(x=or),x},yr={inflateReset:fr,inflateReset2:pr,inflateResetKeep:gr,inflateInit:function(t){return wr(t,15)},inflateInit2:wr,inflate:_r,inflateEnd:function(t){if(!t||!t.state)return nr;var e=t.state;return e.window&&(e.window=null),t.state=null,Ji},inflateGetHeader:function(t,e){if(!t||!t.state)return nr;var n=t.state;return 0==(2&n.wrap)?nr:(n.head=e,e.done=!1,Ji)},inflateSetDictionary:function(t,e){var n,i=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?nr:11===n.mode&&bn(1,e,i,0)!==n.check?ir:vr(t,e,i,i)?(n.mode=31,rr):(n.havedict=1,Ji):nr},inflateInfo:"pako inflate (from Nodeca project)"};var br=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},xr=Object.prototype.toString,Cr=In.Z_NO_FLUSH,Sr=In.Z_FINISH,Ir=In.Z_OK,Er=In.Z_STREAM_END,Xr=In.Z_NEED_DICT,Yr=In.Z_STREAM_ERROR,Ar=In.Z_DATA_ERROR,Tr=In.Z_MEM_ERROR;function Lr(t){this.options=xi({chunkSize:65536,windowBits:15,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ti,this.strm.avail_out=0;var n=yr.inflateInit2(this.strm,e.windowBits);if(n!==Ir)throw new Error(Sn[n]);if(this.header=new br,yr.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=Xi(e.dictionary):"[object ArrayBuffer]"===xr.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=yr.inflateSetDictionary(this.strm,e.dictionary))!==Ir))throw new Error(Sn[n])}function Pr(t,e){var n=new Lr(e);if(n.push(t),n.err)throw n.msg||Sn[n.err];return n.result}Lr.prototype.push=function(t,e){var n,i,r,o=this.strm,a=this.options.chunkSize,l=this.options.dictionary;if(this.ended)return!1;for(i=e===~~e?e:!0===e?Sr:Cr,"[object ArrayBuffer]"===xr.call(t)?o.input=new Uint8Array(t):o.input=t,o.next_in=0,o.avail_in=o.input.length;;){for(0===o.avail_out&&(o.output=new Uint8Array(a),o.next_out=0,o.avail_out=a),(n=yr.inflate(o,i))===Xr&&l&&((n=yr.inflateSetDictionary(o,l))===Ir?n=yr.inflate(o,i):n===Ar&&(n=Xr));o.avail_in>0&&n===Er&&o.state.wrap>0&&0!==t[o.next_in];)yr.inflateReset(o),n=yr.inflate(o,i);switch(n){case Yr:case Ar:case Xr:case Tr:return this.onEnd(n),this.ended=!0,!1}if(r=o.avail_out,o.next_out&&(0===o.avail_out||n===Er))if("string"===this.options.to){var s=Ai(o.output,o.next_out),h=o.next_out-s,u=Yi(o.output,s);o.next_out=h,o.avail_out=a-h,h&&o.output.set(o.output.subarray(s,s+h),0),this.onData(u)}else this.onData(o.output.length===o.next_out?o.output:o.output.subarray(0,o.next_out));if(n!==Ir||0!==r){if(n===Er)return n=yr.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,!0;if(0===o.avail_in)break}}return!0},Lr.prototype.onData=function(t){this.chunks.push(t)},Lr.prototype.onEnd=function(t){t===Ir&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Ci(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var Rr={Inflate:Lr,inflate:Pr,inflateRaw:function(t,e){return(e=e||{}).raw=!0,Pr(t,e)},ungzip:Pr,constants:In},zr=Rr.inflate,Or=function(){function t(e){f(this,t),this.game=e,this.app=this.game.app,this.overlays=this.game.overlays,this.info=this.game.info,this.map=this.game.map,this.camera=this.game.camera,this.renderer=this.game.renderer,this.input=this.game.input,this.socket=this.game.socket,this.pointer=this.game.pointer,this.audio=this.game.audio,this.entities=this.game.entities,this.bubble=this.game.bubble,this.menu=this.game.menu,this.sprites=this.game.sprites,this.messages=this.socket.messages,this.messages.onHandshake(this.handleHandshake.bind(this)),this.messages.onWelcome(this.handleWelcome.bind(this)),this.messages.onMap(this.handleMap.bind(this)),this.messages.onEquipment(this.handleEquipment.bind(this)),this.messages.onSpawn(this.entities.create.bind(this.entities)),this.messages.onEntityList(this.handleEntityList.bind(this)),this.messages.onSync(this.handleSync.bind(this)),this.messages.onMovement(this.handleMovement.bind(this)),this.messages.onTeleport(this.handleTeleport.bind(this)),this.messages.onDespawn(this.handleDespawn.bind(this)),this.messages.onCombat(this.handleCombat.bind(this)),this.messages.onAnimation(this.handleAnimation.bind(this)),this.messages.onPoints(this.handlePoints.bind(this)),this.messages.onNetwork(this.handleNetwork.bind(this)),this.messages.onChat(this.handleChat.bind(this)),this.messages.onCommand(this.handleCommand.bind(this)),this.messages.onContainer(this.handleContainer.bind(this)),this.messages.onAbility(this.handleAbility.bind(this)),this.messages.onQuest(this.handleQuest.bind(this)),this.messages.onAchievement(this.handleAchievement.bind(this)),this.messages.onNotification(this.handleNotification.bind(this)),this.messages.onBlink(this.handleBlink.bind(this)),this.messages.onHeal(this.handleHeal.bind(this)),this.messages.onExperience(this.handleExperience.bind(this)),this.messages.onDeath(this.handleDeath.bind(this)),this.messages.onAudio(this.handleAudio.bind(this)),this.messages.onNPC(this.handleNPC.bind(this)),this.messages.onRespawn(this.handleRespawn.bind(this)),this.messages.onEnchant(this.handleEnchant.bind(this)),this.messages.onGuild(this.handleGuild.bind(this)),this.messages.onPointer(this.handlePointer.bind(this)),this.messages.onPVP(this.handlePVP.bind(this)),this.messages.onStore(this.handleStore.bind(this)),this.messages.onOverlay(this.handleOverlay.bind(this)),this.messages.onCamera(this.handleCamera.bind(this)),this.messages.onBubble(this.handleBubble.bind(this)),this.messages.onSkill(this.handleSkill.bind(this)),this.messages.onUpdate(this.handleUpdate.bind(this))}return w(t,[{key:"handleHandshake",value:function(){if(this.app.updateLoader("Connecting to server"),this.app.isGuest())return this.socket.send(Y.Login,{opcode:A.Guest});var t=this.app.getUsername(),e=this.app.getPassword(),n=this.app.getEmail();if(this.app.isRegistering())return this.socket.send(Y.Login,{opcode:A.Register,username:t,password:e,email:n});this.socket.send(Y.Login,{opcode:A.Login,username:t,password:e})}},{key:"handleWelcome",value:function(t){this.game.player.load(t),this.game.start(),this.game.postLoad()}},{key:"handleMap",value:function(t){var e=window.atob(t).split("").map((function(t){return t.charCodeAt(0)})),n=zr(new Uint8Array(e),{to:"string"}),i=JSON.parse(n);this.map.loadRegions(i),this.renderer.forceRendering=!0,this.renderer.updateAnimatedTiles()}},{key:"handleEquipment",value:function(t,e){var n=this;switch(t){case T.Batch:It.each(e.data.equipments,(function(t){return n.game.player.equip(t)}));break;case T.Equip:this.game.player.equip(e.data);break;case T.Unequip:this.game.player.unequip(e.type)}this.game.player.sync()}},{key:"handleEntityList",value:function(t){var e=this,n=It.map(this.entities.getAll(),"instance"),i=It.intersection(n,t),r=It.difference(t,i);this.entities.decrepit=It.reject(this.entities.getAll(),(function(t){return It.includes(i,t.instance)||t.instance===e.game.player.instance})),this.entities.clean(),this.socket.send(Y.Who,r)}},{key:"handleSync",value:function(t){var e=this.entities.get(t.instance);e&&(e.load(t),e.setSprite(this.game.sprites.get(e.getSpriteName())))}},{key:"handleMovement",value:function(t,e){var n,i=this.entities.get(e.instance);if(i)switch(t){case L.Move:e.forced&&i.stop(!0),i.go(e.x,e.y);break;case L.Follow:(n=this.entities.get(e.target))&&i.follow(n);break;case L.Stop:e.forced&&i.stop(!0);break;case L.Freeze:e.state&&i.stop(!1),i.frozen=!!e.state;break;case L.Stunned:e.state&&i.stop(!1),i.stunned=!!e.state;break;case L.Orientate:i.performAction(e.orientation,Q.Orientate)}}},{key:"handleTeleport",value:function(t){var e=this,n=this.entities.get(t.instance);if(n){var i=n.instance===this.game.player.instance;if(n.stop(!0),n.frozen=!0,i?this.bubble.clean():this.bubble.clear(n.instance),!t.withAnimation)return this.game.teleport(n,t.x,t.y);var r=n.sprite;n.teleporting=!0,n.setSprite(this.sprites.getDeath()),n.animateDeath((function(){e.game.teleport(n,t.x,t.y),n.animation=null,n.setSprite(r),n.idle(),n.teleporting=!1}),240)}}},{key:"handleDespawn",value:function(t){var e=this,n=this.entities.get(t);if(n){if(n.isItem())return this.entities.removeItem(n);if(n.isChest())return this.entities.removeChest(n);n.despawn(),this.bubble.clear(n.instance),this.game.player.hasTarget(n)&&this.game.player.removeTarget(),this.game.player.getDistance(n)<=7&&this.audio.playKill(),n.sprite.hasDeathAnimation||n.setSprite(this.sprites.getDeath()),n.animateDeath((function(){return e.entities.removeEntity(n)}))}}},{key:"handleCombat",value:function(t,e){var n=this.entities.get(e.instance),i=this.entities.get(e.target);if(n&&i&&t===R.Hit){var r=i.instance===this.game.player.instance,o=n.instance===this.game.player.instance;e.hit.terror&&(i.terror=!0),e.hit.type===tt.Critical&&(i.critical=!0),e.hit.aoe||e.hit.poison||(n.lookAt(i),n.performAction(n.orientation,Q.Attack)),o&&e.hit.damage>0&&this.audio.playHit(),r&&e.hit.damage>0&&this.audio.playHurt(),this.info.create(e.hit.type,e.hit.damage,i.x,i.y,r),i.hurtSprite&&i.toggleHurt(),n.triggerHealthBar(),i.triggerHealthBar()}}},{key:"handleAnimation",value:function(t){var e=this.entities.get(t.instance);e&&e.performAction(e.orientation,t.action)}},{key:"handlePoints",value:function(t){var e,n,i=this.entities.get(t.instance);i&&(t.mana&&i.setMana(t.mana,t.maxMana),t.hitPoints&&(i.setHitPoints(t.hitPoints,t.maxHitPoints),null===(e=(n=this.input.hud).updateCallback)||void 0===e||e.call(n,t.instance,t.hitPoints)))}},{key:"handleNetwork",value:function(){this.socket.send(Y.Network,[O.Pong])}},{key:"handleChat",value:function(t){if(t.source)return this.input.chatHandler.add(t.source,t.message,t.colour,!0);var e=this.entities.get(t.instance);e&&(this.input.chatHandler.add(e.name,t.message,t.colour),t.withBubble&&(this.bubble.create(t.instance,t.message),this.bubble.setTo(t.instance,e.x,e.y),this.audio.play(it.SFX,"npctalk")))}},{key:"handleCommand",value:function(t){switch(t.command){case"debug":return void(this.renderer.debugging=!this.renderer.debugging);case"toggleheal":this.game.player.healing=!0;break;case"toggleterror":this.game.player.terror=!0}}},{key:"handleContainer",value:function(t,e){var n=e.type===G.Inventory?this.menu.getInventory():this.menu.getBank();switch(t){case D.Batch:return n.batch(e.data.slots);case D.Add:n.add(e.slot);break;case D.Remove:n.remove(e.slot)}this.menu.synchronize()}},{key:"handleAbility",value:function(){a.debug("Unhandled ability packet.")}},{key:"handleQuest",value:function(t,e){switch(t){case N.Batch:this.game.player.loadQuests(e.quests);break;case N.Progress:this.game.player.setQuest(e.key,e.stage,e.subStage)}this.menu.synchronize()}},{key:"handleAchievement",value:function(t,e){switch(t){case j.Batch:this.game.player.loadAchievements(e.achievements);break;case j.Progress:this.game.player.setAchievement(e.key,e.stage,e.name)}this.menu.synchronize()}},{key:"handleNotification",value:function(t,e){switch(t){case q.Text:return this.input.chatHandler.add("WORLD",e.message,e.colour,!0);case q.Popup:return this.menu.getNotification().show(e.title,e.message,e.colour)}}},{key:"handleBlink",value:function(t){var e=this.entities.get(t);null==e||e.blink()}},{key:"handleHeal",value:function(t){var e=this.entities.get(t.instance);if(e){switch(t.type){case"health":this.info.create(tt.Heal,t.amount,e.x,e.y),this.game.player.healing=!0;break;case"mana":this.info.create(tt.Mana,t.amount,e.x,e.y)}e.triggerHealthBar()}}},{key:"handleExperience",value:function(t,e){var n=this.entities.get(e.instance);if(n){var i=n.instance===this.game.player.instance;switch(t){case M.Combat:n.level!==e.level&&(n.level=e.level,this.info.create(tt.LevelUp,0,n.x,n.y)),console.log(e),i&&(this.game.player.setExperience(e.experience,e.nextExperience,e.prevExperience),this.info.create(tt.Experience,e.amount,n.x,n.y));break;case M.Skill:i&&this.info.create(tt.Profession,e.amount,n.x,n.y)}}}},{key:"handleDeath",value:function(){this.audio.stop(),this.game.player.despawn(),this.app.body.classList.add("death")}},{key:"handleAudio",value:function(t){bt()||(this.audio.newSong=t,this.audio.update())}},{key:"handleNPC",value:function(t,e){var n,i;switch(t){case B.Talk:if(!(n=this.entities.get(e.instance)))return;if(i=e.text?"npc":"npc-end",this.audio.play(it.SFX,i),this.game.player.disableAction=!0,!e.text)return this.bubble.clear(n.instance);this.bubble.create(n.instance,e.text),this.bubble.setTo(n.instance,n.x,n.y);break;case B.Bank:return this.menu.getBank().show(e.slots);case B.Enchant:}}},{key:"handleRespawn",value:function(t){this.game.player.setGridPosition(t.x,t.y),this.entities.registerPosition(this.game.player),this.camera.centreOn(this.game.player),this.game.player.animation=null,this.game.player.setSprite(this.game.sprites.get(this.game.player.getSpriteName())),this.game.player.idle(),this.entities.addEntity(this.game.player),this.game.player.dead=!1}},{key:"handleEnchant",value:function(t,e){switch(t){case F.Select:case F.Remove:}}},{key:"handleGuild",value:function(t){a.debug("Guild Opcode: ".concat(t))}},{key:"handlePointer",value:function(t,e){var n;switch(t){case H.Entity:if(!(n=this.entities.get(e.instance)))return;this.pointer.create(n.instance,t),this.pointer.setToEntity(n);break;case H.Location:this.pointer.create(e.instance,t),this.pointer.setToPosition(e.instance,16*e.x,16*e.y);break;case H.Relative:this.pointer.create(e.instance,t),this.pointer.setRelative(e.instance,e.x,e.y);break;case H.Remove:this.pointer.clean();break;case H.Button:this.pointer.create(e.instance,t,e.button)}}},{key:"handlePVP",value:function(t,e){if(t!==this.game.player.instance){var n=this.entities.get(t);n&&(n.pvp=e)}else this.game.pvp=e}},{key:"handleStore",value:function(t,e){switch(t){case U.Open:return this.menu.getStore().show(e);case U.Update:return this.menu.getStore().update(e);case U.Select:return this.menu.getStore().move(e)}}},{key:"handleOverlay",value:function(t,e){switch(console.log("Overlay Opcode: ".concat(t)),console.log(e),t){case W.Set:this.overlays.update(e.image),this.renderer.updateDarkMask(e.colour);break;case W.Remove:this.renderer.removeAllLights(),this.overlays.update();break;case W.Lamp:return this.renderer.addLight(e.light)}}},{key:"handleCamera",value:function(t){}},{key:"handleBubble",value:function(t){if(!t.text)return this.bubble.clear(t.instance);this.bubble.create(t.instance,t.text,t.duration),this.bubble.setTo(t.instance,t.x,t.y)}},{key:"handleSkill",value:function(t,e){switch(t){case Z.Batch:this.game.player.loadSkills(e.skills);break;case Z.Update:this.game.player.setSkill(e)}this.game.menu.synchronize()}},{key:"handleUpdate",value:function(t){var e=this;this.entities.cleanDisplayInfo(),It.each(t,(function(t){var n=e.entities.get(t.instance);n&&(t.colour&&(n.nameColour=t.colour),t.scale&&(n.customScale=t.scale))}))}}]),t}(),Dr=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Nr=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],jr=function(t){var e=t,n=t.indexOf("["),i=t.indexOf("]");-1!=n&&-1!=i&&(t=t.substring(0,n)+t.substring(n,i).replace(/:/g,";")+t.substring(i,t.length));for(var r,o,a=Dr.exec(t||""),l={},s=14;s--;)l[Nr[s]]=a[s]||"";return-1!=n&&-1!=i&&(l.source=e,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=function(t,e){var n=/\/{2,9}/g,i=e.replace(n,"/").split("/");"/"!=e.substr(0,1)&&0!==e.length||i.splice(0,1);"/"==e.substr(e.length-1,1)&&i.splice(i.length-1,1);return i}(0,l.path),l.queryKey=(r=l.query,o={},r.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,n){e&&(o[e]=n)})),o),l};var qr={exports:{}};try{qr.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(ei){qr.exports=!1}var Mr=qr.exports,Br="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function Fr(t){var e=t.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!e||Mr))return new XMLHttpRequest}catch(ha){}if(!e)try{return new(Br[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(ha){}}function Hr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.reduce((function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e}),{})}var Ur=setTimeout,Wr=clearTimeout;function Vr(t,e){e.useNativeTimers?(t.setTimeoutFn=Ur.bind(Br),t.clearTimeoutFn=Wr.bind(Br)):(t.setTimeoutFn=setTimeout.bind(Br),t.clearTimeoutFn=clearTimeout.bind(Br))}var Zr=Gr;function Gr(t){if(t)return function(t){for(var e in Gr.prototype)t[e]=Gr.prototype[e];return t}(t)}Gr.prototype.on=Gr.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},Gr.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},Gr.prototype.off=Gr.prototype.removeListener=Gr.prototype.removeAllListeners=Gr.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+t];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r=0;r<i.length;r++)if((n=i[r])===e||n.fn===e){i.splice(r,1);break}return 0===i.length&&delete this._callbacks["$"+t],this},Gr.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(n){i=0;for(var r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,e)}return this},Gr.prototype.emitReserved=Gr.prototype.emit,Gr.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},Gr.prototype.hasListeners=function(t){return!!this.listeners(t).length};var $r=Object.create(null);$r.open="0",$r.close="1",$r.ping="2",$r.pong="3",$r.message="4",$r.upgrade="5",$r.noop="6";var Kr=Object.create(null);Object.keys($r).forEach((function(t){Kr[$r[t]]=t}));for(var Qr={type:"error",data:"parser error"},Jr="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),to="function"==typeof ArrayBuffer,eo=function(t,e,n){var i,r=t.type,o=t.data;return Jr&&o instanceof Blob?e?n(o):no(o,n):to&&(o instanceof ArrayBuffer||(i=o,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer))?e?n(o):no(new Blob([o]),n):n($r[r]+(o||""))},no=function(t,e){var n=new FileReader;return n.onload=function(){var t=n.result.split(",")[1];e("b"+t)},n.readAsDataURL(t)},io="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ro="undefined"==typeof Uint8Array?[]:new Uint8Array(256),oo=0;oo<io.length;oo++)ro[io.charCodeAt(oo)]=oo;var ao,lo="function"==typeof ArrayBuffer,so=function(t,e){if("string"!=typeof t)return{type:"message",data:uo(t,e)};var n=t.charAt(0);return"b"===n?{type:"message",data:ho(t.substring(1),e)}:Kr[n]?t.length>1?{type:Kr[n],data:t.substring(1)}:{type:Kr[n]}:Qr},ho=function(t,e){if(lo){var n=function(t){var e,n,i,r,o,a=.75*t.length,l=t.length,s=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var h=new ArrayBuffer(a),u=new Uint8Array(h);for(e=0;e<l;e+=4)n=ro[t.charCodeAt(e)],i=ro[t.charCodeAt(e+1)],r=ro[t.charCodeAt(e+2)],o=ro[t.charCodeAt(e+3)],u[s++]=n<<2|i>>4,u[s++]=(15&i)<<4|r>>2,u[s++]=(3&r)<<6|63&o;return h}(t);return uo(n,e)}return{base64:!0,data:t}},uo=function(t,e){return"blob"===e&&t instanceof ArrayBuffer?new Blob([t]):t},co=String.fromCharCode(30),go=function(t){i(r,t);var n=o(r);function r(t){var e;return f(this,r),(e=n.call(this)).writable=!1,Vr(l(e),t),e.opts=t,e.query=t.query,e.readyState="",e.socket=t.socket,e}return w(r,[{key:"onError",value:function(t,n){var i=new Error(t);return i.type="TransportError",i.description=n,e(s(r.prototype),"emit",this).call(this,"error",i),this}},{key:"open",value:function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}},{key:"close",value:function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}},{key:"send",value:function(t){"open"===this.readyState&&this.write(t)}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,e(s(r.prototype),"emit",this).call(this,"open")}},{key:"onData",value:function(t){var e=so(t,this.socket.binaryType);this.onPacket(e)}},{key:"onPacket",value:function(t){e(s(r.prototype),"emit",this).call(this,"packet",t)}},{key:"onClose",value:function(){this.readyState="closed",e(s(r.prototype),"emit",this).call(this,"close")}}]),r}(Zr),fo="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),po={},wo=0,mo=0;function ko(t){var e="";do{e=fo[t%64]+e,t=Math.floor(t/64)}while(t>0);return e}function vo(){var t=ko(+new Date);return t!==ao?(wo=0,ao=t):t+"."+ko(wo++)}for(;mo<64;mo++)po[fo[mo]]=mo;vo.encode=ko,vo.decode=function(t){var e=0;for(mo=0;mo<t.length;mo++)e=64*e+po[t.charAt(mo)];return e};var _o=vo,yo={encode:function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},decode:function(t){for(var e={},n=t.split("&"),i=0,r=n.length;i<r;i++){var o=n[i].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}},bo=function(t){i(n,t);var e=o(n);function n(){var t;return f(this,n),(t=e.apply(this,arguments)).polling=!1,t}return w(n,[{key:"name",get:function(){return"polling"}},{key:"doOpen",value:function(){this.poll()}},{key:"pause",value:function(t){var e=this;this.readyState="pausing";var n=function(){e.readyState="paused",t()};if(this.polling||!this.writable){var i=0;this.polling&&(i++,this.once("pollComplete",(function(){--i||n()}))),this.writable||(i++,this.once("drain",(function(){--i||n()})))}else n()}},{key:"poll",value:function(){this.polling=!0,this.doPoll(),this.emit("poll")}},{key:"onData",value:function(t){var e=this;(function(t,e){for(var n=t.split(co),i=[],r=0;r<n.length;r++){var o=so(n[r],e);if(i.push(o),"error"===o.type)break}return i})(t,this.socket.binaryType).forEach((function(t){if("opening"===e.readyState&&"open"===t.type&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState&&this.poll())}},{key:"doClose",value:function(){var t=this,e=function(){t.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}},{key:"write",value:function(t){var e=this;this.writable=!1,function(t,e){var n=t.length,i=new Array(n),r=0;t.forEach((function(t,o){eo(t,!1,(function(t){i[o]=t,++r===n&&e(i.join(co))}))}))}(t,(function(t){e.doWrite(t,(function(){e.writable=!0,e.emit("drain")}))}))}},{key:"uri",value:function(){var t=this.query||{},e=this.opts.secure?"https":"http",n="";!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=_o()),this.supportsBinary||t.sid||(t.b64=1),this.opts.port&&("https"===e&&443!==Number(this.opts.port)||"http"===e&&80!==Number(this.opts.port))&&(n=":"+this.opts.port);var i=yo.encode(t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(i.length?"?"+i:"")}}]),n}(go);function xo(){}var Co=null!=new Fr({xdomain:!1}).responseType,So=function(t){i(n,t);var e=o(n);function n(t){var i;if(f(this,n),i=e.call(this,t),"undefined"!=typeof location){var r="https:"===location.protocol,o=location.port;o||(o=r?"443":"80"),i.xd="undefined"!=typeof location&&t.hostname!==location.hostname||o!==t.port,i.xs=t.secure!==r}var a=t&&t.forceBase64;return i.supportsBinary=Co&&!a,i}return w(n,[{key:"request",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new Io(this.uri(),t)}},{key:"doWrite",value:function(t,e){var n=this,i=this.request({method:"POST",data:t});i.on("success",e),i.on("error",(function(t){n.onError("xhr post error",t)}))}},{key:"doPoll",value:function(){var t=this,e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e}}]),n}(bo),Io=function(t){i(n,t);var e=o(n);function n(t,i){var r;return f(this,n),Vr(l(r=e.call(this)),i),r.opts=i,r.method=i.method||"GET",r.uri=t,r.async=!1!==i.async,r.data=void 0!==i.data?i.data:null,r.create(),r}return w(n,[{key:"create",value:function(){var t=this,e=Hr(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;var i=this.xhr=new Fr(e);try{i.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders)for(var r in i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&i.setRequestHeader(r,this.opts.extraHeaders[r])}catch(ha){}if("POST"===this.method)try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(ha){}try{i.setRequestHeader("Accept","*/*")}catch(ha){}"withCredentials"in i&&(i.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(i.timeout=this.opts.requestTimeout),i.onreadystatechange=function(){4===i.readyState&&(200===i.status||1223===i.status?t.onLoad():t.setTimeoutFn((function(){t.onError("number"==typeof i.status?i.status:0)}),0))},i.send(this.data)}catch(ha){return void this.setTimeoutFn((function(){t.onError(ha)}),0)}"undefined"!=typeof document&&(this.index=n.requestsCount++,n.requests[this.index]=this)}},{key:"onSuccess",value:function(){this.emit("success"),this.cleanup()}},{key:"onData",value:function(t){this.emit("data",t),this.onSuccess()}},{key:"onError",value:function(t){this.emit("error",t),this.cleanup(!0)}},{key:"cleanup",value:function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=xo,t)try{this.xhr.abort()}catch(ha){}"undefined"!=typeof document&&delete n.requests[this.index],this.xhr=null}}},{key:"onLoad",value:function(){var t=this.xhr.responseText;null!==t&&this.onData(t)}},{key:"abort",value:function(){this.cleanup()}}]),n}(Zr);if(Io.requestsCount=0,Io.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",Eo);else if("function"==typeof addEventListener){addEventListener("onpagehide"in Br?"pagehide":"unload",Eo,!1)}function Eo(){for(var t in Io.requests)Io.requests.hasOwnProperty(t)&&Io.requests[t].abort()}var Xo="function"==typeof Promise&&"function"==typeof Promise.resolve?function(t){return Promise.resolve().then(t)}:function(t,e){return e(t,0)},Yo=Br.WebSocket||Br.MozWebSocket,Ao="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),To=function(t){i(n,t);var e=o(n);function n(t){var i;return f(this,n),(i=e.call(this,t)).supportsBinary=!t.forceBase64,i}return w(n,[{key:"name",get:function(){return"websocket"}},{key:"doOpen",value:function(){if(this.check()){var t=this.uri(),e=this.opts.protocols,n=Ao?{}:Hr(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Ao?new Yo(t,e,n):e?new Yo(t,e):new Yo(t)}catch(ei){return this.emit("error",ei)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}}},{key:"addEventListeners",value:function(){var t=this;this.ws.onopen=function(){t.opts.autoUnref&&t.ws._socket.unref(),t.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=function(e){return t.onData(e.data)},this.ws.onerror=function(e){return t.onError("websocket error",e)}}},{key:"write",value:function(t){var e=this;this.writable=!1;for(var n=function(n){var i=t[n],r=n===t.length-1;eo(i,e.supportsBinary,(function(t){try{e.ws.send(t)}catch(ha){}r&&Xo((function(){e.writable=!0,e.emit("drain")}),e.setTimeoutFn)}))},i=0;i<t.length;i++)n(i)}},{key:"doClose",value:function(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var t=this.query||{},e=this.opts.secure?"wss":"ws",n="";this.opts.port&&("wss"===e&&443!==Number(this.opts.port)||"ws"===e&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=_o()),this.supportsBinary||(t.b64=1);var i=yo.encode(t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(i.length?"?"+i:"")}},{key:"check",value:function(){return!(!Yo||"__initialize"in Yo&&this.name===n.prototype.name)}}]),n}(go),Lo={websocket:To,polling:So},Po=function(t){i(n,t);var e=o(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f(this,n),i=e.call(this),t&&"object"===u(t)&&(r=t,t=null),t?(t=jr(t),r.hostname=t.host,r.secure="https"===t.protocol||"wss"===t.protocol,r.port=t.port,t.query&&(r.query=t.query)):r.host&&(r.hostname=jr(r.host).host),Vr(l(i),r),i.secure=null!=r.secure?r.secure:"undefined"!=typeof location&&"https:"===location.protocol,r.hostname&&!r.port&&(r.port=i.secure?"443":"80"),i.hostname=r.hostname||("undefined"!=typeof location?location.hostname:"localhost"),i.port=r.port||("undefined"!=typeof location&&location.port?location.port:i.secure?"443":"80"),i.transports=r.transports||["polling","websocket"],i.readyState="",i.writeBuffer=[],i.prevBufferLen=0,i.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},r),i.opts.path=i.opts.path.replace(/\/$/,"")+"/","string"==typeof i.opts.query&&(i.opts.query=yo.decode(i.opts.query)),i.id=null,i.upgrades=null,i.pingInterval=null,i.pingTimeout=null,i.pingTimeoutTimer=null,"function"==typeof addEventListener&&(i.opts.closeOnBeforeunload&&addEventListener("beforeunload",(function(){i.transport&&(i.transport.removeAllListeners(),i.transport.close())}),!1),"localhost"!==i.hostname&&(i.offlineEventListener=function(){i.onClose("transport close")},addEventListener("offline",i.offlineEventListener,!1))),i.open(),i}return w(n,[{key:"createTransport",value:function(t){var e=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(this.opts.query);e.EIO=4,e.transport=t,this.id&&(e.sid=this.id);var n=Object.assign({},this.opts.transportOptions[t],this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Lo[t](n)}},{key:"open",value:function(){var t,e=this;if(this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((function(){e.emitReserved("error","No transports available")}),0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(ha){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}},{key:"setTransport",value:function(t){var e=this;this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(function(){e.onClose("transport close")}))}},{key:"probe",value:function(t){var e=this,i=this.createTransport(t),r=!1;n.priorWebsocketSuccess=!1;var o=function(){r||(i.send([{type:"ping",data:"probe"}]),i.once("packet",(function(t){if(!r)if("pong"===t.type&&"probe"===t.data){if(e.upgrading=!0,e.emitReserved("upgrading",i),!i)return;n.priorWebsocketSuccess="websocket"===i.name,e.transport.pause((function(){r||"closed"!==e.readyState&&(d(),e.setTransport(i),i.send([{type:"upgrade"}]),e.emitReserved("upgrade",i),i=null,e.upgrading=!1,e.flush())}))}else{var o=new Error("probe error");o.transport=i.name,e.emitReserved("upgradeError",o)}})))};function a(){r||(r=!0,d(),i.close(),i=null)}var l=function(t){var n=new Error("probe error: "+t);n.transport=i.name,a(),e.emitReserved("upgradeError",n)};function s(){l("transport closed")}function h(){l("socket closed")}function u(t){i&&t.name!==i.name&&a()}var d=function(){i.removeListener("open",o),i.removeListener("error",l),i.removeListener("close",s),e.off("close",h),e.off("upgrading",u)};i.once("open",o),i.once("error",l),i.once("close",s),this.once("close",h),this.once("upgrading",u),i.open()}},{key:"onOpen",value:function(){if(this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause)for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},{key:"onPacket",value:function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}},{key:"onHandshake",value:function(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}},{key:"resetPingTimeout",value:function(){var t=this;this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((function(){t.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}},{key:"onDrain",value:function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}},{key:"flush",value:function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emitReserved("flush"))}},{key:"write",value:function(t,e,n){return this.sendPacket("message",t,e,n),this}},{key:"send",value:function(t,e,n){return this.sendPacket("message",t,e,n),this}},{key:"sendPacket",value:function(t,e,n,i){if("function"==typeof e&&(i=e,e=void 0),"function"==typeof n&&(i=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var r={type:t,data:e,options:n};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),i&&this.once("flush",i),this.flush()}}},{key:"close",value:function(){var t=this,e=function(){t.onClose("forced close"),t.transport.close()},n=function n(){t.off("upgrade",n),t.off("upgradeError",n),e()},i=function(){t.once("upgrade",n),t.once("upgradeError",n)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(function(){t.upgrading?i():e()})):this.upgrading?i():e()),this}},{key:"onError",value:function(t){n.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}},{key:"onClose",value:function(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)}},{key:"filterUpgrades",value:function(t){for(var e=[],n=0,i=t.length;n<i;n++)~this.transports.indexOf(t[n])&&e.push(t[n]);return e}}]),n}(Zr);Po.protocol=4,Po.protocol;var Ro="function"==typeof ArrayBuffer,zo=Object.prototype.toString,Oo="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===zo.call(Blob),Do="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===zo.call(File);function No(t){return Ro&&(t instanceof ArrayBuffer||function(t){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer}(t))||Oo&&t instanceof Blob||Do&&t instanceof File}function jo(t,e){if(!t||"object"!==u(t))return!1;if(Array.isArray(t)){for(var n=0,i=t.length;n<i;n++)if(jo(t[n]))return!0;return!1}if(No(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return jo(t.toJSON(),!0);for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&jo(t[r]))return!0;return!1}function qo(t){var e=[],n=t.data,i=t;return i.data=Mo(n,e),i.attachments=e.length,{packet:i,buffers:e}}function Mo(t,e){if(!t)return t;if(No(t)){var n={_placeholder:!0,num:e.length};return e.push(t),n}if(Array.isArray(t)){for(var i=new Array(t.length),r=0;r<t.length;r++)i[r]=Mo(t[r],e);return i}if("object"===u(t)&&!(t instanceof Date)){var o={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(o[a]=Mo(t[a],e));return o}return t}function Bo(t,e){return t.data=Fo(t.data,e),t.attachments=void 0,t}function Fo(t,e){if(!t)return t;if(t&&t._placeholder)return e[t.num];if(Array.isArray(t))for(var n=0;n<t.length;n++)t[n]=Fo(t[n],e);else if("object"===u(t))for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(t[i]=Fo(t[i],e));return t}var Ho;!function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"}(Ho||(Ho={}));var Uo=function(){function t(){f(this,t)}return w(t,[{key:"encode",value:function(t){return t.type!==Ho.EVENT&&t.type!==Ho.ACK||!jo(t)?[this.encodeAsString(t)]:(t.type=t.type===Ho.EVENT?Ho.BINARY_EVENT:Ho.BINARY_ACK,this.encodeAsBinary(t))}},{key:"encodeAsString",value:function(t){var e=""+t.type;return t.type!==Ho.BINARY_EVENT&&t.type!==Ho.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data)),e}},{key:"encodeAsBinary",value:function(t){var e=qo(t),n=this.encodeAsString(e.packet),i=e.buffers;return i.unshift(n),i}}]),t}(),Wo=function(t){i(r,t);var n=o(r);function r(){return f(this,r),n.call(this)}return w(r,[{key:"add",value:function(t){var n;if("string"==typeof t)(n=this.decodeString(t)).type===Ho.BINARY_EVENT||n.type===Ho.BINARY_ACK?(this.reconstructor=new Vo(n),0===n.attachments&&e(s(r.prototype),"emitReserved",this).call(this,"decoded",n)):e(s(r.prototype),"emitReserved",this).call(this,"decoded",n);else{if(!No(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,e(s(r.prototype),"emitReserved",this).call(this,"decoded",n))}}},{key:"decodeString",value:function(t){var e=0,n={type:Number(t.charAt(0))};if(void 0===Ho[n.type])throw new Error("unknown packet type "+n.type);if(n.type===Ho.BINARY_EVENT||n.type===Ho.BINARY_ACK){for(var i=e+1;"-"!==t.charAt(++e)&&e!=t.length;);var o=t.substring(i,e);if(o!=Number(o)||"-"!==t.charAt(e))throw new Error("Illegal attachments");n.attachments=Number(o)}if("/"===t.charAt(e+1)){for(var a=e+1;++e;){if(","===t.charAt(e))break;if(e===t.length)break}n.nsp=t.substring(a,e)}else n.nsp="/";var l=t.charAt(e+1);if(""!==l&&Number(l)==l){for(var s=e+1;++e;){var h=t.charAt(e);if(null==h||Number(h)!=h){--e;break}if(e===t.length)break}n.id=Number(t.substring(s,e+1))}if(t.charAt(++e)){var u=function(t){try{return JSON.parse(t)}catch(ha){return!1}}(t.substr(e));if(!r.isPayloadValid(n.type,u))throw new Error("invalid payload");n.data=u}return n}},{key:"destroy",value:function(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}],[{key:"isPayloadValid",value:function(t,e){switch(t){case Ho.CONNECT:return"object"===u(e);case Ho.DISCONNECT:return void 0===e;case Ho.CONNECT_ERROR:return"string"==typeof e||"object"===u(e);case Ho.EVENT:case Ho.BINARY_EVENT:return Array.isArray(e)&&e.length>0;case Ho.ACK:case Ho.BINARY_ACK:return Array.isArray(e)}}}]),r}(Zr);var Vo=function(){function t(e){f(this,t),this.packet=e,this.buffers=[],this.reconPack=e}return w(t,[{key:"takeBinaryData",value:function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=Bo(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),t}(),Zo=Object.freeze(Object.defineProperty({__proto__:null,protocol:5,get PacketType(){return Ho},Encoder:Uo,Decoder:Wo},Symbol.toStringTag,{value:"Module"}));function Go(t,e,n){return t.on(e,n),function(){t.off(e,n)}}var $o=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Ko=function(t){i(r,t);var n=o(r);function r(t,e,i){var o;return f(this,r),(o=n.call(this)).connected=!1,o.disconnected=!0,o.receiveBuffer=[],o.sendBuffer=[],o.ids=0,o.acks={},o.flags={},o.io=t,o.nsp=e,i&&i.auth&&(o.auth=i.auth),o.io._autoConnect&&o.open(),o}return w(r,[{key:"subEvents",value:function(){if(!this.subs){var t=this.io;this.subs=[Go(t,"open",this.onopen.bind(this)),Go(t,"packet",this.onpacket.bind(this)),Go(t,"error",this.onerror.bind(this)),Go(t,"close",this.onclose.bind(this))]}}},{key:"active",get:function(){return!!this.subs}},{key:"connect",value:function(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.unshift("message"),this.emit.apply(this,e),this}},{key:"emit",value:function(t){if($o.hasOwnProperty(t))throw new Error('"'+t+'" is a reserved event name');for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];n.unshift(t);var r={type:Ho.EVENT,data:n,options:{}};if(r.options.compress=!1!==this.flags.compress,"function"==typeof n[n.length-1]){var o=this.ids++,a=n.pop();this._registerAckCallback(o,a),r.id=o}var l=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,s=this.flags.volatile&&(!l||!this.connected);return s||(this.connected?this.packet(r):this.sendBuffer.push(r)),this.flags={},this}},{key:"_registerAckCallback",value:function(t,e){var n=this,i=this.flags.timeout;if(void 0!==i){var r=this.io.setTimeoutFn((function(){delete n.acks[t];for(var i=0;i<n.sendBuffer.length;i++)n.sendBuffer[i].id===t&&n.sendBuffer.splice(i,1);e.call(n,new Error("operation has timed out"))}),i);this.acks[t]=function(){n.io.clearTimeoutFn(r);for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];e.apply(n,[null].concat(i))}}else this.acks[t]=e}},{key:"packet",value:function(t){t.nsp=this.nsp,this.io._packet(t)}},{key:"onopen",value:function(){var t=this;"function"==typeof this.auth?this.auth((function(e){t.packet({type:Ho.CONNECT,data:e})})):this.packet({type:Ho.CONNECT,data:this.auth})}},{key:"onerror",value:function(t){this.connected||this.emitReserved("connect_error",t)}},{key:"onclose",value:function(t){this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",t)}},{key:"onpacket",value:function(t){if(t.nsp===this.nsp)switch(t.type){case Ho.CONNECT:if(t.data&&t.data.sid){var e=t.data.sid;this.onconnect(e)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ho.EVENT:case Ho.BINARY_EVENT:this.onevent(t);break;case Ho.ACK:case Ho.BINARY_ACK:this.onack(t);break;case Ho.DISCONNECT:this.ondisconnect();break;case Ho.CONNECT_ERROR:this.destroy();var n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n)}}},{key:"onevent",value:function(t){var e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}},{key:"emitEvent",value:function(t){if(this._anyListeners&&this._anyListeners.length){var n,i=m(this._anyListeners.slice());try{for(i.s();!(n=i.n()).done;){n.value.apply(this,t)}}catch(ei){i.e(ei)}finally{i.f()}}e(s(r.prototype),"emit",this).apply(this,t)}},{key:"ack",value:function(t){var e=this,n=!1;return function(){if(!n){n=!0;for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];e.packet({type:Ho.ACK,id:t,data:r})}}}},{key:"onack",value:function(t){var e=this.acks[t.id];"function"==typeof e&&(e.apply(this,t.data),delete this.acks[t.id])}},{key:"onconnect",value:function(t){this.id=t,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}},{key:"emitBuffered",value:function(){var t=this;this.receiveBuffer.forEach((function(e){return t.emitEvent(e)})),this.receiveBuffer=[],this.sendBuffer.forEach((function(e){return t.packet(e)})),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach((function(t){return t()})),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&this.packet({type:Ho.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(t){return this.flags.compress=t,this}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}},{key:"timeout",value:function(t){return this.flags.timeout=t,this}},{key:"onAny",value:function(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}},{key:"prependAny",value:function(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}},{key:"offAny",value:function(t){if(!this._anyListeners)return this;if(t){for(var e=this._anyListeners,n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}}]),r}(Zr),Qo=Jo;function Jo(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Jo.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},Jo.prototype.reset=function(){this.attempts=0},Jo.prototype.setMin=function(t){this.ms=t},Jo.prototype.setMax=function(t){this.max=t},Jo.prototype.setJitter=function(t){this.jitter=t};var ta=function(t){i(n,t);var e=o(n);function n(t,i){var r,o;f(this,n),(r=e.call(this)).nsps={},r.subs=[],t&&"object"===u(t)&&(i=t,t=void 0),(i=i||{}).path=i.path||"/socket.io",r.opts=i,Vr(l(r),i),r.reconnection(!1!==i.reconnection),r.reconnectionAttempts(i.reconnectionAttempts||1/0),r.reconnectionDelay(i.reconnectionDelay||1e3),r.reconnectionDelayMax(i.reconnectionDelayMax||5e3),r.randomizationFactor(null!==(o=i.randomizationFactor)&&void 0!==o?o:.5),r.backoff=new Qo({min:r.reconnectionDelay(),max:r.reconnectionDelayMax(),jitter:r.randomizationFactor()}),r.timeout(null==i.timeout?2e4:i.timeout),r._readyState="closed",r.uri=t;var a=i.parser||Zo;return r.encoder=new a.Encoder,r.decoder=new a.Decoder,r._autoConnect=!1!==i.autoConnect,r._autoConnect&&r.open(),r}return w(n,[{key:"reconnection",value:function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}},{key:"reconnectionAttempts",value:function(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}},{key:"reconnectionDelay",value:function(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}},{key:"randomizationFactor",value:function(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}},{key:"reconnectionDelayMax",value:function(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}},{key:"timeout",value:function(t){return arguments.length?(this._timeout=t,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:"open",value:function(t){var e=this;if(~this._readyState.indexOf("open"))return this;this.engine=new Po(this.uri,this.opts);var n=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;var r=Go(n,"open",(function(){i.onopen(),t&&t()})),o=Go(n,"error",(function(n){i.cleanup(),i._readyState="closed",e.emitReserved("error",n),t?t(n):i.maybeReconnectOnOpen()}));if(!1!==this._timeout){var a=this._timeout;0===a&&r();var l=this.setTimeoutFn((function(){r(),n.close(),n.emit("error",new Error("timeout"))}),a);this.opts.autoUnref&&l.unref(),this.subs.push((function(){clearTimeout(l)}))}return this.subs.push(r),this.subs.push(o),this}},{key:"connect",value:function(t){return this.open(t)}},{key:"onopen",value:function(){this.cleanup(),this._readyState="open",this.emitReserved("open");var t=this.engine;this.subs.push(Go(t,"ping",this.onping.bind(this)),Go(t,"data",this.ondata.bind(this)),Go(t,"error",this.onerror.bind(this)),Go(t,"close",this.onclose.bind(this)),Go(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(t){this.decoder.add(t)}},{key:"ondecoded",value:function(t){this.emitReserved("packet",t)}},{key:"onerror",value:function(t){this.emitReserved("error",t)}},{key:"socket",value:function(t,e){var n=this.nsps[t];return n||(n=new Ko(this,t,e),this.nsps[t]=n),n}},{key:"_destroy",value:function(t){for(var e=0,n=Object.keys(this.nsps);e<n.length;e++){var i=n[e];if(this.nsps[i].active)return}this._close()}},{key:"_packet",value:function(t){for(var e=this.encoder.encode(t),n=0;n<e.length;n++)this.engine.write(e[n],t.options)}},{key:"cleanup",value:function(){this.subs.forEach((function(t){return t()})),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var t=this;if(this._reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var n=this.backoff.duration();this._reconnecting=!0;var i=this.setTimeoutFn((function(){e.skipReconnect||(t.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((function(n){n?(e._reconnecting=!1,e.reconnect(),t.emitReserved("reconnect_error",n)):e.onreconnect()})))}),n);this.opts.autoUnref&&i.unref(),this.subs.push((function(){clearTimeout(i)}))}}},{key:"onreconnect",value:function(){var t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}]),n}(Zr),ea={};function na(t,e){"object"===u(t)&&(e=t,t=void 0);var n,i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i=t;n=n||"undefined"!=typeof location&&location,null==t&&(t=n.protocol+"//"+n.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(t=void 0!==n?n.protocol+"//"+t:"https://"+t),i=jr(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";var r=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+r+":"+i.port+e,i.href=i.protocol+"://"+r+(n&&n.port===i.port?"":":"+i.port),i}(t,(e=e||{}).path||"/socket.io"),r=i.source,o=i.id,a=i.path,l=ea[o]&&a in ea[o].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||l?n=new ta(r,e):(ea[o]||(ea[o]=new ta(r,e)),n=ea[o]),i.query&&!e.query&&(e.query=i.queryKey),n.socket(i.path,e)}Object.assign(na,{Manager:ta,Socket:Ko,io:na,connect:na});var ia=function(){function e(t){var n=this;f(this,e),this.game=t,this.app=this.game.app;var i=[];i[Y.Handshake]=function(){return n.handshakeCallback},i[Y.Welcome]=function(){return n.welcomeCallback},i[Y.Spawn]=function(){return n.spawnCallback},i[Y.Equipment]=function(){return n.equipmentCallback},i[Y.List]=function(){return n.entityListCallback},i[Y.Sync]=function(){return n.syncCallback},i[Y.Movement]=function(){return n.movementCallback},i[Y.Teleport]=function(){return n.teleportCallback},i[Y.Despawn]=function(){return n.despawnCallback},i[Y.Combat]=function(){return n.combatCallback},i[Y.Animation]=function(){return n.animationCallback},i[Y.Points]=function(){return n.pointsCallback},i[Y.Network]=function(){return n.networkCallback},i[Y.Chat]=function(){return n.chatCallback},i[Y.Command]=function(){return n.commandCallback},i[Y.Container]=function(){return n.containerCallback},i[Y.Ability]=function(){return n.abilityCallback},i[Y.Quest]=function(){return n.questCallback},i[Y.Achievement]=function(){return n.achievementCallback},i[Y.Notification]=function(){return n.notificationCallback},i[Y.Blink]=function(){return n.blinkCallback},i[Y.Heal]=function(){return n.healCallback},i[Y.Experience]=function(){return n.experienceCallback},i[Y.Death]=function(){return n.deathCallback},i[Y.Audio]=function(){return n.audioCallback},i[Y.NPC]=function(){return n.npcCallback},i[Y.Respawn]=function(){return n.respawnCallback},i[Y.Enchant]=function(){return n.enchantCallback},i[Y.Guild]=function(){return n.guildCallback},i[Y.Pointer]=function(){return n.pointerCallback},i[Y.PVP]=function(){return n.pvpCallback},i[Y.Store]=function(){return n.storeCallback},i[Y.Map]=function(){return n.mapCallback},i[Y.Overlay]=function(){return n.overlayCallback},i[Y.Camera]=function(){return n.cameraCallback},i[Y.Bubble]=function(){return n.bubbleCallback},i[Y.Skill]=function(){return n.skillCallback},i[Y.Update]=function(){return n.updateCallback},this.messages=i}return w(e,[{key:"handleData",value:function(e){var n=e.shift(),i=this.messages[n]();i&&It.isFunction(i)&&i.call.apply(i,[this].concat(t(e)))}},{key:"handleBulkData",value:function(t){It.each(t,this.handleData.bind(this))}},{key:"handleUTF8",value:function(t){switch(this.app.toggleLogin(!1),t){case"full":this.app.sendError("The servers are currently full!");break;case"error":this.app.sendError("The server has responded with an error!");break;case"development":this.app.sendError("The game is currently in development mode.");break;case"disallowed":this.app.sendError("The server is currently not accepting connections!");break;case"maintenance":this.app.sendError("Kaetram is currently under maintenance.");break;case"userexists":this.app.sendError("The username you have chosen already exists.");break;case"emailexists":this.app.sendError("The email you have chosen is not available.");break;case"invalidinput":this.app.sendError("The input you have provided is invalid.");break;case"loggedin":this.app.sendError("The player is already logged in!");break;case"invalidlogin":this.app.sendError("You have entered the wrong username or password.");break;case"toofast":this.app.sendError("You are trying to log in too fast from the same connection.");break;case"timeout":this.app.sendError("You have been disconnected for being inactive for too long.");break;default:this.app.sendError("An unknown error has occurred, please submit a bug report.")}}},{key:"onHandshake",value:function(t){this.handshakeCallback=t}},{key:"onWelcome",value:function(t){this.welcomeCallback=t}},{key:"onSpawn",value:function(t){this.spawnCallback=t}},{key:"onEquipment",value:function(t){this.equipmentCallback=t}},{key:"onEntityList",value:function(t){this.entityListCallback=t}},{key:"onSync",value:function(t){this.syncCallback=t}},{key:"onMovement",value:function(t){this.movementCallback=t}},{key:"onTeleport",value:function(t){this.teleportCallback=t}},{key:"onDespawn",value:function(t){this.despawnCallback=t}},{key:"onCombat",value:function(t){this.combatCallback=t}},{key:"onAnimation",value:function(t){this.animationCallback=t}},{key:"onPoints",value:function(t){this.pointsCallback=t}},{key:"onNetwork",value:function(t){this.networkCallback=t}},{key:"onChat",value:function(t){this.chatCallback=t}},{key:"onCommand",value:function(t){this.commandCallback=t}},{key:"onContainer",value:function(t){this.containerCallback=t}},{key:"onAbility",value:function(t){this.abilityCallback=t}},{key:"onQuest",value:function(t){this.questCallback=t}},{key:"onAchievement",value:function(t){this.achievementCallback=t}},{key:"onNotification",value:function(t){this.notificationCallback=t}},{key:"onBlink",value:function(t){this.blinkCallback=t}},{key:"onHeal",value:function(t){this.healCallback=t}},{key:"onExperience",value:function(t){this.experienceCallback=t}},{key:"onDeath",value:function(t){this.deathCallback=t}},{key:"onAudio",value:function(t){this.audioCallback=t}},{key:"onNPC",value:function(t){this.npcCallback=t}},{key:"onRespawn",value:function(t){this.respawnCallback=t}},{key:"onEnchant",value:function(t){this.enchantCallback=t}},{key:"onGuild",value:function(t){this.guildCallback=t}},{key:"onPointer",value:function(t){this.pointerCallback=t}},{key:"onPVP",value:function(t){this.pvpCallback=t}},{key:"onStore",value:function(t){this.storeCallback=t}},{key:"onMap",value:function(t){this.mapCallback=t}},{key:"onOverlay",value:function(t){this.overlayCallback=t}},{key:"onCamera",value:function(t){this.cameraCallback=t}},{key:"onBubble",value:function(t){this.bubbleCallback=t}},{key:"onSkill",value:function(t){this.skillCallback=t}},{key:"onUpdate",value:function(t){this.updateCallback=t}}]),e}(),ra=function(){function t(e){f(this,t),this.game=e,this.listening=!1,this.config=e.app.config,this.messages=new ia(e)}return w(t,[{key:"getServer",value:function(t){if(!this.config.hub)return t();try{Yt.get("".concat(this.config.hub,"/server"),(function(e){console.log(e),t("error"===e.status?void 0:e)}))}catch(e){t()}}},{key:"connect",value:function(){var t=this;this.getServer((function(e){var n=e||t.config,i=n.host,r=n.port,o=t.config.ssl?"wss://".concat(i):"ws://".concat(i,":").concat(r);t.connection=na(o,{forceNew:!0,reconnection:!1}),t.connection.on("connect",t.handleConnection.bind(t)),t.connection.on("connect_error",(function(){return t.handleConnectionError(i,r)})),t.connection.on("message",(function(e){return t.receive(e.message||e)})),t.connection.on("disconnect",(function(){return t.game.handleDisconnection()}))}))}},{key:"receive",value:function(t){if(this.listening)if(t.startsWith("[")){var e=JSON.parse(t);e.length>1?this.messages.handleBulkData(e):this.messages.handleData(e.shift())}else this.messages.handleUTF8(t)}},{key:"send",value:function(t,e){var n,i=JSON.stringify([t,e]);null!==(n=this.connection)&&void 0!==n&&n.connected&&this.connection.send(i)}},{key:"handleConnection",value:function(){this.listening=!0,a.info("Connection established..."),this.game.app.updateLoader("Preparing Handshake"),this.connection.emit("client",{gVer:this.config.version,cType:"HTML5"})}},{key:"handleConnectionError",value:function(t,e){a.info("Failed to connect to: ".concat(t)),this.listening=!1,this.game.app.toggleLogin(!1),this.game.app.sendError("Could not connect to the game server.")}}]),t}(),oa=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16;f(this,t),this.width=e,this.height=n,this.tileSize=i,this.border=Yt("#border"),this.x=0,this.y=0,this.gridX=0,this.gridY=0,this.gridWidth=0,this.gridHeight=0,this.borderX=0,this.borderY=0,this.zoomFactor=3,this.centered=!0,this.lockX=!1,this.lockY=!1,this.update()}return w(t,[{key:"update",value:function(){var t=this.border.width(),e=this.border.height();this.gridWidth=Math.ceil(t/this.tileSize/this.zoomFactor),this.gridHeight=Math.ceil(e/this.tileSize/this.zoomFactor),this.borderX=(this.width-this.gridWidth)*this.tileSize,this.borderY=(this.height-this.gridHeight)*this.tileSize}},{key:"setGridPosition",value:function(t,e){this.gridX=t,this.gridY=e,this.x=t*this.tileSize,this.y=e*this.tileSize}},{key:"clip",value:function(){this.setGridPosition(Math.round(this.x/this.tileSize),Math.round(this.y/this.tileSize))}},{key:"center",value:function(){this.centered=!0}},{key:"decenter",value:function(){this.centered=!1,this.clip()}},{key:"centreOn",value:function(t){var e=Math.floor(this.gridWidth/2),n=Math.floor(this.gridHeight/2),i=t.x-e*this.tileSize,r=t.y-n*this.tileSize;i>=0&&i<=this.borderX&&!this.lockX?(this.x=i,this.gridX=Math.round(t.x/this.tileSize)-e):this.offsetX(i),r>=0&&r<=this.borderY&&!this.lockY?(this.y=r,this.gridY=Math.round(t.y/this.tileSize)-n):this.offsetY(r)}},{key:"offsetX",value:function(t){t<=this.tileSize?(this.x=0,this.gridX=0):t>=this.borderX&&(this.x=this.borderX,this.gridX=Math.round(this.borderX/this.tileSize))}},{key:"offsetY",value:function(t){t<=this.tileSize?(this.y=0,this.gridY=0):t>=this.borderY&&(this.y=this.borderY,this.gridY=Math.round(this.borderY/this.tileSize))}},{key:"zone",value:function(t){switch(t){case $.Up:this.setGridPosition(this.gridX,this.gridY-this.gridHeight+3);break;case $.Down:this.setGridPosition(this.gridX,this.gridY+this.gridHeight-3);break;case $.Right:this.setGridPosition(this.gridX+this.gridWidth-3,this.gridY);break;case $.Left:this.setGridPosition(this.gridX-this.gridWidth+3,this.gridY)}this.zoneClip()}},{key:"zoneClip",value:function(){this.gridX<0&&this.setGridPosition(0,this.gridY),this.gridX>this.width&&this.setGridPosition(this.width,this.gridY),this.gridY<0&&this.setGridPosition(this.gridX,0),this.gridY>this.height&&this.setGridPosition(this.gridX,this.height)}},{key:"zoom",value:function(t){this.zoomFactor+=t,this.zoomFactor>6&&(this.zoomFactor=6),this.zoomFactor<2.6&&(this.zoomFactor=2.6),this.zoomFactor=parseFloat(this.zoomFactor.toFixed(1))}},{key:"isCentered",value:function(){return this.centered}},{key:"isVisible",value:function(t,e,n,i){return t>this.gridX-n&&t<this.gridX+this.gridWidth&&e>this.gridY-n&&e<this.gridY+this.gridHeight+i}},{key:"forEachVisiblePosition",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.gridY-e,i=n+this.gridHeight+2*e;n<i;n++)for(var r=this.gridX-e,o=r+this.gridWidth+2*e;r<o;r++)t(r,n)}}]),t}(),aa=function(){function t(){f(this,t),this.currentOverlay="",this.overlays={fog:this.load("fog")}}return w(t,[{key:"load",value:function(t){var e=new Image,n="/img/overlays/".concat(t,".png");return e.crossOrigin="Anonymous",e.src=n,e.addEventListener("load",(function(){return a.debug("Loaded ".concat(t))})),e}},{key:"hasOverlay",value:function(){return""!==this.currentOverlay}},{key:"get",value:function(){return this.overlays[this.currentOverlay]}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.currentOverlay=t}}]),t}(),la=function(){function t(e,n,i){f(this,t),this.id=e,this.index=n,this.animationInfo=i,this.x=-1,this.y=-1,this.animationIndex=0,this.lastTime=0}return w(t,[{key:"animate",value:function(t){t-this.lastTime>this.animationInfo[this.animationIndex].duration&&(this.id=this.animationInfo[this.animationIndex].tileId,this.lastTime=t,this.animationIndex>=Object.keys(this.animationInfo).length-1?this.animationIndex=0:this.animationIndex++)}},{key:"setPosition",value:function(t){this.x=t.x,this.y=t.y}}]),t}(),sa=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;f(this,t),this.x=e,this.y=n}return w(t,[{key:"copy",value:function(){return new t(this.x,this.y)}},{key:"dot",value:function(t){return t.x*this.x+t.y*this.y}},{key:"sub",value:function(e){return new t(this.x-e.x,this.y-e.y)}},{key:"add",value:function(e){return new t(this.x+e.x,this.y+e.y)}},{key:"mul",value:function(e){return new t(this.x*e,this.y*e)}},{key:"inv",value:function(){return this.mul(-1)}},{key:"dist2",value:function(t){return Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2)}},{key:"normalize",value:function(){var e=Math.sqrt(this.length2());return new t(this.x/e||0,this.y/e||0)}},{key:"length2",value:function(){return Math.pow(this.x,2)+Math.pow(this.y,2)}},{key:"toString",value:function(){return"".concat(this.x,",").concat(this.y)}},{key:"inBound",value:function(t,e){return t.x<this.x&&this.x<e.x&&t.y<this.y&&this.y<e.y}}]),t}();function ha(t,e,n){var i="illuminated-".concat(t),r=document.querySelector("#".concat(i));r||((r=document.createElement("canvas")).id=i,r.width=e,r.height=n,r.style.display="none",document.body.append(r));var o=r.getContext("2d");return o.clearRect(0,0,r.width,r.height),r.width=e,r.height=n,{canvas:r,ctx:o,w:e,h:n}}var ua=function(){var t=document.createElement("canvas");t.width=1,t.height=1;var e=t.getContext("2d");return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e.clearRect(0,0,1,1),e.fillStyle=t,e.fillRect(0,0,1,1);var i=h(e.getImageData(0,0,1,1).data,3),r=i[0],o=i[1],a=i[2];return"rgba(".concat([r,o,a,n],")")}}();!function(){var t=document.createElement("canvas");t.width=1,t.height=1;var e=t.getContext("2d");function n(t){var e=t.toString(16);return 1===e.length&&"0".concat(e),e}}();var da,ca=function(t,e,n){if(!e.has(t))throw TypeError("Cannot "+n)},ga=function(t,e,n){return ca(t,e,"read from private field"),n?n.call(t):e.get(t)},fa=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f(this,t),function(t,e,n){if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,void 0)}(this,da);var n=e.lights,i=e.color;this.lights=null!=n?n:[],this.color=null!=i?i:"rgba(0,0,0,0.9)"}return w(t,[{key:"compute",value:function(t,e){var n,i;ga(this,da)&&ga(this,da).w===t&&ga(this,da).h===e||(this,n=da,i=ha("dm",t,e),ca(this,n,"write to private field"),n.set(this,i));var r,o=ga(this,da).ctx,a=m((o.save(),o.clearRect(0,0,t,e),o.fillStyle=this.color,o.fillRect(0,0,t,e),o.globalCompositeOperation="destination-out",this.lights));try{for(a.s();!(r=a.n()).done;){r.value.mask(o)}}catch(ei){a.e(ei)}finally{a.f()}o.restore()}},{key:"render",value:function(t){t.drawImage(ga(this,da).canvas,0,0)}},{key:"getCanvas",value:function(){return ga(this,da).canvas}}]),t}();da=new WeakMap;var pa,wa,ma=Math.PI*(3-Math.sqrt(5)),ka=function(t,e,n){if(!e.has(t))throw TypeError("Cannot "+n)},va=function(t,e,n){return ka(t,e,"read from private field"),n?n.call(t):e.get(t)},_a=function(t,e,n){if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},ya=function(t,e,n,i){return ka(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n},ba=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f(this,t),_a(this,pa,void 0),_a(this,wa,void 0);var n=e.position,i=e.distance,r=e.diffuse;this.position=null!=n?n:new sa,this.distance=null!=i?i:100,this.diffuse=null!=r?r:.8}return w(t,[{key:"render",value:function(t){}},{key:"mask",value:function(t){var e=this.getVisibleMaskCache(),n=this.position,i=n.x,r=n.y;t.drawImage(e.canvas,Math.round(i-e.w/2),Math.round(r-e.h/2))}},{key:"bounds",value:function(){var t=this.position,e=this.distance,n=t.x,i=t.y;return{topLeft:new sa(n-e,i-e),bottomRight:new sa(n+e,i+e)}}},{key:"center",value:function(){var t=this.distance;return new sa(t,t)}},{key:"forEachSample",value:function(t){t(this.position)}},{key:"getVisibleMaskCache",value:function(){var t=Math.floor(1.4*this.distance),e="".concat(t);if(va(this,pa)!==e){ya(this,pa,e),ya(this,wa,ha("vm".concat(this.id),2*t,2*t));var n=va(this,wa),i=n.ctx,r=n.w,o=n.h,a=i.createRadialGradient(t,t,0,t,t,t);a.addColorStop(0,"rgba(0,0,0,1)"),a.addColorStop(1,"rgba(0,0,0,0)"),i.fillStyle=a,i.fillRect(0,0,r,o)}return va(this,wa)}},{key:"getHashCache",value:function(){return[this.distance,this.diffuse].toString()}}]),t}();pa=new WeakMap,wa=new WeakMap;var xa,Ca,Sa,Ia=function(t,e,n){if(!e.has(t))throw TypeError("Cannot "+n)},Ea=function(t,e,n){return Ia(t,e,"read from private field"),n?n.call(t):e.get(t)},Xa=function(t,e,n){if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Ya=function(t,e,n,i){return Ia(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n},Aa=function(t){i(n,t);var e=o(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f(this,n),t=e.call(this,i),Xa(l(t),xa,0),Xa(l(t),Ca,void 0),Xa(l(t),Sa,void 0);var r,o,a,s,h=i.id,u=i.color,d=i.radius,c=i.samples,g=i.angle,p=i.roughness;return t.id=null!=h?h:0,t.color=null!=u?u:"rgba(250,220,150,0.8)",t.radius=null!=d?d:0,t.samples=null!=c?c:1,t.angle=null!=g?g:0,t.roughness=null!=p?p:0,0===t.id&&(t.id=++(r=l(t),o=xa,{set _(t){Ya(r,o,t,a)},get _(){return Ea(r,o,s)}})._),t}return w(n,[{key:"getHashCache",value:function(){return[this.color,this.distance,this.diffuse,this.angle,this.roughness,this.samples,this.radius].toString()}},{key:"center",value:function(){var t=this.angle,e=this.roughness,n=this.distance;return new sa((1-Math.cos(t)*e)*n,(1+Math.sin(t)*e)*n)}},{key:"bounds",value:function(){var t=this.angle,e=this.roughness,n=this.distance,i=this.position,r=new sa(Math.cos(t),-Math.sin(t)).mul(e*n),o=r.x,a=r.y;return{topLeft:new sa(i.x+o-n,i.y+a-n),bottomRight:new sa(i.x+o+n,i.y+a+n)}}},{key:"mask",value:function(t){var e=this.angle,n=this.roughness,i=this.distance,r=this.position,o=this.getVisibleMaskCache(),a=o.canvas,l=o.w,s=o.h,h=new sa(Math.cos(e),-Math.sin(e)).mul(n*i),u=h.x,d=h.y;t.drawImage(a,Math.round(r.x+u-l/2),Math.round(r.y+d-s/2))}},{key:"getGradientCache",value:function(t){var e=this.getHashCache();if(Ea(this,Ca)===e)return Ea(this,Sa);Ya(this,Ca,e);var n=this.distance,i=this.id,r=this.radius,o=this.color,a=Math.round(n),l=2*a,s=ha("gc".concat(i),l,l),h=s.ctx,u=s.w,d=s.h,c=h.createRadialGradient(t.x,t.y,0,a,a,a);return c.addColorStop(Math.min(1,r/n),o),c.addColorStop(1,ua(o,0)),h.fillStyle=c,h.fillRect(0,0,u,d),Ya(this,Sa,s),s}},{key:"render",value:function(t){var e=this.position,n=e.x,i=e.y,r=this.center(),o=this.getGradientCache(r).canvas;t.drawImage(o,Math.round(n-r.x),Math.round(i-r.y))}},{key:"forEachSample",value:function(t){for(var e=this.samples,n=this.radius,i=this.position,r=0,o=e;r<o;++r){var a=r*ma,l=Math.sqrt(r/e)*n,s=new sa(Math.cos(a)*l,Math.sin(a)*l);t(i.add(s))}}}]),n}(ba);xa=new WeakMap,Ca=new WeakMap,Sa=new WeakMap;var Ta,La,Pa=function(t,e,n){if(!e.has(t))throw TypeError("Cannot "+n)},Ra=function(t,e,n){return Pa(t,e,"read from private field"),n?n.call(t):e.get(t)},za=function(t,e,n){if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Oa=function(t,e,n,i){return Pa(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n},Da=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f(this,t),za(this,Ta,void 0),za(this,La,void 0);var n=e.light,i=e.objects;this.light=null!=n?n:new ba,this.objects=null!=i?i:[]}return w(t,[{key:"createCache",value:function(t,e){Oa(this,Ta,ha("lc",t,e)),Oa(this,La,ha("lcc",t,e))}},{key:"compute",value:function(t,e){Ra(this,Ta)&&Ra(this,Ta).w===t&&Ra(this,Ta).h===e||this.createCache(t,e);var n=Ra(this,Ta).ctx;n.save(),n.clearRect(0,0,n.canvas.width,n.canvas.height),this.light.render(n),n.globalCompositeOperation="destination-out",this.cast(n),n.restore()}},{key:"cast",value:function(t){var e=Ra(this,La),n=e.ctx,i=e.w,r=e.h,o=e.canvas,a=this.light,l=a.samples;n.clearRect(0,0,i,r),n.fillStyle="rgba(0,0,0,".concat(Math.round(100/l)/100,")");var s,h=a.bounds(),u=h.topLeft,d=h.bottomRight,c=this.objects,g=m((a.forEachSample((function(t){for(var e=0,i=c.length;e<i;++e)if(c[e].contains(t))return void n.fillRect(u.x,u.y,d.x-u.x,d.y-u.y);var r,o=m(c);try{for(o.s();!(r=o.n()).done;){r.value.cast(n,t,h)}}catch(ei){o.e(ei)}finally{o.f()}})),c));try{for(g.s();!(s=g.n()).done;){var f=s.value,p=f.diffuse;p*=a.diffuse,n.fillStyle="rgba(0,0,0,".concat(1-p,")"),n.beginPath(),f.path(n),n.fill()}}catch(ei){g.e(ei)}finally{g.f()}t.drawImage(o,0,0)}},{key:"render",value:function(t){t.drawImage(Ra(this,Ta).canvas,0,0)}},{key:"getCanvas",value:function(){return Ra(this,Ta).canvas}}]),t}();Ta=new WeakMap,La=new WeakMap;var Na=function(){function t(e){var n,i;f(this,t),this.game=e,this.background=document.querySelector("#background"),this.foreground=document.querySelector("#foreground"),this.overlay=document.querySelector("#overlay"),this.textCanvas=document.querySelector("#text-canvas"),this.entitiesCanvas=document.querySelector("#entities"),this.cursor=document.querySelector("#cursor"),this.canvases=[this.background,this.entitiesCanvas,this.foreground,this.overlay,this.textCanvas,this.cursor],this.lightings=[],this.map=this.game.map,this.camera=this.game.camera,this.tileSize=this.game.map.tileSize,this.actualTileSize=this.tileSize*this.camera.zoomFactor,this.fontSize=10,this.screenWidth=0,this.screenHeight=0,this.canvasHeight=0,this.canvasWidth=0,this.time=Date.now(),this.fps=0,this.frameCount=0,this.renderedFrame=[0,0],this.animatedTiles={},this.stopRendering=!1,this.animateTiles=!0,this.debugging=!1,this.autoCentre=!1,this.drawNames=!0,this.drawLevels=!0,this.transitioning=!1,this.mobile=bt(),this.tablet=(n=/ipad/.test(vt),i=/android/.test(vt),(n||i)&&window.innerWidth>=640),this.forceRendering=(this.mobile||this.tablet)&&this.camera.isCentered(),this.tiles={},this.cells={},this.darkMask=new fa({lights:[],color:"rgba(0, 0, 0, 0.84)"}),this.entitiesContext=this.entitiesCanvas.getContext("2d"),this.backContext=this.background.getContext("2d"),this.foreContext=this.foreground.getContext("2d"),this.overlayContext=this.overlay.getContext("2d"),this.textContext=this.textCanvas.getContext("2d"),this.cursorContext=this.cursor.getContext("2d"),this.allContexts=[this.entitiesContext,this.backContext,this.foreContext,this.overlayContext,this.textContext,this.cursorContext],this.contexts=[this.entitiesContext,this.textContext,this.overlayContext],this.drawingContexts=[this.backContext,this.foreContext],this.darkMask.compute(this.overlay.width,this.overlay.height),this.loadSizes()}return w(t,[{key:"loadSizes",value:function(){var t=this;this.actualTileSize=this.tileSize*this.camera.zoomFactor,this.screenWidth=this.camera.gridWidth*this.tileSize,this.screenHeight=this.camera.gridHeight*this.tileSize,this.canvasWidth=this.screenWidth*this.camera.zoomFactor,this.canvasHeight=this.screenHeight*this.camera.zoomFactor,this.forEachCanvas((function(e){e.width=t.canvasWidth,e.height=t.canvasHeight}))}},{key:"loadStaticSprites",value:function(){this.shadowSprite=this.game.sprites.get("shadow16"),this.shadowSprite.loaded||this.shadowSprite.load(),this.sparksSprite=this.game.sprites.get("sparks"),this.sparksSprite.loaded||this.sparksSprite.load()}},{key:"resize",value:function(){this.cells={},this.mobile=bt(),this.camera.update(),this.loadSizes(),this.updateAnimatedTiles(),this.clearScreen(this.cursorContext),this.camera.centreOn(this.game.player),this.forceRendering=!0}},{key:"stop",value:function(){this.stopRendering=!0,this.forEachContext((function(t){t.fillStyle="rgba(18, 16, 13, 1)",t.fillRect(0,0,t.canvas.width,t.canvas.height)}))}},{key:"removeSmoothing",value:function(){this.forAllContexts((function(t){t.imageSmoothingQuality="low",t.imageSmoothingEnabled=!1}))}},{key:"render",value:function(){this.stopRendering||(this.clear(),this.save(),this.removeSmoothing(),this.draw(),this.drawAnimatedTiles(),this.drawDebugging(),this.drawOverlays(),this.drawHoveringCell(),this.drawSelectedCell(),this.drawEntities(),this.drawInfos(),this.drawCursor(),this.restore())}},{key:"draw",value:function(){var t=this;this.hasRenderedFrame()||(this.clearDrawing(),this.saveDrawing(),this.updateDrawingView(),this.forEachVisibleTile((function(e,n){var i=t.map.isHighTile(e)?t.foreContext:t.backContext;t.game.overlays.hasOverlay()&&(i=t.map.isLightTile(e)?t.overlayContext:i);var r=t.getFlipped(e);r.length>0&&(e=e.tileId),t.map.isAnimatedTile(e)&&t.animateTiles||t.drawTile(i,e-1,n,r)})),this.restoreDrawing(),this.saveFrame())}},{key:"drawAnimatedTiles",value:function(){var t=this;this.animateTiles&&(this.entitiesContext.save(),this.setCameraView(this.entitiesContext),this.forEachAnimatedTile((function(e){t.camera.isVisible(e.x,e.y,3,2)&&(e.animate(t.game.time),t.drawTile(t.entitiesContext,e.id,e.index))})),this.entitiesContext.restore())}},{key:"drawDebugging",value:function(){this.debugging&&(this.drawFPS(),this.drawPathing(),this.mobile||(this.drawPosition(),this.drawCollisions()))}},{key:"drawOverlays",value:function(){var t=this;if(this.game.overlays.hasOverlay()){var e=this.game.overlays.get();e&&(this.overlayContext.fillStyle=this.overlayContext.createPattern(e,"repeat"),this.overlayContext.fillRect(0,0,this.canvasWidth,this.canvasHeight),this.overlayContext.fill()),this.overlayContext.globalCompositeOperation="lighter",this.forEachLighting((function(e){t.inRadius(e)&&t.drawLighting(e)})),this.overlayContext.globalCompositeOperation="source-over",this.darkMask.render(this.overlayContext)}}},{key:"drawHoveringCell",value:function(){if(!this.mobile){var t=this.game.input,e=t.getCoords();if(!this.isSelectedCell(e.x,e.y)){var n=this.map.isColliding(e.x,e.y);this.drawCellHighlight(e.x,e.y,n?"rgba(230, 0, 0, 0.7)":t.targetColour)}}}},{key:"drawSelectedCell",value:function(){if(this.game.input.selectedCellVisible&&!this.game.input.keyMovement){var t=this.game.input.getTargetData();t&&(this.entitiesContext.save(),this.setCameraView(this.entitiesContext),this.entitiesContext.drawImage(t.sprite.image,t.x,t.y,t.width,t.height,t.dx,t.dy,t.dw,t.dh),this.entitiesContext.restore())}}},{key:"drawEntities",value:function(){var t=this;this.game.player.dead||(this.setCameraView(this.entitiesContext),this.forEachVisibleEntity((function(e){e.spriteLoaded&&e.sprite&&e.animation&&e.isVisible()&&t.drawEntity(e)})))}},{key:"drawInfos",value:function(){var t=this;this.game.info.isEmpty()||this.game.info.forEachInfo((function(e){t.textContext.save(),t.setCameraView(t.textContext),t.textContext.globalAlpha=e.opacity,t.drawText("".concat(e.getText()),Math.floor(e.x+8),Math.floor(e.y),!0,e.fill,e.stroke,26),t.textContext.restore()}))}},{key:"drawCursor",value:function(){if(!(this.tablet||this.mobile||this.game.input.isMouseRendered())){var t=this.game.input,e=t.cursor,n=t.mouse;e&&n&&(this.clearScreen(this.cursorContext),this.cursorContext.save(),e.loaded?this.cursorContext.drawImage(e.image,0,0,this.tileSize,this.tileSize,n.x,n.y,this.actualTileSize,this.actualTileSize):e.load(),this.cursorContext.restore(),this.game.input.saveMouse())}}},{key:"drawFPS",value:function(){this.calculateFPS(),this.drawText("FPS: ".concat(this.fps),10,31,!1,"white")}},{key:"calculateFPS",value:function(){var t=Date.now();t-this.time>=1e3&&(this.fps=this.frameCount,this.frameCount=0,this.time=t),this.frameCount++}},{key:"drawPosition",value:function(){var t=this.game,e=t.player,n=t.input;this.drawText("x: ".concat(e.gridX," y: ").concat(e.gridY," tileIndex: ").concat(this.map.coordToIndex(e.gridX,e.gridY)),10,51,!1,"white"),n.hovering&&n.entity&&(this.drawText("x: ".concat(n.entity.gridX," y: ").concat(n.entity.gridY," instance: ").concat(n.entity.instance),10,71,!1,"white"),n.entity.attackRange&&this.drawText("att range: ".concat(n.entity.attackRange),10,91,!1,"white"))}},{key:"drawCollisions",value:function(){var t=this;this.camera.forEachVisiblePosition((function(e,n){t.map.isOutOfBounds(e,n)||0!==t.map.grid[n][e]&&t.drawCellHighlight(e,n,"rgba(50, 50, 255, 0.5)")}))}},{key:"drawPathing",value:function(){var t=this;this.game.player.hasPath()&&It.each(this.game.player.path,(function(e){return t.drawCellHighlight(e[0],e[1],"rgba(50, 255, 50, 0.5)")}))}},{key:"drawEntity",value:function(t){var e,n=null===(e=t.animation)||void 0===e?void 0:e.currentFrame,i=t.x*this.camera.zoomFactor,r=t.y*this.camera.zoomFactor,o=i+this.actualTileSize,a=r+t.sprite.height;this.entitiesContext.save(),t.angled&&!t.isProjectile()&&(t.angle*=Math.PI/180),t.fading&&(this.entitiesContext.globalAlpha=t.fadingAlpha),t.spriteFlipX?(this.entitiesContext.translate(o,r),this.entitiesContext.scale(-1,1)):t.spriteFlipY?(this.entitiesContext.translate(i,a),this.entitiesContext.scale(1,-1)):this.entitiesContext.translate(i,r),this.entitiesContext.scale(this.camera.zoomFactor,this.camera.zoomFactor),t.customScale&&this.entitiesContext.scale(t.customScale,t.customScale),t.angled&&this.entitiesContext.rotate(t.isProjectile()?t.getAngle():t.angle),t.hasShadow()&&(this.entitiesContext.globalCompositeOperation="source-over",this.entitiesContext.drawImage(this.shadowSprite.image,0,0,this.shadowSprite.width,this.shadowSprite.height,0,t.shadowOffsetY,this.shadowSprite.width,this.shadowSprite.height)),this.entitiesContext.drawImage(t.sprite.image,n.x,n.y,t.sprite.width,t.sprite.height,t.sprite.offsetX,t.sprite.offsetY,t.sprite.width,t.sprite.height),this.drawEntityFore(t),this.entitiesContext.restore(),this.drawHealth(t),this.game.overlays.hasOverlay()||this.drawName(t)}},{key:"drawEntityFore",value:function(t){if(t.isItem())return this.drawSparks();t instanceof Dt&&(t.isPlayer()&&this.drawWeapon(t),t.hasEffect()&&this.drawEffect(t))}},{key:"drawWeapon",value:function(t){if(t.hasWeapon()&&!t.dead&&!t.teleporting){var e=this.game.sprites.get(t.getWeapon().key);if(e){e.loaded||e.load();var n=t.animation,i=e.animationData[n.name],r=n.currentFrame,o=r.index<i.length?r.index:r.index%i.length,a=e.width*o,l=e.height*n.row,s=e.width,h=e.height;this.entitiesContext.drawImage(e.image,a,l,s,h,e.offsetX,e.offsetY,s,h)}}}},{key:"drawEffect",value:function(t){var e=this.game.sprites.get(t.getActiveEffect());if(e){e.loaded||e.load();var n=t.getEffectAnimation(),i=n.currentFrame.index,r=e.width*i,o=e.height*n.row;this.entitiesContext.drawImage(e.image,r,o,e.width,e.height,e.offsetX,e.offsetY,e.width,e.height),n.update(this.game.time)}}},{key:"drawSparks",value:function(){var t=this.game.entities.sprites.sparksAnimation,e=t.currentFrame;this.entitiesContext.drawImage(this.sparksSprite.image,this.sparksSprite.width*e.index,this.sparksSprite.height*t.row,this.sparksSprite.width,this.sparksSprite.height,0,0,this.sparksSprite.width,this.sparksSprite.height)}},{key:"drawHealth",value:function(t){if(t.hitPoints&&!(t.hitPoints<0)&&t.healthBarVisible){var e=t.x*this.camera.zoomFactor-8+8,n=(t.y-t.sprite.height/4)*this.camera.zoomFactor,i=Math.round(t.hitPoints/t.maxHitPoints*16*this.camera.zoomFactor),r=2*this.camera.zoomFactor;this.textContext.save(),this.setCameraView(this.textContext),this.textContext.strokeStyle="rbga(0, 0, 0, 1)",this.textContext.lineWidth=1,this.textContext.strokeRect(e,n,16*this.camera.zoomFactor,r),this.textContext.fillStyle="rgba(253, 0, 0, 1)",this.textContext.fillRect(e,n,i,r),this.textContext.restore()}}},{key:"drawName",value:function(t){if(!t.hidden&&t.drawNames()&&(this.drawNames||this.drawLevels)){var e=t.wanted?"red":"white";if(t.rights>1?e="rgba(186,20,20, 1)":t.rights>0&&(e="rgba(165, 154, 154, 1)"),t.instance===this.game.player.instance&&(e="rgba(252,218,92, 1)"),t.nameColour&&(e=t.nameColour),this.textContext.save(),this.setCameraView(this.textContext),this.textContext.font="11px AdvoCut",t.hasCounter)this.game.time-t.countdownTime>1e3&&(t.countdownTime=this.game.time,t.counter--),t.counter<=0&&(t.hasCounter=!1),this.drawText(t.counter.toString(),t.x+8,t.y-10,!0,e);else{var n=t.x+8,i=t.y-Math.floor(t.sprite.height/3);this.drawNames&&t instanceof Dt&&this.drawText(t.name,n,this.drawLevels&&!t.isNPC()?i-8:i,!0,e,"rbga(0, 0, 0, 1)"),this.drawLevels&&(t.isMob()||t.isPlayer())&&this.drawText("Level ".concat(t.level),n,i,!0,e,"rbga(0, 0, 0, 1)"),t.isItem()&&(t.count>1&&this.drawText(t.count.toString(),n,i,!0,e),t.ability>-1&&this.drawText("".concat(ot[t.ability]," [+").concat(t.abilityLevel,"]"),n,t.y+20,!0,e))}this.textContext.restore()}}},{key:"drawLighting",value:function(t){if(t.relative){var e=(t.light.origX-this.camera.x/this.tileSize)*this.actualTileSize,n=(t.light.origY-this.camera.y/this.tileSize)*this.actualTileSize;t.light.position=new sa(e,n),t.compute(this.overlay.width,this.overlay.height),this.darkMask.compute(this.overlay.width,this.overlay.height)}else t.computed||(t.compute(this.overlay.width,this.overlay.height),t.computed=!0);t.render(this.overlayContext)}},{key:"drawTile",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(!(e<0)){var r=this.map.getTilesetFromId(e);if(r){if(!(e in this.tiles)){var o=r.width/this.tileSize,a=e-r.firstGID;this.tiles[e]={relativeTileId:a,setWidth:o,x:this.getX(a+1,o)*this.tileSize,y:Math.floor(a/o)*this.tileSize,width:this.tileSize,height:this.tileSize}}(!(n in this.cells)||i.length>0)&&(this.cells[n]={dx:this.getX(n+1,this.map.width)*this.actualTileSize,dy:Math.floor(n/this.map.width)*this.actualTileSize,width:this.actualTileSize,height:this.actualTileSize,flips:i}),this.drawImage(t,r,this.tiles[e],this.cells[n])}}}},{key:"drawImage",value:function(t,e,n,i){var r=0,o=0,a=i.flips.length>0;if(t){if(a){r=i.dx,o=i.dy,t.save();var l,s=r,h=m(i.flips);try{for(h.s();!(l=h.n()).done;){switch(l.value){case 0:r=-r-i.width,t.scale(-1,1);break;case 1:o=-o-i.height,t.scale(1,-1);break;case 2:t.rotate(Math.PI/2),t.translate(0,-i.height),r=o,o=-s,i.flips.push(0)}}}catch(ei){h.e(ei)}finally{h.f()}}t.drawImage(e,n.x,n.y,n.width,n.height,r||i.dx,o||i.dy,i.width,i.height),a&&t.restore()}}},{key:"drawText",value:function(t,e,n,i,r,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this.fontSize,l=3,s=this.textContext;s.save(),i&&(s.textAlign="center"),a+=2*this.camera.zoomFactor,s.strokeStyle=o||"rgba(55, 55, 55, 1)",s.lineWidth=l,s.font="".concat(a,"px AdvoCut"),s.strokeText(t,e*this.camera.zoomFactor,n*this.camera.zoomFactor),s.fillStyle=r||"white",s.fillText(t,e*this.camera.zoomFactor,n*this.camera.zoomFactor),s.restore()}},{key:"updateAnimatedTiles",value:function(){var t=this;this.animateTiles&&this.forEachVisibleTile((function(e,n){if(t.map.isAnimatedTile(e)&&!(n in t.animatedTiles)){var i=new la(e,n,t.map.getTileAnimation(e)),r=t.map.indexToCoord(i.index);i.setPosition(r),t.animatedTiles[n]=i}}),2)}},{key:"resetAnimatedTiles",value:function(){It.each(this.animatedTiles,(function(t){t.animationIndex=0}))}},{key:"drawCellRect",value:function(t,e,n){this.entitiesContext.save(),this.setCameraView(this.entitiesContext),this.entitiesContext.lineWidth=2*this.camera.zoomFactor,this.entitiesContext.translate(t+2,e+2),this.entitiesContext.strokeStyle=n,this.entitiesContext.strokeRect(0,0,this.actualTileSize-4,this.actualTileSize-4),this.entitiesContext.restore()}},{key:"drawCellHighlight",value:function(t,e,n){this.drawCellRect(t*this.actualTileSize,e*this.actualTileSize,n)}},{key:"updateDarkMask",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"rgba(0, 0, 0, 0.5)";this.darkMask.color=t,this.darkMask.compute(this.overlay.width,this.overlay.height)}},{key:"addLight",value:function(t){var e=new Aa(this.getLightData(t.x,t.y,t.distance,t.diffuse,t.colour)),n=new Da({light:e});e.origX=e.position.x,e.origY=e.position.y,e.diff=Math.round(e.distance/16),this.hasLighting(n)||(n.relative=!0,this.lightings.push(n),this.darkMask.lights.push(e),this.drawLighting(n),this.darkMask.compute(this.overlay.width,this.overlay.height))}},{key:"removeAllLights",value:function(){this.lightings=[],this.darkMask.lights=[],this.darkMask.compute(this.overlay.width,this.overlay.height)}},{key:"removeNonRelativeLights",value:function(){var t=this;It.each(this.lightings,(function(e,n){e.light.relative||(t.lightings.splice(n,1),t.darkMask.lights.splice(n,1))})),this.darkMask.compute(this.overlay.width,this.overlay.height)}},{key:"hasLighting",value:function(t){for(var e=0;e<this.lightings.length;e++){var n=this.lightings[e].light;if(t.light.origX===n.origX&&t.light.origY===n.origY&&t.light.distance===n.distance)return!0}return!1}},{key:"clear",value:function(){this.forEachContext((function(t){return t.clearRect(0,0,t.canvas.width,t.canvas.height)}))}},{key:"clearDrawing",value:function(){this.forEachDrawingContext((function(t){return t.clearRect(0,0,t.canvas.width,t.canvas.height)}))}},{key:"restore",value:function(){this.forEachContext((function(t){return t.restore()}))}},{key:"restoreDrawing",value:function(){this.forEachDrawingContext((function(t){return t.restore()}))}},{key:"hasRenderedFrame",value:function(){return!(this.forceRendering||this.mobile&&this.camera.isCentered())&&(!!this.stopRendering||this.renderedFrame[0]===this.camera.x&&this.renderedFrame[1]===this.camera.y)}},{key:"save",value:function(){this.forEachContext((function(t){return t.save()}))}},{key:"saveDrawing",value:function(){this.forEachDrawingContext((function(t){return t.save()}))}},{key:"saveFrame",value:function(){this.mobile&&this.camera.isCentered()||(this.renderedFrame[0]=this.camera.x,this.renderedFrame[1]=this.camera.y,this.forceRendering=!1)}},{key:"updateDrawingView",value:function(){var t=this;this.forEachDrawingContext((function(e){return t.setCameraView(e)}))}},{key:"setCameraView",value:function(t){this.camera&&!this.stopRendering&&t.translate(-this.camera.x*this.camera.zoomFactor,-this.camera.y*this.camera.zoomFactor)}},{key:"clearScreen",value:function(t){t.clearRect(0,0,this.entitiesContext.canvas.width,this.entitiesContext.canvas.height)}},{key:"setBrightness",value:function(t){t<0||t>100||this.forEachCanvas((function(e){e.style.background="rgba(0,0,0,".concat(.25-t/200,")")}))}},{key:"getX",value:function(t,e){return 0===t?0:t%e==0?e-1:t%e-1}},{key:"isFlipped",value:function(t){return t.v||t.h||t.d}},{key:"isSelectedCell",value:function(t,e){return this.game.input.selectedX===t&&this.game.input.selectedY===e}},{key:"inRadius",value:function(t){var e=t.light.origX,n=t.light.origY,i=t.light.diff;return e>this.camera.gridX-i&&e<this.camera.gridX+this.camera.gridWidth+i&&n>this.camera.gridY-i&&n<this.camera.gridY+this.camera.gridHeight+i}},{key:"getMiddle",value:function(){return{x:this.overlay.width/2,y:this.overlay.height/2}}},{key:"getFlipped",value:function(t){var e=[];return this.isFlipped(t)?(t.d&&e.push(2),t.v&&e.push(1),t.h&&e.push(0),e):e}},{key:"getLightData",value:function(t,e,n,i,r){return{position:new sa(t,e),distance:n,diffuse:i,color:r,radius:0,samples:2,roughness:0,angle:0}}},{key:"forAllContexts",value:function(t){It.each(this.allContexts,t)}},{key:"forEachContext",value:function(t){It.each(this.contexts,t)}},{key:"forEachDrawingContext",value:function(t){It.each(this.drawingContexts,t)}},{key:"forEachCanvas",value:function(t){It.each(this.canvases,t)}},{key:"forEachLighting",value:function(t){It.each(this.lightings,t)}},{key:"forEachAnimatedTile",value:function(t){It.each(this.animatedTiles,t)}},{key:"forEachVisibleIndex",value:function(t,e){var n=this;this.camera.forEachVisiblePosition((function(e,i){n.map.isOutOfBounds(e,i)||t(n.map.coordToIndex(e,i))}),e)}},{key:"forEachVisibleTile",value:function(t,e){var n=this;this.map&&this.map.mapLoaded&&this.forEachVisibleIndex((function(e){var i=n.map.data[e];if(Array.isArray(i)){var r,o=m(i);try{for(o.s();!(r=o.n()).done;){var a=r.value;t(a,e)}}catch(ei){o.e(ei)}finally{o.f()}}else n.map.data[e]&&t(n.map.data[e],e)}),e)}},{key:"forEachVisibleEntity",value:function(t){var e=this,n=this.game.entities.grids;this.camera.forEachVisiblePosition((function(i,r){!e.map.isOutOfBounds(i,r)&&n.renderingGrid[r][i]&&It.each(n.renderingGrid[r][i],(function(e){return t(e)}))}))}}]),t}(),ja=function(){function t(e){f(this,t),this.game=e,this.tileSize=this.game.map.tileSize,this.sprites=null}return w(t,[{key:"update",value:function(){this.updateEntities(),this.updateKeyboard(),this.updateAnimations(),this.updateInfos(),this.updateBubbles()}},{key:"updateEntities",value:function(){var t=this;this.game.entities.forEachEntity((function(e){var n;if(e.spriteLoaded){if(t.updateFading(e),null===(n=e.animation)||void 0===n||n.update(t.game.time),e instanceof Qt){var i=e.speed*e.getTimeDiff(),r=e.target.x-e.x,o=e.target.y-e.y,a=Math.sqrt(r*r+o*o),l=i/a;return e.updateAngle(),l>1&&(l=1),e.x+=r*l,e.y+=o*l,a<5&&e.impact(),void(e.lastUpdate=t.game.time)}if(e instanceof Dt){if(e.movement.inProgress)return e.movement.step(t.game.time);if(e.hasPath()){var s,h,u=e.orientation===$.Left||e.orientation===$.Right,d=e.orientation===$.Up||e.orientation===$.Down;u&&(s=e.orientation===$.Left),d&&(h=e.orientation===$.Up),e.movement.start(t.game.time,u?e.x+(s?-1:1):e.y+(h?-1:1),u?e.x+(s?-t.tileSize:t.tileSize):e.y+(h?-t.tileSize:t.tileSize),e.movementSpeed,(function(t){u&&(e.x=t),d&&(e.y=t),e.moved()}),(function(){u&&(e.x=e.movement.endValue),d&&(e.y=e.movement.endValue),e.moved(),e.nextStep()}))}}}}))}},{key:"updateFading",value:function(t){if(t.fading){var e=this.game.time-t.fadingTime;e>t.fadingDuration?(t.fading=!1,t.fadingAlpha=1):t.fadingAlpha=e/t.fadingDuration}}},{key:"updateKeyboard",value:function(){var t=this.game,e=t.player,n=t.input,i={x:e.gridX,y:e.gridY};!e.frozen&&e.hasKeyboardMovement()&&(e.moveUp?i.y--:e.moveDown?i.y++:e.moveRight?i.x++:e.moveLeft&&i.x--,n.keyMove(i))}},{key:"updateAnimations",value:function(){var t=this.game.input.targetAnimation;if(t&&this.game.input.selectedCellVisible&&t.update(this.game.time),this.sprites){var e=this.sprites.sparksAnimation;null==e||e.update(this.game.time)}}},{key:"updateInfos",value:function(){this.game.info.update(this.game.time)}},{key:"updateBubbles",value:function(){var t,e;null===(t=this.game.bubble)||void 0===t||t.update(this.game.time),null===(e=this.game.pointer)||void 0===e||e.update()}},{key:"setSprites",value:function(t){this.sprites=t}}]),t}();var qa=function(t,e,n,i,r,o,a,l,s,h,u,d,c){return t&&(n&&!s[r][a]&&(d[c++]={x:a,y:r}),i&&!s[r][l]&&(d[c++]={x:l,y:r})),e&&(n&&!s[o][a]&&(d[c++]={x:a,y:o}),i&&!s[o][l]&&(d[c++]={x:l,y:o})),d},Ma=function(t,e,n,i,r,o,a,l,s,h,u,d,c){return t=r>-1,e=o<h,i=l>-1,a<u&&(t&&!s[r][a]&&(d[c++]={x:a,y:r}),e&&!s[o][a]&&(d[c++]={x:a,y:o})),i&&(t&&!s[r][l]&&(d[c++]={x:l,y:r}),e&&!s[o][l]&&(d[c++]={x:l,y:o})),d},Ba=function(t,e,n,i,r,o,a,l,s,h,u,d){return d};function Fa(t,e,n,i,r,o){var a=n-1,l=n+1,s=e+1,h=e-1,u=a>-1&&!i[a][e],d=l<r&&!i[l][e],c=s<o&&!i[n][s],g=h>-1&&!i[n][h],f=[],p=0;return u&&(f[p++]={x:e,y:a}),c&&(f[p++]={x:s,y:n}),d&&(f[p++]={x:e,y:l}),g&&(f[p++]={x:h,y:n}),t(u,d,c,g,a,l,s,h,i,r,o,f,p)}var Ha=function(t,e,n,i){return i(n(t.x-e.x),n(t.y-e.y))},Ua=function(t,e,n,i){var r=t.x-e.x,o=t.y-e.y;return i(r*r+o*o)},Wa=function(t,e,n){return n(t.x-e.x)+n(t.y-e.y)},Va=function(){function t(){f(this,t),this.mode="DEFAULT",this.ignores=[]}return w(t,[{key:"find",value:function(t,e,n,i,r){return this.handleIgnore(t,!0),
/**
             * A* (A-Star) algorithm for a path finder
             * @author  Andrea Giammarchi
             * @license Mit Style License
             */
function(t,e,n,i){var r,o,a,l,s=t[0].length,u=t.length,d=s*u,c=Math.max,g={},f=[],p=[{x:e[0],y:e[1],f:0,g:0,v:e[0]+e[1]*s}],w=1,m={x:n[0],y:n[1],v:n[0]+n[1]*s};switch(i){case"Diagonal":case"Euclidean":o=qa;case"DiagonalFree":r=Ha;break;case"EuclideanFree":c=Math.sqrt,r=Ua;break;default:r=Wa,o=Ba}o||(o=Ma);do{if(w>100)return[];for(var k=d,v=0,_=0;_<w;++_){var y=p[_].f;y<k&&(k=y,v=_)}if((a=h(p.splice(v,1),1)[0]).v!==m.v){--w;for(var b=0,x=(l=Fa(o,a.x,a.y,t,u,s)).length;b<x;++b){var C=l[b];C.p=a,C.f=C.g=0,C.v=C.x+C.y*s,C.v in g||(C.f=(C.g=a.g+r(C,a,Math.abs,c))+r(C,m,Math.abs,c),p[w++]=C,g[C.v]=1)}}else{var S=w=0;do{f[S++]=[a.x,a.y]}while(a=a.p);f.reverse()}}while(w);return f}(t,[e,n],[i,r],this.mode)}},{key:"handleIgnore",value:function(t,e){It.each(this.ignores,(function(n){var i=n.hasPath()?n.nextGridX:n.gridX,r=n.hasPath()?n.nextGridY:n.gridY;i>=0&&r>=0&&(t[r][i]=e?0:1)}))}},{key:"addIgnore",value:function(t){t&&this.ignores.push(t)}},{key:"clearIgnores",value:function(t){this.handleIgnore(t,!1),this.ignores=[]}}]),t}(),Za=function(){function t(e){var n=this;f(this,t),this.app=e,this.storage=this.app.storage,this.player=new Zt(""),this.zoning=new Se,this.overlays=new aa,this.pathfinder=new Va,this.info=new ee,this.sprites=new be,this.map=new Pe(this),this.camera=new oa(this.map.width,this.map.height,this.map.tileSize),this.renderer=new Na(this),this.input=new re(this),this.socket=new ra(this),this.pointer=new Ce(this),this.updater=new ja(this),this.audio=new Et(this),this.entities=new Jt(this),this.bubble=new Lt(this),this.menu=new ve(this),this.connection=new Or(this),this.time=Date.now(),this.lastTime=Date.now(),this.started=!1,this.ready=!1,this.pvp=!1,this.app.sendStatus("Loading game"),this.map.onReady((function(){return n.app.ready()})),this.app.onLogin(this.socket.connect.bind(this.socket)),this.app.onResize(this.resize.bind(this)),this.app.onRespawn(this.respawn.bind(this)),this.player.onSync(this.handlePlayerSync.bind(this))}return w(t,[{key:"start",value:function(){this.started||(this.started=!0,this.app.fadeMenu(),this.tick())}},{key:"tick",value:function(){var t=this;this.time=Date.now(),this.renderer.render(),this.updater.update(),this.started&&requestAnimationFrame((function(){return t.tick()}))}},{key:"handleDisconnection",value:function(){this.app.isMenuHidden()&&location.reload()}},{key:"handlePlayerSync",value:function(){this.menu.synchronize(),this.player.setSprite(this.sprites.get(this.player.getSpriteName()))}},{key:"postLoad",value:function(){this.renderer.loadStaticSprites(),this.entities.addEntity(this.player),this.player.setSprite(this.sprites.get(this.player.getSpriteName())),this.storage&&this.player.setOrientation(this.storage.data.player.orientation),this.player.idle(),this.camera.centreOn(this.player),this.map&&this.socket.send(Y.Ready,{hasMapData:this.map.preloadedData,userAgent:vt}),new Ie(this,this.player),this.renderer.updateAnimatedTiles(),this.updater.setSprites(this.entities.sprites),this.storage.data.new&&(this.storage.data.new=!1,this.storage.save())}},{key:"findPath",value:function(t,e,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=[];return this.map.isColliding(e,n)&&!this.map.isObject(e,n)||(r&&It.each(r,(function(t){return i.pathfinder.addIgnore(t)})),a=this.pathfinder.find(this.map.grid,t.gridX,t.gridY,e,n),r&&this.pathfinder.clearIgnores(this.map.grid),o&&a.pop()),a}},{key:"respawn",value:function(){this.audio.play(it.SFX,"revive"),this.app.body.classList.remove("death"),this.socket.send(Y.Respawn,[])}},{key:"resize",value:function(){this.renderer.resize(),this.pointer.resize(),this.menu.resize()}},{key:"getEntityAt",value:function(t,e){if(this.entities){var n=this.entities.grids.renderingGrid[e][t],i=It.keys(n),r=i.indexOf(this.player.instance);return-1!==r&&i.splice(r,1),n[i[0]]}}},{key:"teleport",value:function(t,e,n){this.entities.unregisterPosition(t),t.setGridPosition(e,n),this.entities.registerPosition(t),t.frozen=!1,t.instance===this.player.instance&&(t.clearHealthBar(),this.camera.centreOn(t),this.renderer.updateAnimatedTiles())}}]),t}();new Za(new xt)}}}))}();
